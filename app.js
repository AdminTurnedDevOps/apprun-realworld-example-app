!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){void 0===n&&(n={}),n.debug&&console.log("on: "+e),this._events[e]=this._events[e]||[],this._events[e].push({fn:t,options:n})},e.prototype.run=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this._events[e];console.assert(!!a,"No subscriber for event: "+e),a&&(this._events[e]=a.filter(function(r){var a=r.fn,o=r.options;return o.delay?t.delay(e,a,n,o):(o.debug&&console.log("run: "+e,n),a.apply(t,n)),!r.options.once}))},e.prototype.delay=function(e,t,n,r){var a=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log("run-delay "+r.delay+":"+e,n),t.apply(a,n)},r.delay)},e}();t.App=r,t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(6),o=n(8);t.Component=o.Component;var l=n(9),i=n(3);t.on=i.on,t.update=i.update,r.default.createElement=a.createElement,r.default.render=a.render,r.default.start=function(e,t,n,r,a){var l=Object.assign(a||{},{render:!0,global_event:!0}),i=new o.Component(t,n,r);return i.mount(e,l),i},"object"==typeof window&&(window.app=r.default,document.addEventListener("DOMContentLoaded",function(){return new l.default})),t.default=r.default},,function(e,t,n){"use strict";function r(e,n){return void 0===n&&(n={}),function(r,a,o){return t.Reflect.defineMetadata("apprun-update:"+e,{name:e,action:[o.value,n]},r),o}}function a(e,n){return void 0===n&&(n={}),function(n,r){t.Reflect.defineMetadata("apprun-update:"+e,{name:e,key:r},n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Reflect={meta:new WeakMap,defineMetadata:function(e,t,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[e]=t},getMetadataKeys:function(e){return e=Object.getPrototypeOf(e),this.meta.get(e)?Object.keys(this.meta.get(e)):[]},getMetadata:function(e,t){return t=Object.getPrototypeOf(t),this.meta.get(t)?this.meta.get(t)[e]:null}},t.update=r,t.on=a},function(e,t,n){"use strict";function r(e,t){d=0,t&&e&&(e.firstChild?a(e.firstChild,t):e.appendChild(i(t)))}function a(e,t){if(console.assert(!!e),!o(e,t))return void e.parentNode.replaceChild(i(t),e);for(var n=Math.min(e.childNodes.length,t.children.length),r=0;r<n;r++){var s=t.children[r];if("string"==typeof s)e.childNodes[r].textContent!==s&&e.replaceChild(l(s),e.childNodes[r]);else{var u=s.props&&s.props.key,f=u&&h[u];f&&f!==e.childNodes[r]&&e.insertBefore(f,e.childNodes[r]),a(e.childNodes[r],s)}}for(var p=e.childNodes.length;p>n;)e.removeChild(e.lastChild),p--;if(t.children.length){for(var d=document.createDocumentFragment(),r=n;r<t.children.length;r++)d.appendChild(i(t.children[r]));e.appendChild(d)}c(e,t.props)}function o(e,t){if(!e||!t)return!1;var n=""+e.nodeName,r=""+(t.tag||"");return n.toLowerCase()===r.toLowerCase()}function l(e){if(0===e.indexOf("_html:")){var t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e.substring(6)),t}return document.createTextNode(e)}function i(e){if(console.assert(null!==e&&void 0!==e),"string"==typeof e)return l(e);if(!e.tag)return l(JSON.stringify(e));var t="svg"===e.tag?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);return s(t,e.props),e.children&&e.children.forEach(function(e){return t.appendChild(i(e))}),t}function s(e,t){if(console.assert(!!e),t){e[p]=t;for(var n in t){var r=t[n];if("style"===n)for(var a in r)e.style[a]=r[a];else e[n]=r,"key"===n&&r&&(h[r]=e)}}}function u(e,t){var n=[];return e&&Object.keys(e).forEach(function(e){return n[e]=""}),t&&Object.keys(t).forEach(function(e){return n[e]=t[e]}),n}function c(e,t){console.assert(!!e),t=u(e[p],t),e[p]=t;for(var n in t){var r=t[n];if("style"===n){e.style.cssText&&(e.style.cssText="");for(var a in r)e.style[a]!==r[a]&&(e.style[a]=r[a])}else e[n]!==r&&(e[n]=r),"key"===n&&r&&(h[r]=e)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(7),p="_props";t.createElement=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=[],o=function(e){null!==e&&void 0!==e&&a.push("function"==typeof e||"object"==typeof e?e:""+e)};if(n.forEach(function(e){Array.isArray(e)?e.forEach(function(e){return o(e)}):o(e)}),"string"==typeof e)return{tag:e,props:t,children:a};if(Object.getPrototypeOf(e).name){var l=t&&t.id||"_"+e.name+"_"+ ++d;return f.default(e,l,t)}return e(t,a)};var d=0,h={};t.updateElement=r,t.render=r,t.default={createElement:t.createElement,updateElement:t.updateElement}},,function(e,t,n){"use strict";function r(e,t){console.assert(!!e),a.updateElement(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.createElement=a.createElement,t.render=r},function(e,t,n){"use strict";function r(e,t,n){var r=o[t]?o[t]:o[t]=new e(n).mount(t);return a.default.createElement("div",{id:t},r.render&&r.render())}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o={};t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(3),l=function(e){function t(t,n,r,a){var o=e.call(this)||this;return o.state=t,o.view=n,o.update=r,o.options=a,o._history=[],o._history_idx=-1,o.start=function(e){return void 0===e&&(e=null),o.mount(e,{render:!0})},o.render=function(){return o.view(o.state)},o}return r(t,e),t.prototype.renderState=function(e){if(this.view){var t=this.view(e),n="string"==typeof this.element?document.getElementById(this.element):this.element;n&&a.default.render&&a.default.render(n,t),n&&(n._component=this)}},t.prototype.setState=function(e,t){var n=this;if(e instanceof Promise)e.then(function(e){n.setState(e,t)}).catch(function(e){throw console.error(e),e});else{if(null==e)return;this.state=e,!1!==t.render&&this.renderState(e),!1!==t.history&&this.enable_history&&(this._history=this._history.concat([e]),this._history_idx=this._history.length-1),"function"==typeof t.callback&&t.callback(this.state),this.rendered&&this.rendered(this.state)}},t.prototype.mount=function(e,t){var n=this;if(void 0===e&&(e=null),console.assert(!this.element,"Component already mounted."),this.options=t=Object.assign(this.options||{},t),this.element=e,this.global_event=t.global_event,this.enable_history=!!t.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},a=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(t.history.prev||"history-prev",r),this.on(t.history.next||"history-next",a)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),t.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(e){return e&&(e.startsWith("#")||e.startsWith("/"))},t.prototype.add_action=function(e,t,n){var r=this;void 0===n&&(n={}),t&&"function"==typeof t&&this.on(e,function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var o=t.apply(void 0,[r.state].concat(e));r.setState(o,n)},n)},t.prototype.add_actions=function(){var e=this,t=this.update||{};o.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith("apprun-update:")){var r=o.Reflect.getMetadata(n,e);t[r.name]=r.action||e[r.key]}});var n={};Object.keys(t).forEach(function(e){var r=t[e];("function"==typeof r||Array.isArray(r))&&e.split(",").forEach(function(e){return n[e.trim()]=r})}),Object.keys(n).forEach(function(t){var r=n[t];"function"==typeof r?e.add_action(t,r):Array.isArray(r)&&e.add_action(t,r[0],r[1])})},t.prototype.run=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(t)?a.default.run.apply(a.default,[t].concat(n)):e.prototype.run.apply(this,[t].concat(n))},t.prototype.on=function(t,n,r){return this.global_event||this.is_global_event(t)?a.default.on(t,n,r):e.prototype.on.call(this,t,n,r)},t}(a.App);t.Component=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(){var e=this;r.default.on("route",function(t){return e.route(t)}),window.onpopstate=function(t){return e.route(location.hash)},this.route(location.hash)}return e.prototype.route=function(e){if(e||(e="#"),e.indexOf("/")>0){var t=e.split("/"),n=t[0],a=t.slice(1);r.default.run.apply(r.default,[n].concat(a)),r.default.run.apply(r.default,["//",n].concat(a))}else r.default.run(e),r.default.run("//",e)},e}();t.default=a}])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.defaultBasePath="https://conduit.productionready.io/api";var r=n(7);t.getToken=r.getToken,t.setToken=r.setToken,t.toQueryString=r.toQueryString,t.serializeObject=r.serializeObject,t.tags={all:function(){return r.get("/tags")}},t.auth={current:function(){return r.getToken()?r.get("/user"):null},signIn:function(e){return r.post("/users/login",{user:e})},register:function(e){return r.post("/users",{user:e})},save:function(e){return r.put("/user",{user:e})}},t.articles={search:function(e){return r.get("/articles?"+r.toQueryString(e))},feed:function(e){return r.get("/articles/feed?"+r.toQueryString(e))},get:function(e){return r.get("/articles/"+e)},delete:function(e){return r.del("/articles/"+e)},favorite:function(e){return r.post("/articles/"+e+"/favorite")},unfavorite:function(e){return r.del("/articles/"+e+"/favorite")},update:function(e){return r.put("/articles/"+e.slug,{article:e})},create:function(e){return r.post("/articles",{article:e})}},t.comments={create:function(e,t){return r.post("/articles/"+e+"/comments",{comment:t})},delete:function(e,t){return r.del("/articles/"+e+"/comments/"+t)},forArticle:function(e){return r.get("/articles/"+e+"/comments")}},t.profile={get:function(e){return r.get("/profiles/"+e)},follow:function(e){return r.post("/profiles/"+e+"/follow")},unfollow:function(e){return r.del("/profiles/"+e+"/follow")}}},function(e,t,n){"use strict";function r(e){var t=e.errors;return a.default.createElement("ul",{className:"error-messages"},Object.keys(t).map(function(e){return a.default.createElement("li",null,e+" "+t[e])}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=r},function(e,t,n){"use strict";function r(e){var t=e.article,n=t.favorited?"btn-primary":"btn-outline-primary";return o.default.createElement("div",{className:"article-preview"},o.default.createElement("div",{className:"article-meta"},o.default.createElement("a",{href:t.author.image},o.default.createElement("img",{src:t.author.image})),o.default.createElement("div",{className:"info"},o.default.createElement("a",{href:"#/profile/"+t.author.username,className:"author"},t.author.username),o.default.createElement("span",{className:"date"},new Date(t.updatedAt).toLocaleString())),o.default.createElement("button",{className:"btn btn-sm pull-xs-right "+n,onclick:function(n){return o.default.run("#toggle-fav-article",t,e.id)}},o.default.createElement("i",{className:"ion-heart"})," ",t.favoritesCount)),o.default.createElement("a",{href:"#/article/"+t.slug,className:"preview-link"},o.default.createElement("h1",null,t.title),o.default.createElement("p",null,t.description),o.default.createElement("span",null,"Read more..."),o.default.createElement("ul",{className:"tag-list"},t.tagList.map(function(e){return o.default.createElement("li",{className:"tag-default tag-pill tag-outline"},o.default.createElement("a",{href:"#/tag/"+e},e," "))}))))}function a(e){var t=e.articles,n=e.id;return t.length?t.map(function(e){return o.default.createElement(r,{article:e,id:n})}):o.default.createElement("div",{className:"article-preview"},"No articles are here... yet.")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=a},function(e,t,n){"use strict";function r(e){function t(e){e.preventDefault();var t=parseInt(e.target.textContent);o(t)}var n=e.max,r=e.selected,o=e.onpage,l=new Array(n).fill(0);return a.default.createElement("nav",null,a.default.createElement("ul",{className:"pagination",onclick:function(e){return t(e)}},l.map(function(e,t){return a.default.createElement("li",{className:"page-item "+(t+1===r?"active":"")},a.default.createElement("a",{href:"#",className:"page-link"},t+1))})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=r},function(e,t,n){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function n(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function i(e,t){return e=e.source,t=t||"",function n(r,a){return r?(a=a.source||a,a=a.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,a),n):new RegExp(e,t)}}function s(){}function u(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=u({},c.defaults,n||{});var l,i,s=n.highlight,f=0;try{l=t.lex(e,n)}catch(e){return r(e)}i=l.length;var p=function(e){if(e)return n.highlight=s,r(e);var t;try{t=a.parse(l,n)}catch(t){e=t}return n.highlight=s,e?r(e):r(null,t)};if(!s||s.length<3)return p();if(delete n.highlight,!i)return p();for(;f<l.length;f++)!function(e){"code"!==e.type?--i||p():s(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--i||p():(e.text=n,e.escaped=!0,void(--i||p()))})}(l[f])}else try{return n&&(n=u({},c.defaults,n)),a.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=i(f.item,"gm")(/bull/g,f.bullet)(),f.list=i(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=i(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=i(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=i(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=u({},f),f.gfm=u({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=i(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=u({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=f,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var r,a,o,l,i,s,u,c,p,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),l=o[2],this.tokens.push({type:"list_start",ordered:l.length>1}),o=o[0].match(this.rules.item),r=!1,p=o.length,c=0;c<p;c++)s=o[c],u=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(u-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(i=f.bullet.exec(o[c+1])[0],l===i||l.length>1&&i.length>1||(e=o.slice(c+1).join("\n")+e,c=p-1)),a=r||/\n\n(?!\s*$)/.test(s),c!==p-1&&(r="\n"===s.charAt(s.length-1),a||(a=r)),this.tokens.push({type:a?"loose_item_start":"list_item_start"}),this.token(s,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=i(p.link)("inside",p._inside)("href",p._href)(),p.reflink=i(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:i(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:i(p.br)("{2,}","*")(),text:i(p.gfm.text)("{2,}","*")()}),n.rules=p,n.output=function(e,t,r){return new n(t,r).output(e)},n.prototype.output=function(e){for(var t,n,r,a,l="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),l+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?(n=":"===a[1].charAt(6)?this.mangle(a[1].substring(7)):this.mangle(a[1]),r=this.mangle("mailto:")+n):(n=o(a[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),e=e.substring(a[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):o(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),this.inLink=!0,l+=this.outputLink(a,{href:a[2],title:a[3]}),this.inLink=!1;else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),l+=this.renderer.strong(this.output(a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),l+=this.renderer.em(this.output(a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),l+=this.renderer.codespan(o(a[2],!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),l+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),l+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),l+=this.renderer.text(o(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(a[0].length),n=o(a[1]),r=n,l+=this.renderer.link(r,null,n);return l},n.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,a=0;a<r;a++)t=e.charCodeAt(a),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>"},r.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},a.parse=function(e,t,n){return new a(t,n).parse(e)},a.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,a="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(a,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",l=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,l);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var i=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(i);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=a,c.parser=a.parse,c.Renderer=r,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,e.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,n(17))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},o=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=n(1);n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),l.default.on("//",function(e){}),l.default.on("#",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r(o,void 0,void 0,function(){var n,r,o;return a(this,function(a){switch(a.label){case 0:if(n=l.default.user)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.auth.current()];case 2:return r=a.sent(),n=r.user,[3,4];case 3:return o=a.sent(),[3,4];case 4:l.default.run("#user",n),a.label=5;case 5:return e||t.length||(document.location.hash="#/"),l.default.run.apply(l.default,["#/"+(e||"")].concat(t)),[2]}})})})},function(e,t,n){"use strict";function r(){return h}function a(e){h=e,e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}function o(e,t,n){return p(this,void 0,void 0,function(){var r,a,o;return d(this,function(l){switch(l.label){case 0:return r=h?{Authorization:"Token "+h}:{},r["Content-Type"]="application/json; charset=utf-8",[4,window.fetch(""+defaultBasePath+t,{method:e,headers:r,body:n&&JSON.stringify(n)})];case 1:return a=l.sent(),[4,a.json()];case 2:if(o=l.sent(),!a.ok)throw o;return[2,o]}})})}function l(e){return o("GET",e)}function i(e,t){return o("POST",e,t)}function s(e){return o("DELETE",e)}function u(e,t){return o("PUT",e,t)}function c(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){var t={};if("object"==typeof e&&"FORM"==e.nodeName)for(var n=0;n<e.elements.length;n++){var r=e.elements[n];if(r.name&&"file"!=r.type&&"reset"!=r.type&&"submit"!=r.type&&"button"!=r.type)if("select-multiple"==r.type){t[r.name]="";for(var a="",o=0;o<e.elements[n].options.length;o++)r.options[o].selected&&(a+=r.options[o].value+";");";"===a.charAt(a.length-1)&&(t[r.name]=a.substring(0,a.length-1))}else("checkbox"!=r.type&&"radio"!=r.type||r.checked)&&(t[r.name]=r.value)}return t}var p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var h=window.localStorage.getItem("jwt");t.getToken=r,t.setToken=a,t.fetchAsync=o,t.get=l,t.post=i,t.del=s,t.put=u,t.toQueryString=c,t.serializeObject=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){var t=e.user;return l.default.createElement("ul",{className:"nav navbar-nav pull-xs-right"},l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link active",href:"#/"},"Home")),t&&l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/editor"},l.default.createElement("i",{className:"ion-compose"})," New Post")),t&&l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/settings"},l.default.createElement("i",{className:"ion-gear-a"})," Settings")),t?"":l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/login"},"Sign In")),t?"":l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/register"},"Sign up")),t&&l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/profile/"+t.username},t.username)),t&&l.default.createElement("li",{className:"nav-item"},l.default.createElement("a",{className:"nav-link",href:"#/logout"},"Sign Out")))},t.setUser=function(e,t){return a({},e,{user:t})},t}return r(t,e),o([l.on("#user")],t.prototype,"setUser",void 0),t}(l.Component);t.default=(new i).mount("header")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(3),f=n(4),p=10,d=function(e){var t=e.tag;return s.default.createElement("a",{href:"",className:"tag-pill tag-default"},t)},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={type:"",articles:[],tags:[],max:1,page:1},t.view=function(e){if(!(e instanceof Promise))return s.default.createElement("div",{className:"home-page"},s.default.createElement("div",{className:"banner"},s.default.createElement("div",{className:"container"},s.default.createElement("h1",{className:"logo-font"},"conduit"),s.default.createElement("p",null,"A place to share your knowledge."))),s.default.createElement("div",{className:"container page"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-9"},s.default.createElement("div",{className:"feed-toggle"},s.default.createElement("ul",{className:"nav nav-pills outline-active"},s.default.createElement("li",{className:"nav-item"},s.default.createElement("a",{className:"nav-link "+(s.default.user?"":"disabled")+" "+("feed"===e.type?"active":""),href:"#/feed"},"Your Feed")),s.default.createElement("li",{className:"nav-item"},s.default.createElement("a",{className:"nav-link "+(""===e.type?"active":""),href:"#/"},"Global Feed")),e.tag?s.default.createElement("li",{className:"nav-item"},s.default.createElement("a",{className:"nav-link "+("tag"===e.type?"active":""),href:"#/tag/"+e.tag},"#",e.tag)):"")),s.default.createElement(c.default,{articles:e.articles,id:"home"}),s.default.createElement(f.default,{max:Math.floor(e.max/p),selected:e.page,onpage:function(e){return t.run("set-page",e)}})),s.default.createElement("div",{className:"col-md-3"},s.default.createElement("div",{className:"sidebar"},s.default.createElement("p",null,"Popular Tags"),s.default.createElement("div",{className:"tag-list",onclick:function(e){return t.run("set-tag",e)}},e.tags.map(function(e){return s.default.createElement(d,{tag:e})})))))))},t.updateState=function(e,n,r,o){return l(t,void 0,void 0,function(){var t,l,s,c,f,d;return i(this,function(i){switch(i.label){case 0:return e.tags.length?(l={tags:e.tags},[3,3]):[3,1];case 1:return[4,u.tags.all()];case 2:l=i.sent(),i.label=3;case 3:switch(t=l,r=parseInt(r)||1,o=o||e.tag,s=p,c=(r-1)*p,d=n){case"feed":return[3,4];case"tag":return[3,6]}return[3,8];case 4:return[4,u.articles.feed({limit:s,offset:c})];case 5:return f=i.sent(),[3,10];case 6:return[4,u.articles.search({tag:o,limit:s,offset:c})];case 7:return f=i.sent(),[3,10];case 8:return[4,u.articles.search({limit:s,offset:c})];case 9:return f=i.sent(),[3,10];case 10:return[2,a({},e,{tags:t.tags,type:n,page:r,tag:o,articles:f.articles,max:f.articlesCount})]}})})},t.root=function(e,n){return l(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"",n)];case 1:return[2,t.sent()]}})})},t.feed=function(e,n){return l(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"feed",n)];case 1:return[2,t.sent()]}})})},t.tag=function(e,n,r){return l(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"tag",r,n)];case 1:return[2,t.sent()]}})})},t.setPage=function(e,n){return l(t,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return t="tag"===e.type&&e.tag?"/"+e.tag:"",history.pushState(null,null,"#/"+e.type+t+"/"+n),[4,this.updateState(e,e.type,n,e.tag)];case 1:return[2,r.sent()]}})})},t.setTag=function(e,n){return l(t,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return n.preventDefault(),t=n.target.textContent,history.pushState(null,null,"#/tag/"+t+"/1"),[4,this.updateState(e,"tag",1,t)];case 1:return[2,r.sent()]}})})},t.updateArticle=function(e,t,n){return e.articles=e.articles.map(function(e){return e.slug===t.slug?t:e}),"home"===n?e:null},t}return r(t,e),o([s.on("#/")],t.prototype,"root",void 0),o([s.on("#/feed")],t.prototype,"feed",void 0),o([s.on("#/tag")],t.prototype,"tag",void 0),o([s.on("set-page")],t.prototype,"setPage",void 0),o([s.on("set-tag")],t.prototype,"setTag",void 0),o([s.on("#update-article")],t.prototype,"updateArticle",void 0),t}(s.Component);t.default=(new h).mount("my-app")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(2),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(e&&!(e instanceof Promise))return s.default.createElement("div",{className:"auth-page"},s.default.createElement("div",{className:"container page"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},s.default.createElement("h1",{className:"text-xs-center"},"Sign In"),s.default.createElement("p",{className:"text-xs-center"},s.default.createElement("a",{href:"#/register"},"Need an account?")),e.errors&&s.default.createElement(c.default,{errors:e.errors}),s.default.createElement("form",{onsubmit:function(e){return t.run("sign-in",e)}},s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),s.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Sign In"))))))},t.login=function(e){return a({},e,{messages:[],returnTo:document.location.hash})},t.logout=function(e){s.default.run("#user",null),document.location.hash="#/"},t.signIn=function(e,n){return l(t,void 0,void 0,function(){var t,r,o,l;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.preventDefault(),[4,u.auth.signIn(u.serializeObject(n.target))];case 1:return t=i.sent(),s.default.run("#user",t.user),r=(e.returnTo||"").replace(/\#\/login\/?/,""),r?(s.default.run("route",r),history.pushState(null,null,r)):document.location.hash="#/feed",[3,3];case 2:return o=i.sent(),l=o.errors,[2,a({},e,{errors:l})];case 3:return[2]}})})},t.setUser=function(e,t){u.setToken(t?t.token:null),s.default.user=t},t}return r(t,e),o([s.on("#/login")],t.prototype,"login",void 0),o([s.on("#/logout")],t.prototype,"logout",void 0),o([s.on("sign-in")],t.prototype,"signIn",void 0),o([s.on("#user")],t.prototype,"setUser",void 0),t}(s.Component);t.default=(new f).mount("my-app")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(2),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(e&&!(e instanceof Promise))return s.default.createElement("div",{className:"auth-page"},s.default.createElement("div",{className:"container page"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},s.default.createElement("h1",{className:"text-xs-center"},"Sign up"),s.default.createElement("p",{className:"text-xs-center"},s.default.createElement("a",{href:"#/login"},"Have an account?")),e.errors&&s.default.createElement(c.default,{errors:e.errors}),s.default.createElement("form",{onsubmit:function(e){return t.run("register",e)}},s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username"})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),s.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Sign up"))))))},t.register=function(e,t){return a({},e,{messages:t})},t.submitRegistration=function(e,n){return l(t,void 0,void 0,function(){var t,r,o;return i(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n.preventDefault(),[4,u.auth.register(u.serializeObject(n.target))];case 1:return t=l.sent(),s.default.run("#user",t.user),s.default.run("route","#/"),[3,3];case 2:return r=l.sent(),o=r.errors,[2,a({},e,{errors:o})];case 3:return[2]}})})},t}return r(t,e),o([s.on("#/register")],t.prototype,"register",void 0),o([s.on("register")],t.prototype,"submitRegistration",void 0),t}(s.Component);t.default=(new f).mount("my-app")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(3),f=n(4),p=10,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",type:"articles",articles:[],page:1},t.view=function(e){var n=e.profile;if(n)return s.default.createElement("div",{className:"profile-page"},s.default.createElement("div",{className:"user-info"},s.default.createElement("div",{className:"container"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},s.default.createElement("img",{src:n.image,className:"user-img"}),s.default.createElement("h4",null,n.username),s.default.createElement("p",null,n.bio),s.default.createElement("button",{className:"btn btn-sm btn-outline-secondary action-btn",onclick:function(e){return s.default.run("#toggle-follow",n,"profile")}},n.following?s.default.createElement("span",null,s.default.createElement("i",{className:"ion-minus-round"})," Unfollow ",n.username):s.default.createElement("span",null,s.default.createElement("i",{className:"ion-plus-round"})," Follow ",n.username)))))),s.default.createElement("div",{className:"container"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},s.default.createElement("div",{className:"articles-toggle"},s.default.createElement("ul",{className:"nav nav-pills outline-active"},s.default.createElement("li",{className:"nav-item"},s.default.createElement("a",{className:"nav-link "+("articles"===e.type?"active":""),href:"#/profile/"+n.username+"/articles/1"},"My Articles")),s.default.createElement("li",{className:"nav-item"},s.default.createElement("a",{className:"nav-link "+("favorites"===e.type?"active":""),href:"#/profile/"+n.username+"/favorites/1"},"Favorited Articles")))),s.default.createElement(c.default,{articles:e.articles,id:"profile"}),s.default.createElement(f.default,{max:Math.floor(e.max/p),selected:e.page,onpage:function(e){return t.run("set-page",e)}})))))},t.updateState=function(e,n,r,o){return l(t,void 0,void 0,function(){var t,l,s,c,f,d;return i(this,function(i){switch(i.label){case 0:return n=n||e.name,r=r||e.type,o=parseInt(o)||e.page,t=e,n===e.name?[3,2]:[4,u.profile.get(n)];case 1:l=i.sent(),t=a({},t,{profile:l.profile}),i.label=2;case 2:return n===e.name&&r===e.type&&o===e.page?[3,7]:(s=p,c=(o-1)*s,"favorites"!==r?[3,4]:[4,u.articles.search({favorited:n,offset:c,limit:s})]);case 3:return d=i.sent(),[3,6];case 4:return[4,u.articles.search({author:n,offset:c,limit:s})];case 5:d=i.sent(),i.label=6;case 6:f=d,t=a({},t,{name:n,type:r,page:o,articles:f.articles,max:f.articlesCount}),i.label=7;case 7:return[2,t]}})})},t.root=function(e,n,r,a){return t.updateState(e,n,r,a)},t.setPage=function(e,n){var r="#/profile/"+e.profile.username+"/"+e.type+"/"+n;return history.pushState(null,null,r),t.updateState(e,null,null,n)},t.updateArticle=function(e,t,n){return e.articles=e.articles.map(function(e){return e.slug===t.slug?t:e}),"profile"===n?e:null},t.updateFollow=function(e,t,n){return e.profile=t,"profile"===n?e:null},t.toggleFollow=function(e,n,r){return l(t,void 0,void 0,function(){var e,t;return i(this,function(a){switch(a.label){case 0:return s.default.user?n.following?[4,u.profile.unfollow(n.username)]:[3,2]:[2,s.default.run("#/login")];case 1:return t=a.sent(),[3,4];case 2:return[4,u.profile.follow(n.username)];case 3:t=a.sent(),a.label=4;case 4:return e=t,s.default.run("#update-follow",e.profile,r),[2]}})})},t}return r(t,e),o([s.on("#/profile")],t.prototype,"root",void 0),o([s.on("set-page")],t.prototype,"setPage",void 0),o([s.on("#update-article")],t.prototype,"updateArticle",void 0),o([s.on("#update-follow")],t.prototype,"updateFollow",void 0),o([s.on("#toggle-follow")],t.prototype,"toggleFollow",void 0),t}(s.Component);t.default=(new d).mount("my-app")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(2),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(s.default.user){var n=s.default.user;return s.default.createElement("div",{className:"settings-page"},s.default.createElement("div",{className:"container page"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},e.errors&&s.default.createElement(c.default,{errors:e.errors}),s.default.createElement("h1",{className:"text-xs-center"},"Your Settings"),s.default.createElement("form",{onsubmit:function(e){return t.run("submit-settings",e)}},s.default.createElement("fieldset",null,s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",value:n.image})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",value:n.username})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio"},n.bio)),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:n.email})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:n.password})),s.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Update Settings")))))))}},t.settings=function(e){return s.default.user||s.default.run("#/login"),{}},t.submitSettings=function(e,n){return l(t,void 0,void 0,function(){var t,r,o,l;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.preventDefault(),t=u.serializeObject(n.target),[4,u.auth.save(t)];case 1:return r=i.sent(),s.default.run("#user",r.user),document.location.hash="#/profile/"+r.user.username,[3,3];case 2:return o=i.sent(),l=o.errors,[2,a({},e,{errors:l})];case 3:return[2]}})})},t}return r(t,e),o([s.on("#/settings")],t.prototype,"settings",void 0),o([s.on("submit-settings")],t.prototype,"submitSettings",void 0),t}(s.Component);t.default=(new f).mount("my-app")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=n(1),c=n(2),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(s.default.user&&e.article){var n=e.article;return s.default.createElement("div",{className:"editor-page"},s.default.createElement("div",{className:"container page"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},e.errors&&s.default.createElement(c.default,{errors:e.errors}),s.default.createElement("form",{onsubmit:function(e){return t.run("submit-article",e)}},s.default.createElement("input",{type:"hidden",name:"slug",value:n.slug}),s.default.createElement("fieldset",null,s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title",name:"title",value:n.title})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{type:"text",className:"form-control",placeholder:"What's this article about?",name:"description",value:n.description})),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body"},n.body)),s.default.createElement("fieldset",{className:"form-group"},s.default.createElement("input",{type:"text",className:"form-control",placeholder:"Enter tags",name:"tags",value:n.tagList.join(", ")}),s.default.createElement("div",{className:"tag-list"})),s.default.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"submit"},"Publish Article")))))))}},t.root=function(e,n){return l(t,void 0,void 0,function(){var e,t;return i(this,function(r){switch(r.label){case 0:return s.default.user||s.default.run("#/login"),n?[4,u.articles.get(n)]:[3,2];case 1:t=r.sent(),e=t.article,r.label=2;case 2:return e=e||{title:"",description:"",body:"",tagList:[]},[2,{article:e}]}})})},t.submitArticle=function(e,n){return l(t,void 0,void 0,function(){var t,r,o,l,c;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),n.preventDefault(),t=u.serializeObject(n.target),t.tagList=t.tags.split(","),t.slug?[4,u.articles.update(t)]:[3,2];case 1:return o=i.sent(),[3,4];case 2:return[4,u.articles.create(t)];case 3:o=i.sent(),i.label=4;case 4:return r=o,s.default.run("#update-article",r.article,"editor"),document.location.hash="#/article/"+r.article.slug,[3,6];case 5:return l=i.sent(),c=l.errors,[2,a({},e,{errors:c})];case 6:return[2]}})})},t}return r(t,e),o([s.on("#/editor")],t.prototype,"root",void 0),o([s.on("submit-article")],t.prototype,"submitArticle",void 0),t}(s.Component);t.default=(new f).mount("my-app")},function(e,t,n){"use strict";function r(e){var t=e.article,n=t.favorited?"btn-primary":"btn-outline-primary",r=t.author.following?"btn-secondary":"btn-outline-secondary";return u.default.createElement("div",{className:"article-meta"},u.default.createElement("a",{href:t.author.image},u.default.createElement("img",{src:t.author.image})),u.default.createElement("div",{className:"info"},u.default.createElement("a",{href:"#/profile/"+t.author.username,className:"author"},t.author.username),u.default.createElement("span",{className:"date"},new Date(t.updatedAt).toLocaleString())),u.default.user&&u.default.user.username===t.author.username?u.default.createElement("span",null,u.default.createElement("button",{className:"btn btn-sm btn-outline-secondary",onclick:function(e){return u.default.run("#edit-article",t)}},u.default.createElement("i",{className:"ion-edit"}),"  Edit Article"),"  ",u.default.createElement("button",{className:"btn btn-sm btn-outline-danger",onclick:function(e){return u.default.run("#delete-article",t)}},u.default.createElement("i",{className:"ion-trash-o"}),"  Delete Article")):u.default.createElement("span",null,u.default.createElement("button",{className:"btn btn-sm "+r,onclick:function(e){return u.default.run("#toggle-follow",t.author,"article")}},t.author.following?u.default.createElement("span",null,u.default.createElement("i",{className:"ion-minus-round"})," Unfollow ",t.author.username):u.default.createElement("span",null,u.default.createElement("i",{className:"ion-plus-round"})," Follow ",t.author.username)),"   ",u.default.createElement("button",{className:"btn btn-sm "+n,onclick:function(e){return u.default.run("#toggle-fav-article",t,"article")}},u.default.createElement("i",{className:"ion-heart"}),"  Favorite Post ",u.default.createElement("span",{className:"counter"},"(",t.favoritesCount,")"))))}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(o<3?a(l):o>3?a(t,n,l):a(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function i(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(l,i)}s((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,o&&(l=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(l=l.call(o,n[1])).done)return l;switch(o=0,l&&(n=[0,l.value]),n[0]){case 0:case 1:l=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!l||n[1]>l[0]&&n[1]<l[3])){s.label=n[1];break}if(6===n[0]&&s.label<l[1]){s.label=l[1],l=n;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(n);break}l[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{a=l=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),c=n(1),f=n(16),p=n(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={article:null,comments:[]},t.view=function(e){var t=e.article;if(t)return u.default.createElement("div",{className:"article-page"},u.default.createElement("div",{className:"banner"},u.default.createElement("div",{className:"container"},u.default.createElement("h1",null,t.title),u.default.createElement(r,{article:t}))),u.default.createElement("div",{className:"container page"},u.default.createElement("div",{className:"row article-content"},u.default.createElement("div",{className:"col-md-12"},u.default.createElement("p",null,"_html:"+p(t.body,{sanitize:!0})),u.default.createElement("div",{className:"tag-list"},u.default.createElement("br",null),t.tagList.map(function(e){return u.default.createElement("li",{className:"tag-default tag-pill tag-outline"},u.default.createElement("a",{href:"#/tag/"+e},e," "))})))),u.default.createElement("hr",null),u.default.createElement("div",{className:"article-actions"},u.default.createElement(r,{article:t})),u.default.createElement(f.default,{comments:e.comments})))},t.root=function(e,n){return i(t,void 0,void 0,function(){var t,r,a,l;return s(this,function(i){switch(i.label){case 0:return t=e.article,r=e.comments,t&&t.slug===n?[3,3]:[4,c.articles.get(n)];case 1:return a=i.sent(),t=a.article,[4,c.comments.forArticle(t.slug)];case 2:l=i.sent(),r=l.comments,i.label=3;case 3:return[2,o({},e,{article:t,comments:r})]}})})},t.newComment=function(e,n){return i(t,void 0,void 0,function(){var t,r,a,l;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n.preventDefault(),t=n.target.comment.value,[4,c.comments.create(e.article.slug,{body:t})];case 1:return i.sent(),[4,c.comments.forArticle(e.article.slug)];case 2:return r=i.sent(),[2,o({},e,{comments:r.comments})];case 3:return a=i.sent(),l=a.errors,[2,o({},e,{errors:l})];case 4:return[2]}})})},t.updateArticle=function(e,t,n){return e.article=t,"article"===n?e:null},t.updateFollow=function(e,t,n){return e.article.author=t,"article"===n?e:null},t.deleteComment=function(e,n){return i(t,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:return[4,c.comments.delete(this.state.article.slug,n.id)];case 1:return r.sent(),[4,c.comments.forArticle(e.article.slug)];case 2:return t=r.sent(),[2,o({},e,{comments:t.comments})]}})})},t.toggleFavArticle=function(e,n,r){return i(t,void 0,void 0,function(){var e,t;return s(this,function(a){switch(a.label){case 0:return u.default.user?n.favorited?[4,c.articles.unfavorite(n.slug)]:[3,2]:[2,u.default.run("#/login")];case 1:return t=a.sent(),[3,4];case 2:return[4,c.articles.favorite(n.slug)];case 3:t=a.sent(),a.label=4;case 4:return e=t,u.default.run("#update-article",e.article,r),[2]}})})},t.editArticle=function(e,t){document.location.hash="#/editor/"+t.slug},t.deleteArticle=function(e,t){c.articles.delete(t.slug),document.location.hash="#/"},t}return a(t,e),l([u.on("#/article")],t.prototype,"root",void 0),l([u.on("#new-comment")],t.prototype,"newComment",void 0),l([u.on("#update-article")],t.prototype,"updateArticle",void 0),l([u.on("#update-follow")],t.prototype,"updateFollow",void 0),l([u.on("#delete-comment")],t.prototype,"deleteComment",void 0),l([u.on("#toggle-fav-article")],t.prototype,"toggleFavArticle",void 0),l([u.on("#edit-article")],t.prototype,"editArticle",void 0),l([u.on("#delete-article")],t.prototype,"deleteArticle",void 0),t}(u.Component);t.default=(new d).mount("my-app")},function(e,t,n){"use strict";function r(e){var t=e.comment;return o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-block"},o.default.createElement("p",{className:"card-text"},o.default.createElement("p",null,"_html:"+l(t.body,{sanitize:!0})))),o.default.createElement("div",{className:"card-footer"},o.default.createElement("a",{className:"comment-author"},o.default.createElement("img",{src:t.author.image,className:"comment-author-img"}))," ",o.default.createElement("a",{className:"comment-author",href:"#/profile/"+t.author.username},t.author.username),o.default.createElement("span",{className:"date-posted"},new Date(t.createdAt).toLocaleString()),o.default.user&&o.default.user.username===t.author.username?o.default.createElement("span",{className:"mod-options"},o.default.createElement("i",{className:"ion-trash-a",onclick:function(e){return o.default.run("#delete-comment",t)}})):""))}function a(e){var t=e.comments,n=o.default.user;return o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},n?o.default.createElement("form",{className:"card comment-form",onsubmit:function(e){return o.default.run("#new-comment",e)}},o.default.createElement("div",{className:"card-block"},o.default.createElement("textarea",{className:"form-control",placeholder:"Write a comment...",rows:"3",name:"comment"})),o.default.createElement("div",{className:"card-footer"},n.image?o.default.createElement("img",{src:n.image,className:"comment-author-img"}):o.default.createElement("span",null,"@",n.username),o.default.createElement("button",{className:"btn btn-sm btn-primary",type:"submit"},"Post Comment"))):o.default.createElement("p",null,o.default.createElement("a",{href:"#/login/"+document.location.hash},"Sign in")," or ",o.default.createElement("a",{href:"#/register"},"sign up")," to add comments on this article."),t.map(function(e){return o.default.createElement(r,{comment:e})})))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=n(5);t.default=a},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);
//# sourceMappingURL=app.js.map