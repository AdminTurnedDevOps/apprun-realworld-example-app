!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=apprun},function(e,t){const n=/[&<>"']/,r=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=e=>l[e];const o=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c(e){return e.replace(o,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const u=/(^|[^\[])\^/g;const p=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const h={},d=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t){h[" "+e]||(d.test(e)?h[" "+e]=e+"/":h[" "+e]=E(e,"/",!0));const n=-1===(e=h[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(g,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(f,"$1")+t:e+t}function E(e,t,n){const r=e.length;if(0===r)return"";let s=0;for(;s<r;){const a=e.charAt(r-s-1);if(a!==t||n){if(a===t||!n)break;s++}else s++}return e.substr(0,r-s)}e.exports={escape:function(e,t){if(t){if(n.test(e))return e.replace(r,i)}else if(s.test(e))return e.replace(a,i);return e},unescape:c,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(u,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(c(n)).replace(p,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!m.test(n)&&(n=b(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:b,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let r=!1,s=t;for(;--s>=0&&"\\"===n[s];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:E,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,s=0;for(;s<n;s++)if("\\"===e[s])s++;else if(e[s]===t[0])r++;else if(e[s]===t[1]&&(r--,r<0))return s;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},function(e,t){function n(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:n,changeDefaults:function(t){e.exports.defaults=t}}},function(e,t,n){const r=n(9),s=n(10),a=n(4),l=n(8),i=n(7),o=n(6),{merge:c,checkSanitizeDeprecation:u,escape:p}=n(1),{getDefaults:m,changeDefaults:h,defaults:d}=n(2);function g(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=c({},g.defaults,t||{}),u(t);const a=t.highlight;let l,i,o=0;try{l=r.lex(e,t)}catch(e){return n(e)}i=l.length;const p=function(e){if(e)return t.highlight=a,n(e);let r;try{r=s.parse(l,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,r)};if(!a||a.length<3)return p();if(delete t.highlight,!i)return p();for(;o<l.length;o++)!function(e){"code"!==e.type?--i||p():a(e.text,e.lang,(function(t,n){return t?p(t):null==n||n===e.text?--i||p():(e.text=n,e.escaped=!0,void(--i||p()))}))}(l[o])}else try{return t=c({},g.defaults,t||{}),u(t),s.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||g.defaults).silent)return"<p>An error occurred:</p><pre>"+p(e.message+"",!0)+"</pre>";throw e}}g.options=g.setOptions=function(e){return c(g.defaults,e),h(g.defaults),g},g.getDefaults=m,g.defaults=d,g.Parser=s,g.parser=s.parse,g.Renderer=a,g.TextRenderer=l,g.Lexer=r,g.lexer=r.lex,g.InlineLexer=i,g.inlineLexer=i.output,g.Slugger=o,g.parse=g,e.exports=g},function(e,t,n){const{defaults:r}=n(2),{cleanUrl:s,escape:a}=n(1);e.exports=class{constructor(e){this.options=e||r}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+a(r,!0)+'">'+(n?e:a(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+a(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}},function(e,t,n){const{noopTest:r,edit:s,merge:a}=n(1),l={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:r,table:r,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};l.def=s(l.def).replace("label",l._label).replace("title",l._title).getRegex(),l.bullet=/(?:[*+-]|\d{1,9}\.)/,l.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,l.item=s(l.item,"gm").replace(/bull/g,l.bullet).getRegex(),l.list=s(l.list).replace(/bull/g,l.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+l.def.source+")").getRegex(),l._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",l._comment=/<!--(?!-?>)[\s\S]*?-->/,l.html=s(l.html,"i").replace("comment",l._comment).replace("tag",l._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),l.paragraph=s(l._paragraph).replace("hr",l.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",l._tag).getRegex(),l.blockquote=s(l.blockquote).replace("paragraph",l.paragraph).getRegex(),l.normal=a({},l),l.gfm=a({},l.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),l.pedantic=a({},l.normal,{html:s("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",l._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:r,paragraph:s(l.normal._paragraph).replace("hr",l.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",l.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};i.em=s(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=s(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=s(i.tag).replace("comment",l._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=s(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=s(i.reflink).replace("label",i._label).getRegex(),i.normal=a({},i),i.pedantic=a({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=a({},i.normal,{escape:s(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=s(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=a({},i.gfm,{br:s(i.br).replace("{2,}","*").getRegex(),text:s(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:l,inline:i}},function(e,t){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},function(e,t,n){const r=n(4),{defaults:s}=n(2),{inline:a}=n(5),{findClosingBracket:l,escape:i}=n(1);e.exports=class e{constructor(e,t){if(this.options=t||s,this.links=e,this.rules=a.normal,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.options.breaks?this.rules=a.breaks:this.rules=a.gfm)}static get rules(){return a}static output(t,n,r){return new e(n,r).output(t)}output(t){let n,r,s,a,o,c,u="";for(;t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),u+=i(o[1]);else if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),t=t.substring(o[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0];else if(o=this.rules.link.exec(t)){const r=l(o[2],"()");if(r>-1){const e=(0===o[0].indexOf("!")?5:4)+o[1].length+r;o[2]=o[2].substring(0,r),o[0]=o[0].substring(0,e).trim(),o[3]=""}t=t.substring(o[0].length),this.inLink=!0,s=o[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s),n?(s=n[1],a=n[3]):a=""):a=o[3]?o[3].slice(1,-1):"",s=s.trim().replace(/^<([\s\S]*)>$/,"$1"),u+=this.outputLink(o,{href:e.escapes(s),title:e.escapes(a)}),this.inLink=!1}else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),n=(o[2]||o[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){u+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,u+=this.outputLink(o,n),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),u+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),u+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),u+=this.renderer.codespan(i(o[2].trim(),!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),u+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),u+=this.renderer.del(this.output(o[1]));else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(r=i(this.mangle(o[1])),s="mailto:"+r):(r=i(o[1]),s=r),u+=this.renderer.link(s,null,r);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.inRawBlock?u+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0]):u+=this.renderer.text(i(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===o[2])r=i(o[0]),s="mailto:"+r;else{do{c=o[0],o[0]=this.rules._backpedal.exec(o[0])[0]}while(c!==o[0]);r=i(o[0]),s="www."===o[1]?"http://"+r:r}t=t.substring(o[0].length),u+=this.renderer.link(s,null,r)}return u}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,r=t.title?i(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,i(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,r="",s=0;for(;s<t;s++)n=e.charCodeAt(s),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}}},function(e,t){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}},function(e,t,n){const{defaults:r}=n(2),{block:s}=n(5),{rtrim:a,splitCells:l,escape:i}=n(1);e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||r,this.rules=s.normal,this.options.pedantic?this.rules=s.pedantic:this.options.gfm&&(this.rules=s.gfm)}static get rules(){return s}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let n,r,o,c,u,p,m,h,d,g,f,b,E,v,y,k;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),t&&"paragraph"===t.type?t.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:a(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(p={type:"table",header:l(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]},p.header.length===p.align.length)){for(e=e.substring(o[0].length),f=0;f<p.align.length;f++)/^ *-+: *$/.test(p.align[f])?p.align[f]="right":/^ *:-+: *$/.test(p.align[f])?p.align[f]="center":/^ *:-+ *$/.test(p.align[f])?p.align[f]="left":p.align[f]=null;for(f=0;f<p.cells.length;f++)p.cells[f]=l(p.cells[f],p.header.length);this.tokens.push(p)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),c=o[2],v=c.length>1,m={type:"list_start",ordered:v,start:v?+c:"",loose:!1},this.tokens.push(m),o=o[0].match(this.rules.item),h=[],n=!1,E=o.length,f=0;f<E;f++)p=o[f],g=p.length,p=p.replace(/^ *([*+-]|\d+\.) */,""),~p.indexOf("\n ")&&(g-=p.length,p=this.options.pedantic?p.replace(/^ {1,4}/gm,""):p.replace(new RegExp("^ {1,"+g+"}","gm"),"")),f!==E-1&&(u=s.bullet.exec(o[f+1])[0],(c.length>1?1===u.length:u.length>1||this.options.smartLists&&u!==c)&&(e=o.slice(f+1).join("\n")+e,f=E-1)),r=n||/\n\n(?!\s*$)/.test(p),f!==E-1&&(n="\n"===p.charAt(p.length-1),r||(r=n)),r&&(m.loose=!0),y=/^\[[ xX]\] /.test(p),k=void 0,y&&(k=" "!==p[1],p=p.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:y,checked:k,loose:r},h.push(d),this.tokens.push(d),this.token(p,!1),this.tokens.push({type:"list_item_end"});if(m.loose)for(E=h.length,f=0;f<E;f++)h[f].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),b=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[b]||(this.tokens.links[b]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(p={type:"table",header:l(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]},p.header.length===p.align.length)){for(e=e.substring(o[0].length),f=0;f<p.align.length;f++)/^ *-+: *$/.test(p.align[f])?p.align[f]="right":/^ *:-+: *$/.test(p.align[f])?p.align[f]="center":/^ *:-+ *$/.test(p.align[f])?p.align[f]="left":p.align[f]=null;for(f=0;f<p.cells.length;f++)p.cells[f]=l(p.cells[f].replace(/^ *\| *| *\| *$/g,""),p.header.length);this.tokens.push(p)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},function(e,t,n){const r=n(4),s=n(6),a=n(7),l=n(8),{defaults:i}=n(2),{merge:o,unescape:c}=n(1);e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||i,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new s}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,o({},this.options,{renderer:new l})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,r,s,a="";for(r="",t=0;t<this.token.header.length;t++)r+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(a+=this.renderer.tablerow(r),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],r="",s=0;s<n.length;s++)r+=this.renderer.tablecell(this.inline.output(n[s]),{header:!1,align:this.token.align[s]});e+=this.renderer.tablerow(r)}return this.renderer.table(a,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,r=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,r,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r);function a(e,t,n,r){var s,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(l=(a<3?s(l):a>3?s(t,n,l):s(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}function l(e,t,n,r){return new(n||(n=Promise))((function(s,a){function l(e){try{o(r.next(e))}catch(e){a(e)}}function i(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(l,i)}o((r=r.apply(e,t||[])).next())}))}class i extends r.Component{constructor(){super(...arguments),this.state={},this.view=e=>{const t=e.user;return s.a.createElement("ul",{class:"nav navbar-nav pull-xs-right"},s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link active",href:"#/"},"Home")),t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:"#/editor"},s.a.createElement("i",{class:"ion-compose"})," New Post")),t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:"#/settings"},s.a.createElement("i",{class:"ion-gear-a"})," Settings")),!t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:"#/login"},"Sign In")),!t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:"#/register"},"Sign Up")),t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:`#/profile/${t.username}`},t.username)),t&&s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:"nav-link",href:"#/logout"},"Sign Out")))},this.setUser=(e,t)=>Object.assign(Object.assign({},e),{user:t})}}a([Object(r.on)("/set-user")],i.prototype,"setUser",void 0);(new i).start("header");let o=window&&window.localStorage&&window.localStorage.getItem("jwt")||"";function c(e){o=e,window.localStorage&&(e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt"))}function u(e,t,n){return l(this,void 0,void 0,(function*(){const r={"Content-Type":"application/json; charset=utf-8"};o&&(r.Authorization=`Token ${o}`);const s=yield window.fetch(`${defaultBasePath}${t}`,{method:e,headers:r,body:n&&JSON.stringify(n)});if(401===s.status)throw c(null),new Error("401");const a=yield s.json();if(!s.ok)throw a;return a}))}function p(e){return u("GET",e)}function m(e,t){return u("POST",e,t)}function h(e){return u("DELETE",e)}function d(e,t){return u("PUT",e,t)}function g(e){const t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){let t={};if("object"==typeof e&&"FORM"==e.nodeName)for(let n=0;n<e.elements.length;n++){const r=e.elements[n];if(r.name&&"file"!=r.type&&"reset"!=r.type&&"submit"!=r.type&&"button"!=r.type)if("select-multiple"==r.type){t[r.name]="";let s="";for(let t=0;t<e.elements[n].options.length;t++)r.options[t].selected&&(s+=r.options[t].value+";");";"===s.charAt(s.length-1)&&(t[r.name]=s.substring(0,s.length-1))}else("checkbox"!=r.type&&"radio"!=r.type||r.checked)&&(t[r.name]=r.value)}return t}window.defaultBasePath="https://conduit.productionready.io/api";const b=()=>p("/tags"),E=()=>o?p("/user"):null,v=e=>m("/users/login",{user:e}),y=e=>m("/users",{user:e}),k=e=>d("/user",{user:e}),x=()=>!!s.a.user||s.a.run("#/login")&&!1,w=e=>p(`/articles?${g(e)}`),$=e=>p(`/articles/feed?${g(e)}`),_=e=>p(`/articles/${e}`),O=e=>h(`/articles/${e}`),j=e=>m(`/articles/${e}/favorite`),S=e=>h(`/articles/${e}/favorite`),A=e=>d(`/articles/${e.slug}`,{article:e}),z=e=>m("/articles",{article:e}),C=(e,t)=>m(`/articles/${e}/comments`,{comment:t}),R=(e,t)=>h(`/articles/${e}/comments/${t}`),P=e=>p(`/articles/${e}/comments`),L=e=>p(`/profiles/${e}`),D=e=>m(`/profiles/${e}/follow`),T=e=>h(`/profiles/${e}/follow`);function Z(e){const t=e.article,n=t.favorited?"btn-primary":"btn-outline-primary";return s.a.createElement("div",{class:"article-preview"},s.a.createElement("div",{class:"article-meta"},s.a.createElement("a",{href:t.author.image},s.a.createElement("img",{src:t.author.image})),s.a.createElement("div",{class:"info"},s.a.createElement("a",{href:`#/profile/${t.author.username}`,class:"author"},t.author.username),s.a.createElement("span",{class:"date"},new Date(t.updatedAt).toLocaleString())),s.a.createElement("button",{class:`btn btn-sm pull-xs-right ${n}`,onclick:n=>s.a.run("toggle-fav-article",t,e.component)},s.a.createElement("i",{class:"ion-heart"})," ",t.favoritesCount)),s.a.createElement("a",{href:`#/article/${t.slug}`,class:"preview-link"},s.a.createElement("h1",null,t.title),s.a.createElement("p",null,t.description),s.a.createElement("span",null,"Read more..."),s.a.createElement("ul",{class:"tag-list"},t.tagList.map(e=>s.a.createElement("li",{class:"tag-default tag-pill tag-outline"},s.a.createElement("a",{href:`#/tag/${e}`},e," "))))))}s.a.on("/get-user",()=>l(void 0,void 0,void 0,(function*(){try{const e=yield E();e&&s.a.run("/set-user",e.user)}catch(e){c(null),document.location.reload(!0)}}))),s.a.on("/set-user",e=>{s.a.user=e,c(e?e.token:null)}),s.a.on("/toggle-follow",(e,t)=>l(void 0,void 0,void 0,(function*(){if(!x())return;const n=e.following?yield T(e.username):yield D(e.username);t.run("update-follow",n.profile)}))),s.a.on("/toggle-fav-article",(e,t)=>l(void 0,void 0,void 0,(function*(){if(!x())return;const n=e.favorited?yield S(e.slug):yield j(e.slug);t.run("update-article",n.article)})));var I=function({articles:e,component:t}){return e.length?e.map(e=>s.a.createElement(Z,{article:e,component:t})):s.a.createElement("div",{class:"article-preview"},"No articles are here... yet.")},U=function({max:e,selected:t,link:n}){const r=new Array(e).fill(0);return s.a.createElement("nav",null,s.a.createElement("ul",{class:"pagination"},r.map((e,r)=>s.a.createElement("li",{class:`page-item ${r+1===t?"active":""}`},s.a.createElement("a",{href:`${n}/${r+1}`,class:"page-link"},r+1)))))};const q=({tag:e})=>s.a.createElement("a",{href:`#/tag/${e}/1`,class:"tag-pill tag-default"},e);class F extends r.Component{constructor(){super(...arguments),this.state={type:"",articles:[],tags:[],max:1,page:1},this.view=e=>{const t="tag"===e.type&&e.tag?`/${e.tag}`:"";return s.a.createElement("div",{class:"home-page"},s.a.createElement("div",{class:"banner"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",{class:"logo-font"},"conduit"),s.a.createElement("p",null,"A place to share your knowledge."))),s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-9"},s.a.createElement("div",{class:"feed-toggle"},s.a.createElement("ul",{class:"nav nav-pills outline-active"},s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:`nav-link ${s.a.user?"":"disabled"} ${"feed"===e.type?"active":""}`,href:"#/feed"},"Your Feed")),s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:`nav-link ${""===e.type?"active":""}`,href:"#/"},"Global Feed")),e.tag?s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:`nav-link ${"tag"===e.type?"active":""}`,href:`#/tag/${e.tag}`},"#",e.tag)):"")),s.a.createElement(I,{articles:e.articles,component:this}),s.a.createElement(U,{max:Math.floor(e.max/10),selected:e.page,link:`#/${e.type}${t}`})),s.a.createElement("div",{class:"col-md-3"},s.a.createElement("div",{class:"sidebar"},s.a.createElement("p",null,"Popular Tags"),s.a.createElement("div",{class:"tag-list"},e.tags.map(e=>s.a.createElement(q,{tag:e}))))))))},this.updateState=(e,t,n,r)=>l(this,void 0,void 0,(function*(){try{let s=e.tags.length?{tags:e.tags}:yield b();n=parseInt(n)||1,r=r||e.tag;const a=10,l=10*(n-1);let i;switch(t){case"feed":if(!x())return Object.assign(Object.assign({},e),{articles:[],max:0});i=yield $({limit:a,offset:l});break;case"tag":i=yield w({tag:r,limit:a,offset:l});break;default:i=yield w({limit:a,offset:l})}return n=Math.min(n,Math.floor(i.articlesCount/10)+1),Object.assign(Object.assign({},e),{tags:s.tags,type:t,page:n,tag:r,articles:i.articles,max:i.articlesCount})}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t,articles:[],max:0})}})),this.root=(e,t)=>l(this,void 0,void 0,(function*(){return yield this.updateState(e,"",t)})),this.feed=(e,t)=>l(this,void 0,void 0,(function*(){return yield this.updateState(e,"feed",t)})),this.tag=(e,t,n)=>l(this,void 0,void 0,(function*(){return yield this.updateState(e,"tag",n,t)})),this.updateArticle=(e,t)=>(e.articles=e.articles.map(e=>e.slug===t.slug?t:e),e)}}a([Object(r.on)("#/")],F.prototype,"root",void 0),a([Object(r.on)("#/feed")],F.prototype,"feed",void 0),a([Object(r.on)("#/tag")],F.prototype,"tag",void 0),a([Object(r.on)("update-article")],F.prototype,"updateArticle",void 0);(new F).mount("my-app");var M=function({errors:e}){return s.a.createElement("ul",{class:"error-messages"},Object.keys(e).map(t=>s.a.createElement("li",null,`${t} ${e[t]}`)))};class B extends r.Component{constructor(){super(...arguments),this.state={},this.view=e=>{if(e&&!(e instanceof Promise))return s.a.createElement("div",{class:"auth-page"},s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},s.a.createElement("h1",{class:"text-xs-center"},"Sign In"),s.a.createElement("p",{class:"text-xs-center"},s.a.createElement("a",{href:"#/register"},"Need an account?")),e.errors&&s.a.createElement(M,{errors:e.errors}),s.a.createElement("form",{onsubmit:e=>this.run("sign-in",e)},s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),s.a.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Sign In"))))))},this.login=e=>Object.assign(Object.assign({},e),{messages:[],returnTo:document.location.hash}),this.logout=e=>{s.a.run("/set-user",null),document.location.hash="#/"},this.signIn=(e,t)=>l(this,void 0,void 0,(function*(){try{t.preventDefault();const n=yield v(f(t.target));s.a.run("/set-user",n.user);const r=(e.returnTo||"").replace(/\#\/login\/?/,"");r?(s.a.run("route",r),history.pushState(null,null,r)):document.location.hash="#/feed"}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}a([Object(r.on)("#/login")],B.prototype,"login",void 0),a([Object(r.on)("#/logout")],B.prototype,"logout",void 0),a([Object(r.on)("sign-in")],B.prototype,"signIn",void 0);(new B).mount("my-app");class N extends r.Component{constructor(){super(...arguments),this.state={},this.view=e=>{if(e&&!(e instanceof Promise))return s.a.createElement("div",{class:"auth-page"},s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},s.a.createElement("h1",{class:"text-xs-center"},"Sign Up"),s.a.createElement("p",{class:"text-xs-center"},s.a.createElement("a",{href:"#/login"},"Have an account?")),e.errors&&s.a.createElement(M,{errors:e.errors}),s.a.createElement("form",{onsubmit:e=>this.run("register",e)},s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username"})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),s.a.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Sign up"))))))},this.register=(e,t)=>Object.assign(Object.assign({},e),{messages:t}),this.submitRegistration=(e,t)=>l(this,void 0,void 0,(function*(){try{t.preventDefault();const e=yield y(f(t.target));s.a.run("#user",e.user),s.a.run("route","#/")}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}a([Object(r.on)("#/register")],N.prototype,"register",void 0),a([Object(r.on)("register")],N.prototype,"submitRegistration",void 0);(new N).mount("my-app");class Y extends r.Component{constructor(){super(...arguments),this.state={name:"",type:"articles",articles:[],page:1},this.view=e=>{const t=e.profile;if(t)return s.a.createElement("div",{class:"profile-page"},s.a.createElement("div",{class:"user-info"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-12 col-md-10 offset-md-1"},s.a.createElement("img",{src:t.image,class:"user-img"}),s.a.createElement("h4",null,t.username),s.a.createElement("p",null,t.bio),s.a.createElement("button",{class:"btn btn-sm btn-outline-secondary action-btn",onclick:e=>s.a.run("/toggle-follow",t,this)},t.following?s.a.createElement("span",null,s.a.createElement("i",{class:"ion-minus-round"})," Unfollow ",t.username):s.a.createElement("span",null,s.a.createElement("i",{class:"ion-plus-round"})," Follow ",t.username)))))),s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-12 col-md-10 offset-md-1"},s.a.createElement("div",{class:"articles-toggle"},s.a.createElement("ul",{class:"nav nav-pills outline-active"},s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:`nav-link ${"articles"===e.type?"active":""}`,href:`#/profile/${t.username}/articles/1`},"My Articles")),s.a.createElement("li",{class:"nav-item"},s.a.createElement("a",{class:`nav-link ${"favorites"===e.type?"active":""}`,href:`#/profile/${t.username}/favorites/1`},"Favorited Articles")))),s.a.createElement(I,{articles:e.articles,component:this}),s.a.createElement(U,{max:Math.floor(e.max/10),selected:e.page,link:`#/profile/${e.profile.username}/${e.type}`})))))},this.updateState=(e,t,n,r)=>l(this,void 0,void 0,(function*(){t=decodeURIComponent(t||e.name),n=n||e.type,r=parseInt(r)||e.page;let s=e;if(t!==e.name){const e=yield L(t);s=Object.assign(Object.assign({},s),{profile:e.profile})}if(t!==e.name||n!==e.type||r!==e.page){const e=10,a=(r-1)*e,l="favorites"===n?yield w({favorited:t,offset:a,limit:e}):yield w({author:t,offset:a,limit:e});s=Object.assign(Object.assign({},s),{name:t,type:n,page:r,articles:l.articles,max:l.articlesCount})}return s})),this.root=(e,t,n,r)=>this.updateState(e,t,n,r),this.updateArticle=(e,t)=>(e.articles=e.articles.map(e=>e.slug===t.slug?t:e),e),this.updateFollow=(e,t)=>Object.assign(Object.assign({},e),{profile:t})}}a([Object(r.on)("#/profile")],Y.prototype,"root",void 0),a([Object(r.on)("update-article")],Y.prototype,"updateArticle",void 0),a([Object(r.on)("update-follow")],Y.prototype,"updateFollow",void 0);(new Y).mount("my-app");var K=function({title:e,body:t,ok:n,cancel:r,onOK:a,onCancel:l}){return s.a.createElement("div",{class:"modal-open"},s.a.createElement("div",{class:"modal-dialog",role:"document"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("div",{class:"modal-header"},s.a.createElement("h5",{class:"modal-title"},e,s.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onclick:e=>l(e)},s.a.createElement("span",{"aria-hidden":"true"},"×")))),s.a.createElement("div",{class:"modal-body"},s.a.createElement("p",null,t)),s.a.createElement("div",{class:"modal-footer"},r&&s.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onclick:e=>l(e)},r),"  ",s.a.createElement("button",{type:"button",class:"btn btn-primary",onclick:e=>a(e)},n)))),s.a.createElement("div",{class:"modal-backdrop show",onclick:e=>l(e)}))};class G extends r.Component{constructor(){super(...arguments),this.state={},this.view=e=>{const t=e.user;if(t)return s.a.createElement("div",{class:"settings-page"},e.showModal?s.a.createElement(K,{title:"Confirmation",body:"Your settings has been updated successfully.",ok:"OK",cancel:"Cancel",onOK:e=>this.run("ok",e),onCancel:e=>this.run("cancel",e)}):"",s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},e.errors&&s.a.createElement(M,{errors:e.errors}),s.a.createElement("h1",{class:"text-xs-center"},"Your Settings"),s.a.createElement("form",{onsubmit:e=>this.run("submit-settings",e)},s.a.createElement("fieldset",null,s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",value:t.image})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",value:t.username})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("textarea",{class:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio"},t.bio)),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:t.email})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:t.password})),s.a.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Update Settings")))))))},this.settings=e=>{if(x())return{user:s.a.user}},this.submitSettings=(e,t)=>l(this,void 0,void 0,(function*(){try{t.preventDefault();const e=f(t.target),n=yield k(e);return s.a.run("#user",n.user),{showModal:!0}}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}})),this.ok=e=>({showModel:!1})}}a([Object(r.on)("#/settings")],G.prototype,"settings",void 0),a([Object(r.on)("submit-settings")],G.prototype,"submitSettings",void 0),a([Object(r.on)("ok, cancel")],G.prototype,"ok",void 0);(new G).mount("my-app");class W extends r.Component{constructor(){super(...arguments),this.state={},this.view=e=>{if(!s.a.user||!e.article)return;const t=e.article;return s.a.createElement("div",{class:"editor-page"},s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-10 offset-md-1 col-xs-12"},e.errors&&s.a.createElement(M,{errors:e.errors}),s.a.createElement("form",{onsubmit:e=>this.run("submit-article",e)},t.slug&&s.a.createElement("input",{type:"hidden",name:"slug",value:t.slug}),s.a.createElement("fieldset",null,s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article Title",name:"title",value:t.title})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{type:"text",class:"form-control",placeholder:"What's this article about?",name:"description",value:t.description})),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("textarea",{class:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body"},t.body)),s.a.createElement("fieldset",{class:"form-group"},s.a.createElement("input",{type:"text",class:"form-control",placeholder:"Enter tags",name:"tags",value:t.tagList.join(", ")}),s.a.createElement("div",{class:"tag-list"})),s.a.createElement("button",{class:"btn btn-lg pull-xs-right btn-primary",type:"submit"},"Publish Article")))))))},this.root=(e,t)=>l(this,void 0,void 0,(function*(){if(!x())return;let e;if(t){e=(yield _(t)).article}return e=e||{title:"",description:"",body:"",tagList:[]},{article:e}})),this.submitArticle=(e,t)=>l(this,void 0,void 0,(function*(){try{t.preventDefault();const e=f(t.target);e.tagList=e.tags.split(",");const n=e.slug?yield A(e):yield z(e);document.location.hash=`#/article/${n.article.slug}`}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}a([Object(r.on)("#/editor")],W.prototype,"root",void 0),a([Object(r.on)("submit-article")],W.prototype,"submitArticle",void 0);(new W).mount("my-app");var H=n(3);function X({comment:e}){return s.a.createElement("div",{class:"card"},s.a.createElement("div",{class:"card-block"},s.a.createElement("p",{class:"card-text"},s.a.createElement("p",null,`_html:${H(e.body,{sanitize:!0})}`))),s.a.createElement("div",{class:"card-footer"},s.a.createElement("a",{class:"comment-author"},s.a.createElement("img",{src:e.author.image,class:"comment-author-img"}))," ",s.a.createElement("a",{class:"comment-author",href:`#/profile/${e.author.username}`},e.author.username),s.a.createElement("span",{class:"date-posted"},new Date(e.createdAt).toLocaleString()),s.a.user&&s.a.user.username===e.author.username&&s.a.createElement("span",{class:"mod-options"},s.a.createElement("i",{class:"ion-trash-a",onclick:t=>s.a.run("/delete-comment",e)}))))}var J=function({comments:e}){const t=s.a.user;return s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-12 col-md-8 offset-md-2"},t?s.a.createElement("form",{class:"card comment-form",onsubmit:e=>s.a.run("/new-comment",e)},s.a.createElement("div",{class:"card-block"},s.a.createElement("textarea",{class:"form-control",placeholder:"Write a comment...",rows:"3",name:"comment"})),s.a.createElement("div",{class:"card-footer"},t.image?s.a.createElement("img",{src:t.image,class:"comment-author-img"}):s.a.createElement("span",null,"@",t.username),s.a.createElement("button",{class:"btn btn-sm btn-primary",type:"submit"},"Post Comment"))):s.a.createElement("p",null,s.a.createElement("a",{href:`#/login/${document.location.hash}`},"Sign in")," or ",s.a.createElement("a",{href:"#/register"},"sign up")," to add comments on this article."),e.map(e=>s.a.createElement(X,{comment:e}))))};function V({article:e,component:t}){const n=e.favorited?"btn-primary":"btn-outline-primary",r=e.author.following?"btn-secondary":"btn-outline-secondary";return s.a.createElement("div",{class:"article-meta"},s.a.createElement("a",{href:e.author.image},s.a.createElement("img",{src:e.author.image})),s.a.createElement("div",{class:"info"},s.a.createElement("a",{href:`#/profile/${e.author.username}`,class:"author"},e.author.username),s.a.createElement("span",{class:"date"},new Date(e.updatedAt).toLocaleString())),s.a.user&&s.a.user.username===e.author.username?s.a.createElement("span",null,s.a.createElement("button",{class:"btn btn-sm btn-outline-secondary",onclick:n=>t.run("edit-article",e)},s.a.createElement("i",{class:"ion-edit"}),"  Edit Article"),"  ",s.a.createElement("button",{class:"btn btn-sm btn-outline-danger",onclick:n=>t.run("delete-article",e)},s.a.createElement("i",{class:"ion-trash-o"}),"  Delete Article")):s.a.createElement("span",null,s.a.createElement("button",{class:`btn btn-sm ${r}`,onclick:n=>s.a.run("/toggle-follow",e.author,t)},e.author.following?s.a.createElement("span",null,s.a.createElement("i",{class:"ion-minus-round"})," Unfollow ",e.author.username):s.a.createElement("span",null,s.a.createElement("i",{class:"ion-plus-round"})," Follow ",e.author.username))," ","  ",s.a.createElement("button",{class:`btn btn-sm ${n}`,onclick:n=>s.a.run("/toggle-fav-article",e,t)},s.a.createElement("i",{class:"ion-heart"}),"  Favorite Post ",s.a.createElement("span",{class:"counter"},"(",e.favoritesCount,")"))))}class Q extends r.Component{constructor(){super(...arguments),this.state={article:null,comments:[]},this.view=e=>{const t=e.article;if(t)return s.a.createElement("div",{class:"article-page"},e.deleting&&s.a.createElement(K,{title:"Delete Article",body:"Are you sure you want to delete this article?",ok:"Delete",cancel:"No",onOK:e=>this.run("ok-delete-article",e),onCancel:e=>this.run("cancel-delete-article",e)}),s.a.createElement("div",{class:"banner"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",null,t.title),s.a.createElement(V,{article:t,component:this}))),s.a.createElement("div",{class:"container page"},s.a.createElement("div",{class:"row article-content"},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("p",null,`_html:${H(t.body,{sanitize:!0})}`),s.a.createElement("div",{class:"tag-list"},s.a.createElement("br",null),t.tagList.map(e=>s.a.createElement("li",{class:"tag-default tag-pill tag-outline"},s.a.createElement("a",{href:`#/tag/${e}`},e," ")))))),s.a.createElement("hr",null),s.a.createElement("div",{class:"article-actions"},s.a.createElement(V,{article:t,component:this})),s.a.createElement(J,{comments:e.comments})))},this.root=(e,t)=>l(this,void 0,void 0,(function*(){let n=e.article,r=e.comments;if(!n||n.slug!==t){n=(yield _(t)).article,r=(yield P(n.slug)).comments}return Object.assign(Object.assign({},e),{article:n,comments:r})})),this.newComment=(e,t)=>l(this,void 0,void 0,(function*(){try{t.preventDefault();const n=t.target.comment.value;if(!n)return;yield C(e.article.slug,{body:n});const r=yield P(e.article.slug);return Object.assign(Object.assign({},e),{comments:r.comments})}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}})),this.deleteComment=(e,t)=>l(this,void 0,void 0,(function*(){yield R(this.state.article.slug,t.id);const n=yield P(e.article.slug);return Object.assign(Object.assign({},e),{comments:n.comments})})),this.updateArticle=(e,t)=>Object.assign(Object.assign({},e),{article:t}),this.updateFollow=(e,t)=>(e.article.author=t,e),this.editArticle=(e,t)=>{document.location.hash=`#/editor/${t.slug}`},this.deleteArticle=(e,t)=>Object.assign(Object.assign({},e),{deleting:!0}),this.okDelete=(e,t)=>(O(e.article.slug),document.location.hash="#/",Object.assign(Object.assign({},e),{deleting:!1})),this.cancelDelete=(e,t)=>Object.assign(Object.assign({},e),{deleting:!1})}}a([Object(r.on)("#/article")],Q.prototype,"root",void 0),a([Object(r.on)("/new-comment")],Q.prototype,"newComment",void 0),a([Object(r.on)("/delete-comment")],Q.prototype,"deleteComment",void 0),a([Object(r.on)("update-article")],Q.prototype,"updateArticle",void 0),a([Object(r.on)("update-follow")],Q.prototype,"updateFollow",void 0),a([Object(r.on)("edit-article")],Q.prototype,"editArticle",void 0),a([Object(r.on)("delete-article")],Q.prototype,"deleteArticle",void 0),a([Object(r.on)("ok-delete-article")],Q.prototype,"okDelete",void 0),a([Object(r.on)("cancel-delete-article")],Q.prototype,"cancelDelete",void 0);(new Q).mount("my-app");s.a.on("#",(e,...t)=>{s.a.run(`#/${e||""}`,...t)}),s.a.run("/get-user")}]);
//# sourceMappingURL=app.js.map