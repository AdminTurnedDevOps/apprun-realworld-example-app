!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";(function(e){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){void 0===n&&(n={}),this._events[e]=this._events[e]||[],this._events[e].push({fn:t,options:n})},e.prototype.off=function(e,t){var n=this._events[e];n&&((n=n.filter(function(e){return e.fn!==t})).length?this._events[e]=n:delete this._events[e])},e.prototype.run=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this._events[e];return console.assert(!!a,"No subscriber for event: "+e),a&&((a=a.filter(function(r){var a=r.fn,l=r.options;return l.delay?t.delay(e,a,n,l):a.apply(t,n),!r.options.once})).length?this._events[e]=a:delete this._events[e]),a?a.length:0},e.prototype.once=function(e,t,r){void 0===r&&(r={}),this.on(e,t,n({},r,{once:!0}))},e.prototype.delay=function(e,t,n,r){var a=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),t.apply(a,n)},r.delay)},e}();t.App=a;var l=e||window;l.app&&l.app.start?r=l.app:(r=new a,l.app=r),t.default=r}).call(this,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.app=r.default;var a=n(6),l=n(8);t.Component=l.Component;var o=n(2);t.on=o.on,t.update=o.update,t.event=o.update;var i=n(3),s=n(3);t.ROUTER_EVENT=s.ROUTER_EVENT,t.ROUTER_404_EVENT=s.ROUTER_404_EVENT,r.default.createElement=a.createElement,r.default.render=a.render,r.default.Fragment=a.Fragment,r.default.start=function(e,t,n,r,a){var o=Object.assign(a||{},{render:!0,global_event:!0}),i=new l.Component(t,n,r);return a&&a.rendered&&(i.rendered=a.rendered),i.mount(e,o),i},r.default.on(i.ROUTER_EVENT,function(e){}),r.default.on("#",function(e){}),r.default.route=i.default,r.default.on("route",function(e){return r.default.route&&r.default.route(e)}),"object"==typeof document&&document.addEventListener("DOMContentLoaded",function(){r.default.route===i.default&&(window.onpopstate=function(){return i.default(location.hash)},i.default(location.hash))}),t.default=r.default,"object"==typeof window&&(window.Component=l.Component),r.default.on("debug",function(e){return 0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reflect={meta:new WeakMap,defineMetadata:function(e,t,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[e]=t},getMetadataKeys:function(e){return e=Object.getPrototypeOf(e),this.meta.get(e)?Object.keys(this.meta.get(e)):[]},getMetadata:function(e,t){return t=Object.getPrototypeOf(t),this.meta.get(t)?this.meta.get(t)[e]:null}},t.update=function(e,n){return void 0===n&&(n={}),function(r,a,l){return e=e||a,t.Reflect.defineMetadata("apprun-update:"+e,{name:e,key:a,options:n},r),l}},t.on=function(e,n){return void 0===n&&(n={}),function(r,a){e=e||a,t.Reflect.defineMetadata("apprun-update:"+e,{name:e,key:a,options:n},r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.ROUTER_EVENT="//",t.ROUTER_404_EVENT="///",t.default=function(e){if(e||(e="#"),e.startsWith("#")){var n=e.split("/"),a=n[0],l=n.slice(1);r.default.run.apply(r.default,[a].concat(l))||r.default.run.apply(r.default,[t.ROUTER_404_EVENT,a].concat(l)),r.default.run.apply(r.default,[t.ROUTER_EVENT,a].concat(l))}else if(e.startsWith("/")){var o=e.split("/"),i=(o[0],o[1]);l=o.slice(2),r.default.run.apply(r.default,["/"+i].concat(l))||r.default.run.apply(r.default,[t.ROUTER_404_EVENT,"/"+i].concat(l)),r.default.run.apply(r.default,[t.ROUTER_EVENT,"/"+i].concat(l))}else r.default.run(e)||r.default.run(t.ROUTER_404_EVENT,e),r.default.run(t.ROUTER_EVENT,e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a="_props";function l(e){var t=[],n=function(e){null!=e&&""!==e&&!1!==e&&t.push("function"==typeof e||"object"==typeof e?e:""+e)};return e&&e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){return n(e)}):n(e)}),t}t.createElement=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=l(n);return"string"==typeof e?{tag:e,props:t,children:a}:void 0===e&&n?a:Object.getPrototypeOf(e).__isAppRunComponent?{tag:e,props:t,children:a}:e(t,a)};var o={};function i(e,t,n){void 0===n&&(n={}),null!=t&&(t=r.default(t,n),e&&(Array.isArray(t)?u(e,t):u(e,[t])))}function s(e,t){console.assert(!!e),function(e,t){var n=e.nodeName,r=""+(t.tag||"");return n.toUpperCase()===r.toUpperCase()}(e,t)?(u(e,t.children),d(e,t.props)):e.parentNode.replaceChild(f(t),e)}function u(e,t){for(var n=Math.min(e.childNodes.length,t.length),r=0;r<n;r++){var a=t[r],l=e.childNodes[r];if("string"==typeof a)l.textContent!==a&&(3===l.nodeType?l.textContent=a:e.replaceChild(c(a),l));else{var i=a.props&&a.props.key;if(i)if(l.key===i)s(e.childNodes[r],a);else{var u=o[i];u?(e.insertBefore(u,l),e.appendChild(l),s(e.childNodes[r],a)):e.insertBefore(f(a),l)}else s(e.childNodes[r],a)}}for(var d=e.childNodes.length;d>n;)e.removeChild(e.lastChild),d--;if(t.length>n){var p=document.createDocumentFragment();for(r=n;r<t.length;r++)p.appendChild(f(t[r]));e.appendChild(p)}}function c(e){if(0===e.indexOf("_html:")){var t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e.substring(6)),t}return document.createTextNode(e)}function f(e,t){if(void 0===t&&(t=!1),console.assert(null!=e),"string"==typeof e)return c(e);if(!e.tag||"function"==typeof e.tag)return c(JSON.stringify(e));var n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);return d(n,e.props),e.children&&e.children.forEach(function(e){return n.appendChild(f(e,t))}),n}function d(e,t){console.assert(!!e);var n=e[a]||{};for(var r in t=function(e,t){t.class=t.class||t.className,delete t.className;var n={};return e&&Object.keys(e).forEach(function(e){return n[e]=null}),t&&Object.keys(t).forEach(function(e){return n[e]=t[e]}),n}(n,t||{}),e[a]=t,t){var l=t[r];if("style"===r)for(var i in e.style.cssText&&(e.style.cssText=""),l)e.style[i]!==l[i]&&(e.style[i]=l[i]);else if(r.startsWith("data-")){var s=r.substring(5).replace(/-(\w)/g,function(e){return e[1].toUpperCase()});e.dataset[s]!==l&&(l||""===l?e.dataset[s]=l:delete e.dataset[s])}else"class"===r||r.startsWith("role")||r.indexOf("-")>0||e instanceof SVGElement?e.getAttribute(r)!==l&&(l?e.setAttribute(r,l):e.removeAttribute(r)):e[r]!==l&&(e[r]=l);"key"===r&&l&&(o[l]=e)}}t.updateElement=i,t.render=i,t.Fragment=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return l(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.createElement=r.createElement,t.Fragment=r.Fragment,t.render=function(e,t,n){r.updateElement(e,t,n)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function e(t,n,l){if(void 0===l&&(l=0),"string"==typeof t)return t;if(Array.isArray(t))return t.map(function(t){return e(t,n,l++)});var o=t;return t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).__isAppRunComponent&&(o=function(e,t,n){var l=e.tag,o=e.props,i=e.children,s=o&&o.id,u="_"+l.name+"_"+n;s?u="_"+l.name+"_"+s:s="_"+l.name+"_"+n,t.__componentCache||(t.__componentCache={});var c=t.__componentCache[u];c||(c=t.__componentCache[u]=new l(r({},o,{children:i})).mount(s)),c.mounted&&c.mounted(o,i);var f=c.state,d="";return f instanceof Promise||!c.view||(d=c.view(f),c.rendered&&setTimeout(function(){return c.rendered(f)})),a.default.createElement("div",{id:s},d)}(t,n,l++)),o&&o.children&&(o.children=o.children.map(function(t){return e(t,n,l++)})),o}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(2),o={};a.default.on("get-components",function(e){return e.components=o});var i=function(){function e(e,t,n,l){var o=this;this.state=e,this.view=t,this.update=n,this.options=l,this._app=new a.App,this._actions=[],this._history=[],this._history_idx=-1,this.start=function(e,t){return void 0===e&&(e=null),void 0===t&&(t={render:!0}),o.mount(e,r({},t,{render:!0}))}}return e.prototype.renderState=function(e){var t=this;if(this.view){var n=this.view(e);if(a.default.run("debug",{component:this,state:e,vdom:n||"[vdom is null - no render]"}),"object"==typeof document){var r="string"==typeof this.element?document.getElementById(this.element):this.element;if(r){if(this.unload){if(r._component!==this){this.tracking_id=(new Date).valueOf().toString(),r.setAttribute("_c",this.tracking_id);var l=new MutationObserver(function(e){var n=e[0],a=n.removedNodes;(n.oldValue===t.tracking_id||Array.from(a).indexOf(r)>=0)&&(t.unload(),l.disconnect())});r.parentNode&&l.observe(r.parentNode,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["_c"]})}}else r.removeAttribute("_c");r._component=this}a.default.render(r,n,this),this.rendered&&this.rendered(this.state)}}},e.prototype.setState=function(e,t){var n=this;if(void 0===t&&(t={render:!0,history:!1}),e instanceof Promise)e.then(function(e){n.setState(e,t)}).catch(function(e){throw console.error(e),e}),this._state=e;else{if(this._state=e,null==e)return;this.state=e,!1!==t.render&&this.renderState(e),!1!==t.history&&this.enable_history&&(this._history=this._history.concat([e]),this._history_idx=this._history.length-1),"function"==typeof t.callback&&t.callback(this.state)}},e.prototype.mount=function(e,t){var n=this;return void 0===e&&(e=null),console.assert(!this.element,"Component already mounted."),this.options=t=r({},this.options,t),this.element=e,this.global_event=t.global_event,this.enable_history=!!t.history,this.enable_history&&(this.on(t.history.prev||"history-prev",function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0}),this.on(t.history.next||"history-next",function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1})),this.add_actions(),void 0===this.state&&(this.state=this.model||{}),t.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),o[e]=o[e]||[],o[e].push(this),this},e.prototype.is_global_event=function(e){return e&&(e.startsWith("#")||e.startsWith("/"))},e.prototype.add_action=function(e,t,n){var r=this;void 0===n&&(n={}),t&&"function"==typeof t&&this.on(e,function(){for(var l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];var i=t.apply(void 0,[r.state].concat(l));a.default.run("debug",{component:r,event:e,e:l,state:r.state,newState:i,options:n}),r.setState(i,n)},n)},e.prototype.add_actions=function(){var e=this,t=this.update||{};l.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith("apprun-update:")){var r=l.Reflect.getMetadata(n,e);t[r.name]=[e[r.key].bind(e),r.options]}});var n={};Object.keys(t).forEach(function(e){var r=t[e];("function"==typeof r||Array.isArray(r))&&e.split(",").forEach(function(e){return n[e.trim()]=r})}),Object.keys(n).forEach(function(t){var r=n[t];"function"==typeof r?e.add_action(t,r):Array.isArray(r)&&e.add_action(t,r[0],r[1])})},e.prototype.run=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(e)?a.default.run.apply(a.default,[e].concat(n)):(t=this._app).run.apply(t,[e].concat(n))},e.prototype.on=function(e,t,n){return this._actions.push({name:e,fn:t}),this.global_event||this.is_global_event(e)?a.default.on(e,t,n):this._app.on(e,t,n)},e.prototype.unmount=function(){var e=this;this._actions.forEach(function(t){var n=t.name,r=t.fn;e.global_event||e.is_global_event(n)?a.default.off(n,r):e._app.off(n,r)})},e.__isAppRunComponent=!0,e}();t.Component=i}])},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return a}),n.d(t,"__assign",function(){return l}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return i}),n.d(t,"__param",function(){return s}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return m}),n.d(t,"__spread",function(){return h}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return _}),n.d(t,"__asyncValues",function(){return y}),n.d(t,"__makeTemplateObject",function(){return b}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return w});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n}function i(e,t,n,r){var a,l=arguments.length,o=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(l<3?a(o):l>3?a(t,n,o):a(t,n))||o);return l>3&&o&&Object.defineProperty(t,n,o),o}function s(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))(function(a,l){function o(e){try{s(r.next(e))}catch(e){l(e)}}function i(e){try{s(r.throw(e))}catch(e){l(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,i)}s((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}return o}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),l=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise(function(n,r){l.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{(n=a[e](t)).value instanceof g?Promise.resolve(n.value.v).then(s,u):c(l[0][2],n)}catch(e){c(l[0][3],e)}var n}function s(e){i("next",e)}function u(e){i("throw",e)}function c(e,t){e(t),l.shift(),l.length&&i(l[0][0],l[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,a,(t=e[n](t)).done,t.value)})}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(0);window.defaultBasePath="https://conduit.productionready.io/api";var o=n(11);t.toQueryString=o.toQueryString,t.serializeObject=o.serializeObject,t.tags={all:function(){return o.get("/tags")}},t.auth={current:function(){return o.getToken()?o.get("/user"):null},signIn:function(e){return o.post("/users/login",{user:e})},register:function(e){return o.post("/users",{user:e})},save:function(e){return o.put("/user",{user:e})},authorized:function(){return!!l.default.user||l.default.run("#/login")&&!1}},t.articles={search:function(e){return o.get("/articles?"+o.toQueryString(e))},feed:function(e){return o.get("/articles/feed?"+o.toQueryString(e))},get:function(e){return o.get("/articles/"+e)},delete:function(e){return o.del("/articles/"+e)},favorite:function(e){return o.post("/articles/"+e+"/favorite")},unfavorite:function(e){return o.del("/articles/"+e+"/favorite")},update:function(e){return o.put("/articles/"+e.slug,{article:e})},create:function(e){return o.post("/articles",{article:e})}},t.comments={create:function(e,t){return o.post("/articles/"+e+"/comments",{comment:t})},delete:function(e,t){return o.del("/articles/"+e+"/comments/"+t)},forArticle:function(e){return o.get("/articles/"+e+"/comments")}},t.profile={get:function(e){return o.get("/profiles/"+e)},follow:function(e){return o.post("/profiles/"+e+"/follow")},unfollow:function(e){return o.del("/profiles/"+e+"/follow")}},l.default.on("/get-user",function(){return a.__awaiter(r,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.auth.current()];case 1:return(e=n.sent())&&l.default.run("/set-user",e.user),[3,3];case 2:return n.sent(),o.setToken(null),document.location.reload(!0),[3,3];case 3:return[2]}})})}),l.default.on("/set-user",function(e){l.default.user=e,o.setToken(e?e.token:null)}),l.default.on("/toggle-follow",function(e,n){return a.__awaiter(r,void 0,void 0,function(){var r,l;return a.__generator(this,function(a){switch(a.label){case 0:return t.auth.authorized()?e.following?[4,t.profile.unfollow(e.username)]:[3,2]:[2];case 1:return l=a.sent(),[3,4];case 2:return[4,t.profile.follow(e.username)];case 3:l=a.sent(),a.label=4;case 4:return r=l,n.run("update-follow",r.profile),[2]}})})}),l.default.on("/toggle-fav-article",function(e,n){return a.__awaiter(r,void 0,void 0,function(){var r,l;return a.__generator(this,function(a){switch(a.label){case 0:return t.auth.authorized()?e.favorited?[4,t.articles.unfavorite(e.slug)]:[3,2]:[2];case 1:return l=a.sent(),[3,4];case 2:return[4,t.articles.favorite(e.slug)];case 3:l=a.sent(),a.label=4;case 4:return r=l,n.run("update-article",r.article),[2]}})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.errors;return r.default.createElement("ul",{className:"error-messages"},Object.keys(t).map(function(e){return r.default.createElement("li",null,e+" "+t[e])}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function a(e){var t=e.article,n=t.favorited?"btn-primary":"btn-outline-primary";return r.default.createElement("div",{className:"article-preview"},r.default.createElement("div",{className:"article-meta"},r.default.createElement("a",{href:t.author.image},r.default.createElement("img",{src:t.author.image})),r.default.createElement("div",{className:"info"},r.default.createElement("a",{href:"#/profile/"+t.author.username,className:"author"},t.author.username),r.default.createElement("span",{className:"date"},new Date(t.updatedAt).toLocaleString())),r.default.createElement("button",{className:"btn btn-sm pull-xs-right "+n,onclick:function(n){return r.default.run("toggle-fav-article",t,e.component)}},r.default.createElement("i",{className:"ion-heart"})," ",t.favoritesCount)),r.default.createElement("a",{href:"#/article/"+t.slug,className:"preview-link"},r.default.createElement("h1",null,t.title),r.default.createElement("p",null,t.description),r.default.createElement("span",null,"Read more..."),r.default.createElement("ul",{className:"tag-list"},t.tagList.map(function(e){return r.default.createElement("li",{className:"tag-default tag-pill tag-outline"},r.default.createElement("a",{href:"#/tag/"+e},e," "))}))))}t.default=function(e){var t=e.articles,n=e.component;return t.length?t.map(function(e){return r.default.createElement(a,{article:e,component:n})}):r.default.createElement("div",{className:"article-preview"},"No articles are here... yet.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.max,n=e.selected,a=e.link,l=new Array(t).fill(0);return r.default.createElement("nav",null,r.default.createElement("ul",{className:"pagination"},l.map(function(e,t){return r.default.createElement("li",{className:"page-item "+(t+1===n?"active":"")},r.default.createElement("a",{href:a+"/"+(t+1),className:"page-link"},t+1))})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.title,n=e.body,a=e.ok,l=e.cancel,o=e.onOK,i=e.onCancel;return r.default.createElement("div",{className:"modal-open"},r.default.createElement("div",{className:"modal-dialog",role:"document"},r.default.createElement("div",{className:"modal-content"},r.default.createElement("div",{className:"modal-header"},r.default.createElement("h5",{className:"modal-title"},t,r.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onclick:function(e){return i(e)}},r.default.createElement("span",{"aria-hidden":"true"},"×")))),r.default.createElement("div",{className:"modal-body"},r.default.createElement("p",null,n)),r.default.createElement("div",{className:"modal-footer"},l&&r.default.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onclick:function(e){return i(e)}},l),"  ",r.default.createElement("button",{type:"button",className:"btn btn-primary",onclick:function(e){return o(e)}},a)))),r.default.createElement("div",{className:"modal-backdrop show",onclick:function(e){return i(e)}}))}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||E.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=d(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=d(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=d(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=d(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=d(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=d(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=v({},n),n.gfm=v({},n.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=d(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=v({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=v({},n.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,a,l,o,i,s,u,c,f,d,p,m,h,g,v,b;for(e=e.replace(/^ +$/gm,"");e;)if((l=this.rules.newline.exec(e))&&(e=e.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(e))e=e.substring(l[0].length),l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?l:y(l,"\n")});else if(l=this.rules.fences.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});else if(l=this.rules.heading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if((l=this.rules.nptable.exec(e))&&(s={type:"table",header:_(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(l[0].length),p=0;p<s.align.length;p++)/^ *-+: *$/.test(s.align[p])?s.align[p]="right":/^ *:-+: *$/.test(s.align[p])?s.align[p]="center":/^ *:-+ *$/.test(s.align[p])?s.align[p]="left":s.align[p]=null;for(p=0;p<s.cells.length;p++)s.cells[p]=_(s.cells[p],s.header.length);this.tokens.push(s)}else if(l=this.rules.hr.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,t),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(e)){for(e=e.substring(l[0].length),u={type:"list_start",ordered:g=(o=l[2]).length>1,start:g?+o:"",loose:!1},this.tokens.push(u),c=[],r=!1,h=(l=l[0].match(this.rules.item)).length,p=0;p<h;p++)d=(s=l[p]).length,~(s=s.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+d+"}","gm"),"")),p!==h-1&&(i=n.bullet.exec(l[p+1])[0],(o.length>1?1===i.length:i.length>1||this.options.smartLists&&i!==o)&&(e=l.slice(p+1).join("\n")+e,p=h-1)),a=r||/\n\n(?!\s*$)/.test(s),p!==h-1&&(r="\n"===s.charAt(s.length-1),a||(a=r)),a&&(u.loose=!0),b=void 0,(v=/^\[[ xX]\] /.test(s))&&(b=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),f={type:"list_item_start",task:v,checked:b,loose:a},c.push(f),this.tokens.push(f),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(h=c.length,p=0;p<h;p++)c[p].loose=!0;this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(e))e=e.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:l[0]});else if(t&&(l=this.rules.def.exec(e)))e=e.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),m=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[m]||(this.tokens.links[m]={href:l[2],title:l[3]});else if((l=this.rules.table.exec(e))&&(s={type:"table",header:_(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(l[0].length),p=0;p<s.align.length;p++)/^ *-+: *$/.test(s.align[p])?s.align[p]="right":/^ *:-+: *$/.test(s.align[p])?s.align[p]="center":/^ *:-+ *$/.test(s.align[p])?s.align[p]="left":s.align[p]=null;for(p=0;p<s.cells.length;p++)s.cells[p]=_(s.cells[p].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(l=this.rules.lheading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2]?1:2,text:l[1]});else if(t&&(l=this.rules.paragraph.exec(e)))e=e.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var a={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function l(e,t){if(this.options=t||E.defaults,this.links=e,this.rules=a.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.options.breaks?this.rules=a.breaks:this.rules=a.gfm)}function o(e){this.options=e||E.defaults}function i(){}function s(e){this.tokens=[],this.token=null,this.options=e||E.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new u}function u(){this.seen={}}function c(e,t){if(t){if(c.escapeTest.test(e))return e.replace(c.escapeReplace,function(e){return c.replacements[e]})}else if(c.escapeTestNoEncode.test(e))return e.replace(c.escapeReplaceNoEncode,function(e){return c.replacements[e]});return e}function f(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function d(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t,n){if(e){try{var r=decodeURIComponent(f(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!h.test(n)&&(n=function(e,t){m[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?m[" "+e]=e+"/":m[" "+e]=y(e,"/",!0));return e=m[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}a._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",a.em=d(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=d(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=d(a.tag).replace("comment",n._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,a._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=d(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=d(a.reflink).replace("label",a._label).getRegex(),a.normal=v({},a),a.pedantic=v({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=v({},a.normal,{escape:d(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=d(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=v({},a.gfm,{br:d(a.br).replace("{2,}","*").getRegex(),text:d(a.gfm.text).replace(/\{2,\}/g,"*").getRegex()}),l.rules=a,l.output=function(e,t,n){return new l(t,n).output(e)},l.prototype.output=function(e){for(var t,n,r,a,o,i,s="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),s+=c(o[1]);else if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),e=e.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):c(o[0]):o[0];else if(o=this.rules.link.exec(e)){var u=b(o[2],"()");if(u>-1){var f=o[0].length-(o[2].length-u)-(o[3]||"").length;o[2]=o[2].substring(0,u),o[0]=o[0].substring(0,f).trim(),o[3]=""}e=e.substring(o[0].length),this.inLink=!0,r=o[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],a=t[3]):a="":a=o[3]?o[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(o,{href:l.escapes(r),title:l.escapes(a)}),this.inLink=!1}else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),s+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),s+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),s+=this.renderer.codespan(c(o[2].trim(),!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),r="@"===o[2]?"mailto:"+(n=c(this.mangle(o[1]))):n=c(o[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.inRawBlock?s+=this.renderer.text(o[0]):s+=this.renderer.text(c(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===o[2])r="mailto:"+(n=c(o[0]));else{do{i=o[0],o[0]=this.rules._backpedal.exec(o[0])[0]}while(i!==o[0]);n=c(o[0]),r="www."===o[1]?"http://"+n:n}e=e.substring(o[0].length),s+=this.renderer.link(r,null,n)}return s},l.escapes=function(e){return e?e.replace(l.rules._escapes,"$1"):e},l.prototype.outputLink=function(e,t){var n=t.href,r=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,c(e[1]))},l.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},l.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,a=0;a<r;a++)t=e.charCodeAt(a),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var a=this.options.highlight(e,r);null!=a&&a!==e&&(n=!0,e=a)}return r?'<pre><code class="'+this.options.langPrefix+c(r,!0)+'">'+(n?e:c(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:c(e,!0))+"</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+c(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},o.prototype.image=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},o.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,n){return""+n},i.prototype.br=function(){return""},s.parse=function(e,t){return new s(t).parse(e)},s.prototype.parse=function(e){this.inline=new l(e.links,this.options),this.inlineText=new l(e.links,v({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,f(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,a="",l="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});l+=this.renderer.tablerow(n)}return this.renderer.table(a,l);case"blockquote_start":for(l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":l="";for(var o=this.token.ordered,i=this.token.start;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o,i);case"list_item_start":l="";var s=this.token.loose,u=this.token.checked,c=this.token.task;for(this.token.task&&(l+=this.renderer.checkbox(u));"list_item_end"!==this.next().type;)l+=s||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(l,c,u);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},u.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},c.escapeTest=/[&<>"']/,c.escapeReplace=/[&<>"']/g,c.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,c.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var m={},h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function v(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,a=t;--a>=0&&"\\"===n[a];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function y(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var a=e.charAt(e.length-r-1);if(a!==t||n){if(a===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function b(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function E(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var a,l,o=(t=v({},E.defaults,t||{})).highlight,i=0;try{a=r.lex(e,t)}catch(e){return n(e)}l=a.length;var u=function(e){if(e)return t.highlight=o,n(e);var r;try{r=s.parse(a,t)}catch(t){e=t}return t.highlight=o,e?n(e):n(null,r)};if(!o||o.length<3)return u();if(delete t.highlight,!l)return u();for(;i<a.length;i++)!function(e){"code"!==e.type?--l||u():o(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--l||u():(e.text=n,e.escaped=!0,void(--l||u()))})}(a[i])}else try{return t&&(t=v({},E.defaults,t)),s.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||E.defaults).silent)return"<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}g.exec=g,E.options=E.setOptions=function(e){return v(E.defaults,e),E},E.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},E.defaults=E.getDefaults(),E.Parser=s,E.parser=s.parse,E.Renderer=o,E.TextRenderer=i,E.Lexer=r,E.lexer=r.lex,E.InlineLexer=l,E.inlineLexer=l.output,E.Slugger=u,E.parse=E,e.exports=E}(this||"undefined"!=typeof window&&window)}).call(this,n(19))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(9),n(10),n(12),n(13),n(14),n(15),n(16),n(17),r.default.on("#",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.default.run.apply(r.default,["#/"+(e||"")].concat(t))}),r.default.run("/get-user")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){var t=e.user;return a.default.createElement("ul",{className:"nav navbar-nav pull-xs-right"},a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link active",href:"#/"},"Home")),t&&a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/editor"},a.default.createElement("i",{className:"ion-compose"})," New Post")),t&&a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/settings"},a.default.createElement("i",{className:"ion-gear-a"})," Settings")),t?"":a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/login"},"Sign In")),t?"":a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/register"},"Sign Up")),t&&a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/profile/"+t.username},t.username)),t&&a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link",href:"#/logout"},"Sign Out")))},t.setUser=function(e,t){return r.__assign({},e,{user:t})},t}return r.__extends(t,e),r.__decorate([a.on("/set-user")],t.prototype,"setUser",void 0),t}(a.Component);t.default=(new l).start("header")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(4),i=n(5),s=10,u=function(e){var t=e.tag;return a.default.createElement("a",{href:"#/tag/"+t+"/1",className:"tag-pill tag-default"},t)},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={type:"",articles:[],tags:[],max:1,page:1},t.view=function(e){var n="tag"===e.type&&e.tag?"/"+e.tag:"";return a.default.createElement("div",{className:"home-page"},a.default.createElement("div",{className:"banner"},a.default.createElement("div",{className:"container"},a.default.createElement("h1",{className:"logo-font"},"conduit"),a.default.createElement("p",null,"A place to share your knowledge."))),a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-9"},a.default.createElement("div",{className:"feed-toggle"},a.default.createElement("ul",{className:"nav nav-pills outline-active"},a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link "+(a.default.user?"":"disabled")+" "+("feed"===e.type?"active":""),href:"#/feed"},"Your Feed")),a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link "+(""===e.type?"active":""),href:"#/"},"Global Feed")),e.tag?a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link "+("tag"===e.type?"active":""),href:"#/tag/"+e.tag},"#",e.tag)):"")),a.default.createElement(o.default,{articles:e.articles,component:t}),a.default.createElement(i.default,{max:Math.floor(e.max/s),selected:e.page,link:"#/"+e.type+n})),a.default.createElement("div",{className:"col-md-3"},a.default.createElement("div",{className:"sidebar"},a.default.createElement("p",null,"Popular Tags"),a.default.createElement("div",{className:"tag-list"},e.tags.map(function(e){return a.default.createElement(u,{tag:e})})))))))},t.updateState=function(e,n,a,o){return r.__awaiter(t,void 0,void 0,function(){var t,i,u,c,f,d,p;return r.__generator(this,function(m){switch(m.label){case 0:return m.trys.push([0,11,,12]),e.tags.length?(i={tags:e.tags},[3,3]):[3,1];case 1:return[4,l.tags.all()];case 2:i=m.sent(),m.label=3;case 3:switch(t=i,a=parseInt(a)||1,o=o||e.tag,u=s,c=(a-1)*s,f=void 0,n){case"feed":return[3,4];case"tag":return[3,6]}return[3,8];case 4:return l.auth.authorized()?[4,l.articles.feed({limit:u,offset:c})]:[2,r.__assign({},e,{articles:[],max:0})];case 5:return f=m.sent(),[3,10];case 6:return[4,l.articles.search({tag:o,limit:u,offset:c})];case 7:return f=m.sent(),[3,10];case 8:return[4,l.articles.search({limit:u,offset:c})];case 9:return f=m.sent(),[3,10];case 10:return a=Math.min(a,Math.floor(f.articlesCount/s)+1),[2,r.__assign({},e,{tags:t.tags,type:n,page:a,tag:o,articles:f.articles,max:f.articlesCount})];case 11:return d=m.sent(),p=d.errors,[2,r.__assign({},e,{errors:p,articles:[],max:0})];case 12:return[2]}})})},t.root=function(e,n){return r.__awaiter(t,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"",n)];case 1:return[2,t.sent()]}})})},t.feed=function(e,n){return r.__awaiter(t,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"feed",n)];case 1:return[2,t.sent()]}})})},t.tag=function(e,n,a){return r.__awaiter(t,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return[4,this.updateState(e,"tag",a,n)];case 1:return[2,t.sent()]}})})},t.updateArticle=function(e,t){return e.articles=e.articles.map(function(e){return e.slug===t.slug?t:e}),e},t}return r.__extends(t,e),r.__decorate([a.on("#/")],t.prototype,"root",void 0),r.__decorate([a.on("#/feed")],t.prototype,"feed",void 0),r.__decorate([a.on("#/tag")],t.prototype,"tag",void 0),r.__decorate([a.on("update-article")],t.prototype,"updateArticle",void 0),t}(a.Component);t.default=(new c).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=window&&window.localStorage&&window.localStorage.getItem("jwt")||"";function l(e){a=e,window.localStorage&&(e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt"))}function o(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var o,i,s;return r.__generator(this,function(r){switch(r.label){case 0:return o={"Content-Type":"application/json; charset=utf-8"},a&&(o.Authorization="Token "+a),[4,window.fetch(""+defaultBasePath+t,{method:e,headers:o,body:n&&JSON.stringify(n)})];case 1:if(401===(i=r.sent()).status)throw l(null),new Error("401");return[4,i.json()];case 2:if(s=r.sent(),!i.ok)throw s;return[2,s]}})})}t.getToken=function(){return a},t.setToken=l,t.fetchAsync=o,t.get=function(e){return o("GET",e)},t.post=function(e,t){return o("POST",e,t)},t.del=function(e){return o("DELETE",e)},t.put=function(e,t){return o("PUT",e,t)},t.toQueryString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},t.serializeObject=function(e){var t={};if("object"==typeof e&&"FORM"==e.nodeName)for(var n=0;n<e.elements.length;n++){var r=e.elements[n];if(r.name&&"file"!=r.type&&"reset"!=r.type&&"submit"!=r.type&&"button"!=r.type)if("select-multiple"==r.type){t[r.name]="";for(var a="",l=0;l<e.elements[n].options.length;l++)r.options[l].selected&&(a+=r.options[l].value+";");";"===a.charAt(a.length-1)&&(t[r.name]=a.substring(0,a.length-1))}else("checkbox"!=r.type&&"radio"!=r.type||r.checked)&&(t[r.name]=r.value)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(3),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(e&&!(e instanceof Promise))return a.default.createElement("div",{className:"auth-page"},a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},a.default.createElement("h1",{className:"text-xs-center"},"Sign In"),a.default.createElement("p",{className:"text-xs-center"},a.default.createElement("a",{href:"#/register"},"Need an account?")),e.errors&&a.default.createElement(o.default,{errors:e.errors}),a.default.createElement("form",{onsubmit:function(e){return t.run("sign-in",e)}},a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),a.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Sign In"))))))},t.login=function(e){return r.__assign({},e,{messages:[],returnTo:document.location.hash})},t.logout=function(e){a.default.run("/set-user",null),document.location.hash="#/"},t.signIn=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,o,i,s;return r.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n.preventDefault(),[4,l.auth.signIn(l.serializeObject(n.target))];case 1:return t=u.sent(),a.default.run("/set-user",t.user),(o=(e.returnTo||"").replace(/\#\/login\/?/,""))?(a.default.run("route",o),history.pushState(null,null,o)):document.location.hash="#/feed",[3,3];case 2:return i=u.sent(),s=i.errors,[2,r.__assign({},e,{errors:s})];case 3:return[2]}})})},t}return r.__extends(t,e),r.__decorate([a.on("#/login")],t.prototype,"login",void 0),r.__decorate([a.on("#/logout")],t.prototype,"logout",void 0),r.__decorate([a.on("sign-in")],t.prototype,"signIn",void 0),t}(a.Component);t.default=(new i).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(3),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(e&&!(e instanceof Promise))return a.default.createElement("div",{className:"auth-page"},a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},a.default.createElement("h1",{className:"text-xs-center"},"Sign Up"),a.default.createElement("p",{className:"text-xs-center"},a.default.createElement("a",{href:"#/login"},"Have an account?")),e.errors&&a.default.createElement(o.default,{errors:e.errors}),a.default.createElement("form",{onsubmit:function(e){return t.run("register",e)}},a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username"})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),a.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Sign up"))))))},t.register=function(e,t){return r.__assign({},e,{messages:t})},t.submitRegistration=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,o,i;return r.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n.preventDefault(),[4,l.auth.register(l.serializeObject(n.target))];case 1:return t=s.sent(),a.default.run("#user",t.user),a.default.run("route","#/"),[3,3];case 2:return o=s.sent(),i=o.errors,[2,r.__assign({},e,{errors:i})];case 3:return[2]}})})},t}return r.__extends(t,e),r.__decorate([a.on("#/register")],t.prototype,"register",void 0),r.__decorate([a.on("register")],t.prototype,"submitRegistration",void 0),t}(a.Component);t.default=(new i).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(4),i=n(5),s=10,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={name:"",type:"articles",articles:[],page:1},t.view=function(e){var n=e.profile;if(n)return a.default.createElement("div",{className:"profile-page"},a.default.createElement("div",{className:"user-info"},a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},a.default.createElement("img",{src:n.image,className:"user-img"}),a.default.createElement("h4",null,n.username),a.default.createElement("p",null,n.bio),a.default.createElement("button",{className:"btn btn-sm btn-outline-secondary action-btn",onclick:function(e){return a.default.run("/toggle-follow",n,t)}},n.following?a.default.createElement("span",null,a.default.createElement("i",{className:"ion-minus-round"})," Unfollow ",n.username):a.default.createElement("span",null,a.default.createElement("i",{className:"ion-plus-round"})," Follow ",n.username)))))),a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},a.default.createElement("div",{className:"articles-toggle"},a.default.createElement("ul",{className:"nav nav-pills outline-active"},a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link "+("articles"===e.type?"active":""),href:"#/profile/"+n.username+"/articles/1"},"My Articles")),a.default.createElement("li",{className:"nav-item"},a.default.createElement("a",{className:"nav-link "+("favorites"===e.type?"active":""),href:"#/profile/"+n.username+"/favorites/1"},"Favorited Articles")))),a.default.createElement(o.default,{articles:e.articles,component:t}),a.default.createElement(i.default,{max:Math.floor(e.max/s),selected:e.page,link:"#/profile/"+e.profile.username+"/"+e.type})))))},t.updateState=function(e,n,a,o){return r.__awaiter(t,void 0,void 0,function(){var t,i,u,c,f,d;return r.__generator(this,function(p){switch(p.label){case 0:return n=decodeURIComponent(n||e.name),a=a||e.type,o=parseInt(o)||e.page,t=e,n===e.name?[3,2]:[4,l.profile.get(n)];case 1:i=p.sent(),t=r.__assign({},t,{profile:i.profile}),p.label=2;case 2:return n===e.name&&a===e.type&&o===e.page?[3,7]:(c=(o-1)*(u=s),"favorites"!==a?[3,4]:[4,l.articles.search({favorited:n,offset:c,limit:u})]);case 3:return d=p.sent(),[3,6];case 4:return[4,l.articles.search({author:n,offset:c,limit:u})];case 5:d=p.sent(),p.label=6;case 6:f=d,t=r.__assign({},t,{name:n,type:a,page:o,articles:f.articles,max:f.articlesCount}),p.label=7;case 7:return[2,t]}})})},t.root=function(e,n,r,a){return t.updateState(e,n,r,a)},t.updateArticle=function(e,t){return e.articles=e.articles.map(function(e){return e.slug===t.slug?t:e}),e},t.updateFollow=function(e,t){return r.__assign({},e,{profile:t})},t}return r.__extends(t,e),r.__decorate([a.on("#/profile")],t.prototype,"root",void 0),r.__decorate([a.on("update-article")],t.prototype,"updateArticle",void 0),r.__decorate([a.on("update-follow")],t.prototype,"updateFollow",void 0),t}(a.Component);t.default=(new u).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(3),i=n(6),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){var n=e.user;if(n)return a.default.createElement("div",{className:"settings-page"},e.showModal?a.default.createElement(i.default,{title:"Confirmation",body:"Your settings has been updated successfully.",ok:"OK",cancel:"Cancel",onOK:function(e){return t.run("ok",e)},onCancel:function(e){return t.run("cancel",e)}}):"",a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},e.errors&&a.default.createElement(o.default,{errors:e.errors}),a.default.createElement("h1",{className:"text-xs-center"},"Your Settings"),a.default.createElement("form",{onsubmit:function(e){return t.run("submit-settings",e)}},a.default.createElement("fieldset",null,a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",value:n.image})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",value:n.username})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio"},n.bio)),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:n.email})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:n.password})),a.default.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right"},"Update Settings")))))))},t.settings=function(e){if(l.auth.authorized())return{user:a.default.user}},t.submitSettings=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,o,i,s;return r.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n.preventDefault(),t=l.serializeObject(n.target),[4,l.auth.save(t)];case 1:return o=u.sent(),a.default.run("#user",o.user),[2,{showModal:!0}];case 2:return i=u.sent(),s=i.errors,[2,r.__assign({},e,{errors:s})];case 3:return[2]}})})},t.ok=function(e){return{showModel:!1}},t}return r.__extends(t,e),r.__decorate([a.on("#/settings")],t.prototype,"settings",void 0),r.__decorate([a.on("submit-settings")],t.prototype,"submitSettings",void 0),r.__decorate([a.on("ok, cancel")],t.prototype,"ok",void 0),t}(a.Component);t.default=(new s).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(3),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.view=function(e){if(a.default.user&&e.article){var n=e.article;return a.default.createElement("div",{className:"editor-page"},a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},e.errors&&a.default.createElement(o.default,{errors:e.errors}),a.default.createElement("form",{onsubmit:function(e){return t.run("submit-article",e)}},n.slug&&a.default.createElement("input",{type:"hidden",name:"slug",value:n.slug}),a.default.createElement("fieldset",null,a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title",name:"title",value:n.title})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{type:"text",className:"form-control",placeholder:"What's this article about?",name:"description",value:n.description})),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body"},n.body)),a.default.createElement("fieldset",{className:"form-group"},a.default.createElement("input",{type:"text",className:"form-control",placeholder:"Enter tags",name:"tags",value:n.tagList.join(", ")}),a.default.createElement("div",{className:"tag-list"})),a.default.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"submit"},"Publish Article")))))))}},t.root=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var e,t;return r.__generator(this,function(r){switch(r.label){case 0:return l.auth.authorized()?n?[4,l.articles.get(n)]:[3,2]:[2];case 1:t=r.sent(),e=t.article,r.label=2;case 2:return[2,{article:e=e||{title:"",description:"",body:"",tagList:[]}}]}})})},t.submitArticle=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,a,o,i,s;return r.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),n.preventDefault(),(t=l.serializeObject(n.target)).tagList=t.tags.split(","),t.slug?[4,l.articles.update(t)]:[3,2];case 1:return o=u.sent(),[3,4];case 2:return[4,l.articles.create(t)];case 3:o=u.sent(),u.label=4;case 4:return a=o,document.location.hash="#/article/"+a.article.slug,[3,6];case 5:return i=u.sent(),s=i.errors,[2,r.__assign({},e,{errors:s})];case 6:return[2]}})})},t}return r.__extends(t,e),r.__decorate([a.on("#/editor")],t.prototype,"root",void 0),r.__decorate([a.on("submit-article")],t.prototype,"submitArticle",void 0),t}(a.Component);t.default=(new i).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),l=n(2),o=n(18),i=n(20),s=n(6),u=n(7),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={article:null,comments:[]},t.view=function(e){var n=e.article;if(n)return a.default.createElement("div",{className:"article-page"},e.deleting?a.default.createElement(s.default,{title:"Delete Article",body:"Are you sure you want to delete this article?",ok:"Delete",cancel:"No",onOK:function(e){return t.run("ok-delete-article",e)},onCancel:function(e){return t.run("cancel-delete-article",e)}}):"",a.default.createElement("div",{className:"banner"},a.default.createElement("div",{className:"container"},a.default.createElement("h1",null,n.title),a.default.createElement(i.default,{article:n,component:t}))),a.default.createElement("div",{className:"container page"},a.default.createElement("div",{className:"row article-content"},a.default.createElement("div",{className:"col-md-12"},a.default.createElement("p",null,"_html:"+u(n.body,{sanitize:!0})),a.default.createElement("div",{className:"tag-list"},a.default.createElement("br",null),n.tagList.map(function(e){return a.default.createElement("li",{className:"tag-default tag-pill tag-outline"},a.default.createElement("a",{href:"#/tag/"+e},e," "))})))),a.default.createElement("hr",null),a.default.createElement("div",{className:"article-actions"},a.default.createElement(i.default,{article:n,component:t})),a.default.createElement(o.default,{comments:e.comments})))},t.root=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,a,o,i;return r.__generator(this,function(s){switch(s.label){case 0:return t=e.article,a=e.comments,t&&t.slug===n?[3,3]:[4,l.articles.get(n)];case 1:return o=s.sent(),t=o.article,[4,l.comments.forArticle(t.slug)];case 2:i=s.sent(),a=i.comments,s.label=3;case 3:return[2,r.__assign({},e,{article:t,comments:a})]}})})},t.newComment=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t,a,o,i;return r.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),n.preventDefault(),(t=n.target.comment.value)?[4,l.comments.create(e.article.slug,{body:t})]:[2];case 1:return s.sent(),[4,l.comments.forArticle(e.article.slug)];case 2:return a=s.sent(),[2,r.__assign({},e,{comments:a.comments})];case 3:return o=s.sent(),i=o.errors,[2,r.__assign({},e,{errors:i})];case 4:return[2]}})})},t.deleteComment=function(e,n){return r.__awaiter(t,void 0,void 0,function(){var t;return r.__generator(this,function(a){switch(a.label){case 0:return[4,l.comments.delete(this.state.article.slug,n.id)];case 1:return a.sent(),[4,l.comments.forArticle(e.article.slug)];case 2:return t=a.sent(),[2,r.__assign({},e,{comments:t.comments})]}})})},t.updateArticle=function(e,t){return r.__assign({},e,{article:t})},t.updateFollow=function(e,t){return e.article.author=t,e},t.editArticle=function(e,t){document.location.hash="#/editor/"+t.slug},t.deleteArticle=function(e,t){return r.__assign({},e,{deleting:!0})},t.okDelete=function(e,t){return l.articles.delete(e.article.slug),document.location.hash="#/",r.__assign({},e,{deleting:!1})},t.cancelDelete=function(e,t){return r.__assign({},e,{deleting:!1})},t}return r.__extends(t,e),r.__decorate([a.on("#/article")],t.prototype,"root",void 0),r.__decorate([a.on("/new-comment")],t.prototype,"newComment",void 0),r.__decorate([a.on("/delete-comment")],t.prototype,"deleteComment",void 0),r.__decorate([a.on("update-article")],t.prototype,"updateArticle",void 0),r.__decorate([a.on("update-follow")],t.prototype,"updateFollow",void 0),r.__decorate([a.on("edit-article")],t.prototype,"editArticle",void 0),r.__decorate([a.on("delete-article")],t.prototype,"deleteArticle",void 0),r.__decorate([a.on("ok-delete-article")],t.prototype,"okDelete",void 0),r.__decorate([a.on("cancel-delete-article")],t.prototype,"cancelDelete",void 0),t}(a.Component);t.default=(new c).mount("my-app")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(7);function l(e){var t=e.comment;return r.default.createElement("div",{className:"card"},r.default.createElement("div",{className:"card-block"},r.default.createElement("p",{className:"card-text"},r.default.createElement("p",null,"_html:"+a(t.body,{sanitize:!0})))),r.default.createElement("div",{className:"card-footer"},r.default.createElement("a",{className:"comment-author"},r.default.createElement("img",{src:t.author.image,className:"comment-author-img"}))," ",r.default.createElement("a",{className:"comment-author",href:"#/profile/"+t.author.username},t.author.username),r.default.createElement("span",{className:"date-posted"},new Date(t.createdAt).toLocaleString()),r.default.user&&r.default.user.username===t.author.username?r.default.createElement("span",{className:"mod-options"},r.default.createElement("i",{className:"ion-trash-a",onclick:function(e){return r.default.run("/delete-comment",t)}})):""))}t.default=function(e){var t=e.comments,n=r.default.user;return r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},n?r.default.createElement("form",{className:"card comment-form",onsubmit:function(e){return r.default.run("/new-comment",e)}},r.default.createElement("div",{className:"card-block"},r.default.createElement("textarea",{className:"form-control",placeholder:"Write a comment...",rows:"3",name:"comment"})),r.default.createElement("div",{className:"card-footer"},n.image?r.default.createElement("img",{src:n.image,className:"comment-author-img"}):r.default.createElement("span",null,"@",n.username),r.default.createElement("button",{className:"btn btn-sm btn-primary",type:"submit"},"Post Comment"))):r.default.createElement("p",null,r.default.createElement("a",{href:"#/login/"+document.location.hash},"Sign in")," or ",r.default.createElement("a",{href:"#/register"},"sign up")," to add comments on this article."),t.map(function(e){return r.default.createElement(l,{comment:e})})))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){var t=e.article,n=e.component,a=t.favorited?"btn-primary":"btn-outline-primary",l=t.author.following?"btn-secondary":"btn-outline-secondary";return r.default.createElement("div",{className:"article-meta"},r.default.createElement("a",{href:t.author.image},r.default.createElement("img",{src:t.author.image})),r.default.createElement("div",{className:"info"},r.default.createElement("a",{href:"#/profile/"+t.author.username,className:"author"},t.author.username),r.default.createElement("span",{className:"date"},new Date(t.updatedAt).toLocaleString())),r.default.user&&r.default.user.username===t.author.username?r.default.createElement("span",null,r.default.createElement("button",{className:"btn btn-sm btn-outline-secondary",onclick:function(e){return n.run("edit-article",t)}},r.default.createElement("i",{className:"ion-edit"}),"  Edit Article"),"  ",r.default.createElement("button",{className:"btn btn-sm btn-outline-danger",onclick:function(e){return n.run("delete-article",t)}},r.default.createElement("i",{className:"ion-trash-o"}),"  Delete Article")):r.default.createElement("span",null,r.default.createElement("button",{className:"btn btn-sm "+l,onclick:function(e){return r.default.run("/toggle-follow",t.author,n)}},t.author.following?r.default.createElement("span",null,r.default.createElement("i",{className:"ion-minus-round"})," Unfollow ",t.author.username):r.default.createElement("span",null,r.default.createElement("i",{className:"ion-plus-round"})," Follow ",t.author.username)),"   ",r.default.createElement("button",{className:"btn btn-sm "+a,onclick:function(e){return r.default.run("/toggle-fav-article",t,n)}},r.default.createElement("i",{className:"ion-heart"}),"  Favorite Post ",r.default.createElement("span",{className:"counter"},"(",t.favoritesCount,")"))))}}]);
//# sourceMappingURL=app.js.map