{"version":3,"sources":["webpack:///app.js","webpack:///webpack/bootstrap 62cf4bc82a9549d43f29","webpack:///./node_modules/apprun/dist/apprun.js","webpack:///./src/api.ts","webpack:///./src/components/error-list.tsx","webpack:///./src/components/article-list.tsx","webpack:///./src/components/page-list.tsx","webpack:///./node_modules/marked/lib/marked.js","webpack:///./src/main.ts","webpack:///./src/fetch.ts","webpack:///./src/components/header.tsx","webpack:///./src/components/home.tsx","webpack:///./src/components/signin.tsx","webpack:///./src/components/register.tsx","webpack:///./src/components/profile.tsx","webpack:///./src/components/settings.tsx","webpack:///./src/components/editor.tsx","webpack:///./src/components/article.tsx","webpack:///./src/components/comment-list.tsx","webpack:///(webpack)/buildin/global.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","t","e","this","r","default","value","_events","on","debug","console","log","push","fn","options","run","arguments","length","assert","filter","delay","apply","once","_t","clearTimeout","setTimeout","App","Component","createElement","render","start","assign","global_event","a","mount","window","app","document","addEventListener","h","firstChild","appendChild","parentNode","replaceChild","Math","min","childNodes","children","u","textContent","props","key","insertBefore","f","removeChild","lastChild","createDocumentFragment","nodeName","tag","toLowerCase","indexOf","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","forEach","style","keys","cssText","Array","isArray","getPrototypeOf","id","updateElement","__extends","setPrototypeOf","__proto__","constructor","create","state","view","update","_history","_history_idx","renderState","element","getElementById","_component","setState","Promise","then","catch","error","history","enable_history","concat","callback","rendered","prev","next","add_actions","model","is_global_event","startsWith","add_action","split","trim","route","onpopstate","location","hash","slice","fetch_1","getToken","setToken","toQueryString","serializeObject","tags","all","auth","current","signIn","user","post","register","save","put","articles","search","request","feed","slug","delete","del","favorite","unfavorite","article","comments","comment","commentId","forArticle","profile","username","follow","unfollow","default_1","_a","errors","apprun_1","className","map","Article","href","author","image","src","Date","updatedAt","toLocaleString","onclick","favoritesCount","title","description","class","tagList","select","preventDefault","page","parseInt","target","onpage","max","selected","pages","fill","idx","global","Lexer","tokens","links","marked","defaults","rules","block","normal","gfm","tables","InlineLexer","inline","renderer","Renderer","Error","breaks","pedantic","Parser","token","escape","html","encode","replace","unescape","_","charAt","String","fromCharCode","regex","opt","source","self","val","RegExp","noop","merge","obj","pending","highlight","lex","done","err","out","parse","type","text","lang","code","escaped","message","silent","newline","fences","hr","heading","nptable","lheading","blockquote","list","def","table","paragraph","bullet","item","_tag","top","bq","loose","cap","bull","b","space","exec","depth","header","align","cells","test","ordered","match","smartLists","join","sanitize","pre","sanitizer","charCodeAt","autolink","url","link","reflink","nolink","strong","em","br","_inside","_href","output","mangle","inLink","outputLink","codespan","smartypants","ch","random","toString","langPrefix","quote","level","raw","headerPrefix","xhtml","body","listitem","tablerow","content","tablecell","flags","prot","decodeURIComponent","reverse","tok","pop","peek","parseText","row","cell","j","setOptions","parser","lexer","inlineLexer","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","result","__generator","verb","v","op","TypeError","y","label","ops","trys","g","sent","throw","return","Symbol","iterator","_this","api_1","_i","ex_1","access_token","localStorage","setItem","removeItem","fetchAsync","method","headers","response","Authorization","defaultBasePath","json","ok","parts","encodeURIComponent","form","elements","field","tempvalue","checked","getItem","extendStatics","__","__assign","HeaderComponent","_super","#user","article_list_1","page_list_1","PAGE_SIZE","Tag","HomeComponent","floor","getArticles","limit","offset","_b","_c","articlesCount","#/","#/feed","#/tag","set-page","pushState","set-tag","#update-home-articles","favorited","error_list_1","SigninComponent","onsubmit","placeholder","#/login","messages","returnTo","#/logout","sign-in","session","RegisterComponent","#/register","ProfileComponent","bio","following","getState","newState","profileResult","articleResult","#/profile","#update-profile-articles","#update-follow-on-profile","SettingsComponent","rows","email","password","#/settings","submit-settings","EditorComponent","#/editor","submit-article","comment_list_1","ArticleComponent","#/article","_comments","commentsResponse","#new-comment","#update-article","#update-follow-on-article","#delete-comment","Comment","createdAt","Function","eval"],"mappings":"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","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=n(5);e.Component=o.Component;var i=n(6),s=n(7);r.default.createElement=s.createElement,r.default.render=s.render,r.default.start=function(t,e,n,r,i){var s=Object.assign(i||{},{render:!0,global_event:!0}),a=new o.Component(e,n,r);return a.mount(t,s),a},\"object\"==typeof window&&(window.app=r.default,document.addEventListener(\"DOMContentLoaded\",function(){return new i.default})),e.default=r.default},,function(t,e,n){\"use strict\";function r(t,e){h=0,e&&t&&(t.firstChild?o(t.firstChild,e):t.appendChild(a(e)))}function o(t,e){if(console.assert(!!t),!i(t,e))return void t.parentNode.replaceChild(a(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r];if(\"string\"==typeof u)t.childNodes[r].textContent!==u&&t.replaceChild(s(u),t.childNodes[r]);else{var c=u.props&&u.props.key,d=c&&p[c];d&&d!==t.childNodes[r]&&t.insertBefore(d,t.childNodes[r]),o(t.childNodes[r],u)}}for(var f=t.childNodes.length;f>n;)t.removeChild(t.lastChild),f--;if(e.children.length){for(var h=document.createDocumentFragment(),r=n;r<e.children.length;r++)h.appendChild(a(e.children[r]));t.appendChild(h)}l(t,e.props)}function i(t,e){if(!t||!e)return!1;var n=\"\"+t.nodeName,r=\"\"+(e.tag||\"\");return n.toLowerCase()===r.toLowerCase()}function s(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function a(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return s(t);if(!t.tag)return s(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return u(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(a(t))}),e}function u(t,e){if(console.assert(!!t),e){t[f]=e;for(var n in e){var r=e[n];if(\"style\"===n)for(var o in r)t.style[o]=r[o];else t[n]=r,\"key\"===n&&r&&(p[r]=t)}}}function c(t,e){var n=[];return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function l(t,e){console.assert(!!t),e=c(t[f],e),t[f]=e;for(var n in e){var r=e[n];if(\"style\"===n){t.style.cssText&&(t.style.cssText=\"\");for(var o in r)t.style[o]!==r[o]&&(t.style[o]=r[o])}else t[n]!==r&&(t[n]=r),\"key\"===n&&r&&(p[r]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(8),f=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var s=e&&e.id||\"_\"+t.name+\"_\"+ ++h;return d.default(t,s,e)}return t(e,o)};var h=0,p={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.state=e,i.view=n,i.update=r,i.options=o,i._history=[],i._history_idx=-1,i.start=function(t){return void 0===t&&(t=null),i.mount(t,{render:!0})},i.render=function(){return i.view(i.state)},i}return r(e,t),e.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&o.default.render&&o.default.render(n,e),n&&(n._component=this)}},e.prototype.setState=function(t,e){var n=this;t instanceof Promise?(!1!==e.render&&this.renderState(t),t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t})):(this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state),this.rendered&&this.rendered(this.state))},e.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},e.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},e.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));null==i||r.setState(i,n)},n)},e.prototype.add_actions=function(){var t=this,e=this.update||{},n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},e.prototype.run=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(e)?o.default.run.apply(o.default,[e].concat(n)):t.prototype.run.apply(this,[e].concat(n))},e.prototype.on=function(e,n,r){return this.global_event||this.is_global_event(e)?o.default.on(e,n,r):t.prototype.on.call(this,e,n,r)},e}(o.App);e.Component=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o},function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(3);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i={};e.default=r}])});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n// Conduit API\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nwindow['defaultBasePath'] = 'https://conduit.productionready.io/api';\r\nvar fetch_1 = __webpack_require__(7);\r\nexports.getToken = fetch_1.getToken;\r\nexports.setToken = fetch_1.setToken;\r\nexports.toQueryString = fetch_1.toQueryString;\r\nexports.serializeObject = fetch_1.serializeObject;\r\nexports.tags = {\r\n    all: function () { return fetch_1.get('/tags'); }\r\n};\r\nexports.auth = {\r\n    current: function () { return fetch_1.getToken()\r\n        ? fetch_1.get('/user')\r\n        : null; },\r\n    signIn: function (user) {\r\n        return fetch_1.post('/users/login', { user: user });\r\n    },\r\n    register: function (user) {\r\n        return fetch_1.post('/users', { user: user });\r\n    },\r\n    save: function (user) {\r\n        return fetch_1.put('/user', { user: user });\r\n    }\r\n};\r\nexports.articles = {\r\n    search: function (request) {\r\n        return fetch_1.get(\"/articles?\" + fetch_1.toQueryString(request));\r\n    },\r\n    feed: function (request) {\r\n        return fetch_1.get(\"/articles/feed?\" + fetch_1.toQueryString(request));\r\n    },\r\n    get: function (slug) {\r\n        return fetch_1.get(\"/articles/\" + slug);\r\n    },\r\n    delete: function (slug) {\r\n        return fetch_1.del(\"/articles/\" + slug);\r\n    },\r\n    favorite: function (slug) {\r\n        return fetch_1.post(\"/articles/\" + slug + \"/favorite\");\r\n    },\r\n    unfavorite: function (slug) {\r\n        return fetch_1.del(\"/articles/\" + slug + \"/favorite\");\r\n    },\r\n    update: function (article) {\r\n        return fetch_1.put(\"/articles/\" + article.slug, { article: article });\r\n    },\r\n    create: function (article) {\r\n        return fetch_1.post('/articles', { article: article });\r\n    }\r\n};\r\nexports.comments = {\r\n    create: function (slug, comment) {\r\n        return fetch_1.post(\"/articles/\" + slug + \"/comments\", { comment: comment });\r\n    },\r\n    delete: function (slug, commentId) {\r\n        return fetch_1.del(\"/articles/\" + slug + \"/comments/\" + commentId);\r\n    },\r\n    forArticle: function (slug) {\r\n        return fetch_1.get(\"/articles/\" + slug + \"/comments\");\r\n    }\r\n};\r\nexports.profile = {\r\n    get: function (username) {\r\n        return fetch_1.get(\"/profiles/\" + username);\r\n    },\r\n    follow: function (username) {\r\n        return fetch_1.post(\"/profiles/\" + username + \"/follow\");\r\n    },\r\n    unfollow: function (username) {\r\n        return fetch_1.del(\"/profiles/\" + username + \"/follow\");\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nfunction default_1(_a) {\r\n    var errors = _a.errors;\r\n    return apprun_1.default.createElement(\"ul\", { className: \"error-messages\" }, Object.keys(errors).map(function (key) { return apprun_1.default.createElement(\"li\", null, key + \" \" + errors[key]); }));\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nfunction Article(props) {\r\n    var article = props.article;\r\n    return apprun_1.default.createElement(\"div\", { className: \"article-preview\" },\r\n        apprun_1.default.createElement(\"div\", { className: \"article-meta\" },\r\n            apprun_1.default.createElement(\"a\", { href: article.author.image },\r\n                apprun_1.default.createElement(\"img\", { src: article.author.image })),\r\n            apprun_1.default.createElement(\"div\", { className: \"info\" },\r\n                apprun_1.default.createElement(\"a\", { href: \"#/profile/\" + article.author.username, className: \"author\" }, article.author.username),\r\n                apprun_1.default.createElement(\"span\", { className: \"date\" }, new Date(article.updatedAt).toLocaleString())),\r\n            apprun_1.default.createElement(\"button\", { className: \"btn btn-outline-primary btn-sm pull-xs-right\", onclick: function (e) { return apprun_1.default.run('#toggle-fav-article', article, props.id); } },\r\n                apprun_1.default.createElement(\"i\", { className: \"ion-heart\" }),\r\n                \" \",\r\n                article.favoritesCount)),\r\n        apprun_1.default.createElement(\"a\", { href: \"#/article/\" + article.slug, className: \"preview-link\" },\r\n            apprun_1.default.createElement(\"h1\", null, article.title),\r\n            apprun_1.default.createElement(\"p\", null, article.description),\r\n            apprun_1.default.createElement(\"span\", null, \"Read more...\")),\r\n        apprun_1.default.createElement(\"div\", { class: \"tag-list\" },\r\n            apprun_1.default.createElement(\"br\", null),\r\n            article.tagList.map(function (tag) {\r\n                return apprun_1.default.createElement(\"li\", { className: \"tag-default tag-pill tag-outline\" },\r\n                    apprun_1.default.createElement(\"a\", { href: \"#/tag/\" + tag },\r\n                        tag,\r\n                        \" \"));\r\n            })));\r\n}\r\nfunction default_1(_a) {\r\n    var articles = _a.articles, id = _a.id;\r\n    return articles.length\r\n        ? articles.map(function (article) { return apprun_1.default.createElement(Article, { article: article, id: id }); })\r\n        : apprun_1.default.createElement(\"div\", { className: \"article-preview\" }, \"No articles are here... yet.\");\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nfunction default_1(_a) {\r\n    var max = _a.max, selected = _a.selected, onpage = _a.onpage;\r\n    function select(e) {\r\n        e.preventDefault();\r\n        var page = parseInt(e.target.textContent);\r\n        onpage(page);\r\n    }\r\n    var pages = new Array(max).fill(0);\r\n    return apprun_1.default.createElement(\"nav\", null,\r\n        apprun_1.default.createElement(\"ul\", { className: \"pagination\", onclick: function (e) { return select(e); } }, pages.map(function (page, idx) { return apprun_1.default.createElement(\"li\", { className: \"page-item \" + ((idx + 1) === selected ? 'active' : '') },\r\n            apprun_1.default.createElement(\"a\", { href: '#', className: \"page-link\" }, idx + 1)); })));\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')\n  ('def', '\\\\n+(?=' + block.def.source + ')')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  ('def', block.def)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return '';\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {\n      return '';\n    }\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n\t// explicitly match decimal, hex, and named HTML entities \n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/g, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occured:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer,\n  xhtml: false\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (true) {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\n__webpack_require__(8);\r\n__webpack_require__(9);\r\n__webpack_require__(10);\r\n__webpack_require__(11);\r\n__webpack_require__(12);\r\n__webpack_require__(13);\r\n__webpack_require__(14);\r\n__webpack_require__(15);\r\napprun_1.default.on('//', function (_) { });\r\napprun_1.default.on('#', function (route) {\r\n    var p = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        p[_i - 1] = arguments[_i];\r\n    }\r\n    return __awaiter(_this, void 0, void 0, function () {\r\n        var user, current, ex_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    user = apprun_1.default['user'];\r\n                    if (!!user) return [3 /*break*/, 5];\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, api_1.auth.current()];\r\n                case 2:\r\n                    current = _a.sent();\r\n                    user = current.user;\r\n                    return [3 /*break*/, 4];\r\n                case 3:\r\n                    ex_1 = _a.sent();\r\n                    return [3 /*break*/, 4];\r\n                case 4:\r\n                    apprun_1.default.run('#user', user);\r\n                    _a.label = 5;\r\n                case 5:\r\n                    if (!route && !p.length)\r\n                        document.location.hash = '#/';\r\n                    apprun_1.default.run.apply(apprun_1.default, [\"#/\" + (route || '')].concat(p));\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n});\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar access_token = window.localStorage.getItem('jwt');\r\nfunction getToken() {\r\n    return access_token;\r\n}\r\nexports.getToken = getToken;\r\nfunction setToken(token) {\r\n    access_token = token;\r\n    if (token)\r\n        window.localStorage.setItem('jwt', token);\r\n    else\r\n        window.localStorage.removeItem('jwt');\r\n}\r\nexports.setToken = setToken;\r\nfunction fetchAsync(method, url, body) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var headers, response, result;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    headers = access_token ? { 'Authorization': \"Token \" + access_token } : {};\r\n                    headers['Content-Type'] = 'application/json; charset=utf-8';\r\n                    return [4 /*yield*/, window['fetch'](\"\" + defaultBasePath + url, {\r\n                            method: method,\r\n                            headers: headers,\r\n                            body: body && JSON.stringify(body)\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    if (!response.ok)\r\n                        throw result;\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.fetchAsync = fetchAsync;\r\nfunction get(url) {\r\n    return fetchAsync('GET', url);\r\n}\r\nexports.get = get;\r\nfunction post(url, body) {\r\n    return fetchAsync('POST', url, body);\r\n}\r\nexports.post = post;\r\nfunction del(url) {\r\n    return fetchAsync('DELETE', url);\r\n}\r\nexports.del = del;\r\nfunction put(url, body) {\r\n    return fetchAsync('PUT', url, body);\r\n}\r\nexports.put = put;\r\nfunction toQueryString(obj) {\r\n    var parts = [];\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            parts.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(obj[i]));\r\n        }\r\n    }\r\n    return parts.join(\"&\");\r\n}\r\nexports.toQueryString = toQueryString;\r\nfunction serializeObject(form) {\r\n    var obj = {};\r\n    if (typeof form == 'object' && form.nodeName == \"FORM\") {\r\n        for (var i = 0; i < form.elements.length; i++) {\r\n            var field = form.elements[i];\r\n            if (field.name\r\n                && field.type != 'file'\r\n                && field.type != 'reset'\r\n                && field.type != 'submit'\r\n                && field.type != 'button') {\r\n                if (field.type == 'select-multiple') {\r\n                    obj[field.name] = '';\r\n                    var tempvalue = '';\r\n                    for (var j = 0; j < form.elements[i].options.length; j++) {\r\n                        if (field.options[j].selected)\r\n                            tempvalue += field.options[j].value + ';';\r\n                    }\r\n                    if (tempvalue.charAt(tempvalue.length - 1) === ';')\r\n                        obj[field.name] = tempvalue.substring(0, tempvalue.length - 1);\r\n                }\r\n                else if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\r\n                    obj[field.name] = field.value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nexports.serializeObject = serializeObject;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar HeaderComponent = /** @class */ (function (_super) {\r\n    __extends(HeaderComponent, _super);\r\n    function HeaderComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {};\r\n        _this.view = function (state) {\r\n            var user = state.user;\r\n            return apprun_1.default.createElement(\"ul\", { className: \"nav navbar-nav pull-xs-right\" },\r\n                apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link active\", href: \"#/\" }, \"Home\")),\r\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/editor\" },\r\n                        apprun_1.default.createElement(\"i\", { className: \"ion-compose\" }),\r\n                        \"\\u00A0New Post\")),\r\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/settings\" },\r\n                        apprun_1.default.createElement(\"i\", { className: \"ion-gear-a\" }),\r\n                        \"\\u00A0Settings\")),\r\n                user ? '' : apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/login\" }, \"Sign In\")),\r\n                user ? '' : apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/register\" }, \"Sign up\")),\r\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/profile/\" + user.username }, user.username)),\r\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/logout\" }, \"Sign Out\")));\r\n        };\r\n        _this.update = {\r\n            '#user': function (state, user) { return (__assign({}, state, { user: user })); }\r\n        };\r\n        return _this;\r\n    }\r\n    return HeaderComponent;\r\n}(apprun_1.Component));\r\nexports.default = new HeaderComponent().mount('header');\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar article_list_1 = __webpack_require__(3);\r\nvar page_list_1 = __webpack_require__(4);\r\nvar PAGE_SIZE = 10;\r\nvar Tag = function (_a) {\r\n    var tag = _a.tag;\r\n    return apprun_1.default.createElement(\"a\", { href: \"\", className: \"tag-pill tag-default\" }, tag);\r\n};\r\nvar HomeComponent = /** @class */ (function (_super) {\r\n    __extends(HomeComponent, _super);\r\n    function HomeComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            type: '',\r\n            articles: [],\r\n            tags: [],\r\n            max: 1,\r\n            page: 1\r\n        };\r\n        _this.view = function (state) {\r\n            if (state instanceof Promise)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: \"home-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"banner\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\r\n                        apprun_1.default.createElement(\"h1\", { className: \"logo-font\" }, \"conduit\"),\r\n                        apprun_1.default.createElement(\"p\", null, \"A place to share your knowledge.\"))),\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-9\" },\r\n                            apprun_1.default.createElement(\"div\", { className: \"feed-toggle\" },\r\n                                apprun_1.default.createElement(\"ul\", { className: \"nav nav-pills outline-active\" },\r\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (apprun_1.default['user'] ? '' : 'disabled') + \" \" + (state.type === 'feed' ? 'active' : ''), href: \"#/feed\" }, \"Your Feed\")),\r\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === '' ? 'active' : ''), href: \"#/\" }, \"Global Feed\")),\r\n                                    state.tag ?\r\n                                        apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                                            apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'tag' ? 'active' : ''), href: \"#/tag/\" + state.tag },\r\n                                                \"#\",\r\n                                                state.tag))\r\n                                        : '')),\r\n                            apprun_1.default.createElement(article_list_1.default, { articles: state.articles, id: 'home-articles' }),\r\n                            apprun_1.default.createElement(page_list_1.default, { max: Math.floor(state.max / PAGE_SIZE), selected: state.page, onpage: function (page) { return _this.run('set-page', page); } })),\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-3\" },\r\n                            apprun_1.default.createElement(\"div\", { className: \"sidebar\" },\r\n                                apprun_1.default.createElement(\"p\", null, \"Popular Tags\"),\r\n                                apprun_1.default.createElement(\"div\", { className: \"tag-list\", onclick: function (e) { return _this.run('set-tag', e); } }, state.tags.map(function (tag) { return apprun_1.default.createElement(Tag, { tag: tag }); })))))));\r\n        };\r\n        _this.getArticles = function (state, type, page, tag) { return __awaiter(_this, void 0, void 0, function () {\r\n            var tagList, _a, limit, offset, feed, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!state.tags.length) return [3 /*break*/, 1];\r\n                        _a = { tags: state.tags };\r\n                        return [3 /*break*/, 3];\r\n                    case 1: return [4 /*yield*/, api_1.tags.all()];\r\n                    case 2:\r\n                        _a = _c.sent();\r\n                        _c.label = 3;\r\n                    case 3:\r\n                        tagList = _a;\r\n                        page = parseInt(page) || 1;\r\n                        tag = tag || state.tag;\r\n                        limit = PAGE_SIZE;\r\n                        offset = (page - 1) * PAGE_SIZE;\r\n                        _b = type;\r\n                        switch (_b) {\r\n                            case 'feed': return [3 /*break*/, 4];\r\n                            case 'tag': return [3 /*break*/, 6];\r\n                        }\r\n                        return [3 /*break*/, 8];\r\n                    case 4: return [4 /*yield*/, api_1.articles.feed({ limit: limit, offset: offset })];\r\n                    case 5:\r\n                        feed = _c.sent();\r\n                        return [3 /*break*/, 10];\r\n                    case 6: return [4 /*yield*/, api_1.articles.search({ tag: tag, limit: limit, offset: offset })];\r\n                    case 7:\r\n                        feed = _c.sent();\r\n                        return [3 /*break*/, 10];\r\n                    case 8: return [4 /*yield*/, api_1.articles.search({ limit: limit, offset: offset })];\r\n                    case 9:\r\n                        feed = _c.sent();\r\n                        return [3 /*break*/, 10];\r\n                    case 10: return [2 /*return*/, __assign({}, state, { tags: tagList.tags, type: type, page: page, tag: tag, articles: feed.articles, max: feed.articlesCount })];\r\n                }\r\n            });\r\n        }); };\r\n        _this.update = {\r\n            '#/': function (state, page) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.getArticles(state, '', page)];\r\n                        case 1: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            }); },\r\n            '#/feed': function (state, page) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.getArticles(state, 'feed', page)];\r\n                        case 1: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            }); },\r\n            '#/tag': function (state, tag, page) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.getArticles(state, 'tag', page, tag)];\r\n                        case 1: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            }); },\r\n            'set-page': function (state, page) { return __awaiter(_this, void 0, void 0, function () {\r\n                var t;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            t = state.type === 'tag' && state.tag ? \"/\" + state.tag : '';\r\n                            history.pushState(null, null, \"#/\" + state.type + t + \"/\" + page);\r\n                            return [4 /*yield*/, this.getArticles(state, state.type, page, state.tag)];\r\n                        case 1: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            }); },\r\n            'set-tag': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var tag;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            e.preventDefault();\r\n                            tag = e.target.textContent;\r\n                            history.pushState(null, null, \"#/tag/\" + tag + \"/1\");\r\n                            return [4 /*yield*/, this.getArticles(state, 'tag', 1, tag)];\r\n                        case 1: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            }); },\r\n            '#update-home-articles': function (state, article) {\r\n                // ?\r\n                var articles = state.articles.map(function (a) {\r\n                    return a.slug === article.slug ? article : a;\r\n                });\r\n                return __assign({}, state, { articles: articles });\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    return HomeComponent;\r\n}(apprun_1.Component));\r\napprun_1.default.on('#toggle-fav-article', function (article, id) { return __awaiter(_this, void 0, void 0, function () {\r\n    var result, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                if (!apprun_1.default['user'])\r\n                    return [2 /*return*/, apprun_1.default.run('#/login')];\r\n                if (!article.favorited) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, api_1.articles.unfavorite(article.slug)];\r\n            case 1:\r\n                _a = _b.sent();\r\n                return [3 /*break*/, 4];\r\n            case 2: return [4 /*yield*/, api_1.articles.favorite(article.slug)];\r\n            case 3:\r\n                _a = _b.sent();\r\n                _b.label = 4;\r\n            case 4:\r\n                result = _a;\r\n                apprun_1.default.run(\"#update-\" + id, result.article);\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\nexports.default = new HomeComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar error_list_1 = __webpack_require__(2);\r\nvar SigninComponent = /** @class */ (function (_super) {\r\n    __extends(SigninComponent, _super);\r\n    function SigninComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {};\r\n        _this.view = function (state) {\r\n            if (!state || state instanceof Promise)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: \"auth-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\r\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Sign In\"),\r\n                            apprun_1.default.createElement(\"p\", { className: \"text-xs-center\" },\r\n                                apprun_1.default.createElement(\"a\", { href: \"#/register\" }, \"Need an account?\")),\r\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\r\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('sign-in', e); } },\r\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: \"email\" })),\r\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: \"password\" })),\r\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Sign In\"))))));\r\n        };\r\n        _this.update = {\r\n            '#/login': function (state) { return (__assign({}, state, { messages: [], returnTo: document.location.hash })); },\r\n            '#/logout': function (state) {\r\n                apprun_1.default.run('#user', null);\r\n                document.location.hash = '#/';\r\n            },\r\n            'sign-in': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var session, returnTo, _a, errors;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _b.trys.push([0, 2, , 3]);\r\n                            e.preventDefault();\r\n                            return [4 /*yield*/, api_1.auth.signIn(api_1.serializeObject(e.target))];\r\n                        case 1:\r\n                            session = _b.sent();\r\n                            apprun_1.default.run('#user', session.user);\r\n                            returnTo = (state.returnTo || '').replace(/\\#\\/login\\/?/, '');\r\n                            if (!returnTo)\r\n                                document.location.hash = '#/feed';\r\n                            else {\r\n                                apprun_1.default.run('route', returnTo);\r\n                                history.pushState(null, null, returnTo);\r\n                            }\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            _a = _b.sent();\r\n                            errors = _a.errors;\r\n                            return [2 /*return*/, __assign({}, state, { errors: errors })];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); },\r\n        };\r\n        return _this;\r\n    }\r\n    return SigninComponent;\r\n}(apprun_1.Component));\r\napprun_1.default.on('#user', function (user) {\r\n    api_1.setToken(user ? user.token : null);\r\n    apprun_1.default['user'] = user;\r\n});\r\nexports.default = new SigninComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar error_list_1 = __webpack_require__(2);\r\nvar RegisterComponent = /** @class */ (function (_super) {\r\n    __extends(RegisterComponent, _super);\r\n    function RegisterComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {};\r\n        _this.view = function (state) {\r\n            if (!state || state instanceof Promise)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: \"auth-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\r\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Sign up\"),\r\n                            apprun_1.default.createElement(\"p\", { className: \"text-xs-center\" },\r\n                                apprun_1.default.createElement(\"a\", { href: \"#/login\" }, \"Have an account?\")),\r\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\r\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('register', e); } },\r\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Your Name\", name: \"username\" })),\r\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: \"email\" })),\r\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: \"password\" })),\r\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Sign up\"))))));\r\n        };\r\n        _this.update = {\r\n            '#/register': function (state, messages) { return (__assign({}, state, { messages: messages })); },\r\n            'register': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var session, _a, errors;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _b.trys.push([0, 2, , 3]);\r\n                            e.preventDefault();\r\n                            return [4 /*yield*/, api_1.auth.register(api_1.serializeObject(e.target))];\r\n                        case 1:\r\n                            session = _b.sent();\r\n                            apprun_1.default.run('#user', session.user);\r\n                            apprun_1.default.run('route', '#/');\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            _a = _b.sent();\r\n                            errors = _a.errors;\r\n                            return [2 /*return*/, __assign({}, state, { errors: errors })];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        return _this;\r\n    }\r\n    return RegisterComponent;\r\n}(apprun_1.Component));\r\nexports.default = new RegisterComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar article_list_1 = __webpack_require__(3);\r\nvar page_list_1 = __webpack_require__(4);\r\nvar PAGE_SIZE = 10;\r\nvar ProfileComponent = /** @class */ (function (_super) {\r\n    __extends(ProfileComponent, _super);\r\n    function ProfileComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            name: '',\r\n            type: 'articles',\r\n            page: 1\r\n        };\r\n        _this.view = function (state) {\r\n            var profile = state.profile;\r\n            if (!profile)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: \"profile-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"user-info\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                            apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-10 offset-md-1\" },\r\n                                apprun_1.default.createElement(\"img\", { src: profile.image, className: \"user-img\" }),\r\n                                apprun_1.default.createElement(\"h4\", null, profile.username),\r\n                                apprun_1.default.createElement(\"p\", null, profile.bio),\r\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-secondary action-btn\", onclick: function (e) { return apprun_1.default.run('#toggle-follow', profile, 'on-profile'); } }, profile.following\r\n                                    ? apprun_1.default.createElement(\"span\", null,\r\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-minus-round\" }),\r\n                                        \" Unfollow \",\r\n                                        profile.username)\r\n                                    : apprun_1.default.createElement(\"span\", null,\r\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-plus-round\" }),\r\n                                        \" Follow \",\r\n                                        profile.username)))))),\r\n                apprun_1.default.createElement(\"div\", { className: \"container\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-10 offset-md-1\" },\r\n                            apprun_1.default.createElement(\"div\", { className: \"articles-toggle\" },\r\n                                apprun_1.default.createElement(\"ul\", { className: \"nav nav-pills outline-active\" },\r\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'articles' ? 'active' : ''), href: \"#/profile/\" + profile.username + \"/articles/1\" }, \"My Articles\")),\r\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\r\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'favorites' ? 'active' : ''), href: \"#/profile/\" + profile.username + \"/favorites/1\" }, \"Favorited Articles\")))),\r\n                            apprun_1.default.createElement(article_list_1.default, { articles: state.articles, id: 'profile-articles' }),\r\n                            apprun_1.default.createElement(page_list_1.default, { max: Math.floor(state.max / PAGE_SIZE), selected: state.page, onpage: function (page) { return _this.run('set-page', page); } })))));\r\n        };\r\n        _this.getState = function (state, name, type, page) { return __awaiter(_this, void 0, void 0, function () {\r\n            var newState, profileResult, limit, offset, articleResult, _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        name = name || state.name;\r\n                        type = type || state.type;\r\n                        page = parseInt(page) || state.page;\r\n                        newState = state;\r\n                        if (!(name !== state.name)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, api_1.profile.get(name)];\r\n                    case 1:\r\n                        profileResult = _b.sent();\r\n                        newState = __assign({}, newState, { profile: profileResult.profile });\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        if (!(name !== state.name || type !== state.type || page !== state.page)) return [3 /*break*/, 7];\r\n                        limit = PAGE_SIZE;\r\n                        offset = (page - 1) * limit;\r\n                        if (!(type === \"favorites\")) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, api_1.articles.search({ favorited: name, offset: offset, limit: limit })];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 4: return [4 /*yield*/, api_1.articles.search({ author: name, offset: offset, limit: limit })];\r\n                    case 5:\r\n                        _a = _b.sent();\r\n                        _b.label = 6;\r\n                    case 6:\r\n                        articleResult = _a;\r\n                        newState = __assign({}, newState, { name: name, type: type, page: page, articles: articleResult.articles, max: articleResult.articlesCount });\r\n                        _b.label = 7;\r\n                    case 7: return [2 /*return*/, newState];\r\n                }\r\n            });\r\n        }); };\r\n        _this.update = {\r\n            '#/profile': function (state, name, type, page) {\r\n                return _this.getState(state, name, type, page);\r\n            },\r\n            'set-page': function (state, page) {\r\n                var url = \"#/profile/\" + state.profile.username + \"/\" + state.type + \"/\" + page;\r\n                history.pushState(null, null, url);\r\n                return _this.getState(state, null, null, page);\r\n            },\r\n            '#update-profile-articles': function (state, article) {\r\n                // ?\r\n                var articles = state.articles.map(function (a) {\r\n                    return a.slug === article.slug ? article : a;\r\n                });\r\n                return __assign({}, state, { articles: articles });\r\n            },\r\n            '#update-follow-on-profile': function (state, profile) {\r\n                return __assign({}, state, { profile: profile });\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    return ProfileComponent;\r\n}(apprun_1.Component));\r\napprun_1.default.on('#toggle-follow', function (author, id) { return __awaiter(_this, void 0, void 0, function () {\r\n    var result, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                if (!apprun_1.default['user'])\r\n                    return [2 /*return*/, apprun_1.default.run('#/login')];\r\n                if (!author.following) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, api_1.profile.unfollow(author.username)];\r\n            case 1:\r\n                _a = _b.sent();\r\n                return [3 /*break*/, 4];\r\n            case 2: return [4 /*yield*/, api_1.profile.follow(author.username)];\r\n            case 3:\r\n                _a = _b.sent();\r\n                _b.label = 4;\r\n            case 4:\r\n                result = _a;\r\n                apprun_1.default.run(\"#update-follow-\" + id, result.profile);\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\nexports.default = new ProfileComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar error_list_1 = __webpack_require__(2);\r\nvar SettingsComponent = /** @class */ (function (_super) {\r\n    __extends(SettingsComponent, _super);\r\n    function SettingsComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {};\r\n        _this.view = function (state) {\r\n            if (!apprun_1.default['user'])\r\n                return;\r\n            var user = apprun_1.default['user'];\r\n            return apprun_1.default.createElement(\"div\", { className: \"settings-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\r\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\r\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Your Settings\"),\r\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('submit-settings', e); } },\r\n                                apprun_1.default.createElement(\"fieldset\", null,\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control\", type: \"text\", placeholder: \"URL of profile picture\", name: 'image', value: user.image })),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Your Name\", name: 'username', value: user.username })),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"textarea\", { className: \"form-control form-control-lg\", rows: \"8\", placeholder: \"Short bio about you\" }, user.bio)),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: 'email', value: user.email })),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: 'password', value: user.password })),\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Update Settings\")))))));\r\n        };\r\n        _this.update = {\r\n            '#/settings': function (state) {\r\n                if (!apprun_1.default['user'])\r\n                    apprun_1.default.run('#/login');\r\n                return {};\r\n            },\r\n            'submit-settings': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var user, result, _a, errors;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _b.trys.push([0, 2, , 3]);\r\n                            e.preventDefault();\r\n                            user = api_1.serializeObject(e.target);\r\n                            return [4 /*yield*/, api_1.auth.save(user)];\r\n                        case 1:\r\n                            result = _b.sent();\r\n                            apprun_1.default.run('#user', result.user);\r\n                            return [2 /*return*/, {}];\r\n                        case 2:\r\n                            _a = _b.sent();\r\n                            errors = _a.errors;\r\n                            return [2 /*return*/, __assign({}, state, { errors: errors })];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        return _this;\r\n    }\r\n    return SettingsComponent;\r\n}(apprun_1.Component));\r\nexports.default = new SettingsComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar error_list_1 = __webpack_require__(2);\r\nvar EditorComponent = /** @class */ (function (_super) {\r\n    __extends(EditorComponent, _super);\r\n    function EditorComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {};\r\n        _this.view = function (state) {\r\n            if (!apprun_1.default['user'] || !state.article)\r\n                return;\r\n            var article = state.article;\r\n            return apprun_1.default.createElement(\"div\", { className: \"editor-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-10 offset-md-1 col-xs-12\" },\r\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\r\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('submit-article', e); } },\r\n                                apprun_1.default.createElement(\"input\", { type: \"hidden\", name: \"slug\", value: article.slug }),\r\n                                apprun_1.default.createElement(\"fieldset\", null,\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control form-control-lg\", placeholder: \"Article Title\", name: \"title\", value: article.title })),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control\", placeholder: \"What's this article about?\", name: \"description\", value: article.description })),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"textarea\", { className: \"form-control\", rows: \"8\", placeholder: \"Write your article (in markdown)\", name: \"body\" }, article.body)),\r\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\r\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control\", placeholder: \"Enter tags\", name: \"tags\", value: article.tagList.join(', ') }),\r\n                                        apprun_1.default.createElement(\"div\", { className: \"tag-list\" })),\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-lg pull-xs-right btn-primary\", type: \"submit\" }, \"Publish Article\")))))));\r\n        };\r\n        _this.update = {\r\n            '#/editor': function (state, slug) { return __awaiter(_this, void 0, void 0, function () {\r\n                var article, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!apprun_1.default['user'])\r\n                                apprun_1.default.run('#/login');\r\n                            if (!slug) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, api_1.articles.get(slug)];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            article = result.article;\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            article = article || { title: '', description: '', body: '', tagList: [] };\r\n                            return [2 /*return*/, { article: article }];\r\n                    }\r\n                });\r\n            }); },\r\n            'submit-article': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var article, result, _a, _b, errors;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            _c.trys.push([0, 5, , 6]);\r\n                            e.preventDefault();\r\n                            article = api_1.serializeObject(e.target);\r\n                            article.tagList = article.tags.split(',');\r\n                            if (!article.slug) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, api_1.articles.create(article)];\r\n                        case 1:\r\n                            _a = _c.sent();\r\n                            return [3 /*break*/, 4];\r\n                        case 2: return [4 /*yield*/, api_1.articles.update(article)];\r\n                        case 3:\r\n                            _a = _c.sent();\r\n                            _c.label = 4;\r\n                        case 4:\r\n                            result = _a;\r\n                            document.location.hash = \"#/article/\" + result.article.slug;\r\n                            return [2 /*return*/, state];\r\n                        case 5:\r\n                            _b = _c.sent();\r\n                            errors = _b.errors;\r\n                            return [2 /*return*/, __assign({}, state, { errors: errors })];\r\n                        case 6: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        return _this;\r\n    }\r\n    return EditorComponent;\r\n}(apprun_1.Component));\r\nexports.default = new EditorComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar api_1 = __webpack_require__(1);\r\nvar comment_list_1 = __webpack_require__(16);\r\nvar marked = __webpack_require__(5);\r\nvar ArticleComponent = /** @class */ (function (_super) {\r\n    __extends(ArticleComponent, _super);\r\n    function ArticleComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            article: null,\r\n            comments: []\r\n        };\r\n        _this.view = function (state) {\r\n            var article = state.article;\r\n            if (!article)\r\n                return;\r\n            return apprun_1.default.createElement(\"div\", { className: \"article-page\" },\r\n                apprun_1.default.createElement(\"div\", { className: \"banner\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\r\n                        apprun_1.default.createElement(\"h1\", null, article.title),\r\n                        apprun_1.default.createElement(\"div\", { className: \"article-meta\" },\r\n                            apprun_1.default.createElement(\"a\", { href: article.author.image },\r\n                                apprun_1.default.createElement(\"img\", { src: article.author.image })),\r\n                            apprun_1.default.createElement(\"div\", { className: \"info\" },\r\n                                apprun_1.default.createElement(\"a\", { href: \"#/profile/\" + article.author.username, className: \"author\" }, article.author.username),\r\n                                apprun_1.default.createElement(\"span\", { className: \"date\" }, new Date(article.updatedAt).toLocaleString())),\r\n                            apprun_1.default['user'] && apprun_1.default['user'].username === article.author.username\r\n                                ? apprun_1.default.createElement(\"span\", null,\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-secondary\", onclick: function (e) { return apprun_1.default.run('#edit-article', article); } },\r\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-edit\" }),\r\n                                        \"\\u00A0 Edit Article\"),\r\n                                    \"\\u00A0\\u00A0\",\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-danger\", onclick: function (e) { return apprun_1.default.run('#delete-article', article); } },\r\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-trash-o\" }),\r\n                                        \"\\u00A0 Delete Article\"))\r\n                                : apprun_1.default.createElement(\"span\", null,\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-secondary\", onclick: function (e) { return apprun_1.default.run('#toggle-follow', article.author, 'on-article'); } }, article.author.following\r\n                                        ? apprun_1.default.createElement(\"span\", null,\r\n                                            apprun_1.default.createElement(\"i\", { className: \"ion-minus-round\" }),\r\n                                            \" Unfollow \",\r\n                                            article.author.username)\r\n                                        : apprun_1.default.createElement(\"span\", null,\r\n                                            apprun_1.default.createElement(\"i\", { className: \"ion-plus-round\" }),\r\n                                            \" Follow \",\r\n                                            article.author.username)),\r\n                                    \" \\u00A0\\u00A0\",\r\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-primary\", onclick: function (e) { return apprun_1.default.run('#toggle-fav-article', article, 'article'); } },\r\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-heart\" }),\r\n                                        \"\\u00A0 Favorite Post \",\r\n                                        apprun_1.default.createElement(\"span\", { className: \"counter\" },\r\n                                            \"(\",\r\n                                            article.favoritesCount,\r\n                                            \")\")))))),\r\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\r\n                    apprun_1.default.createElement(\"div\", { className: \"row article-content\" },\r\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-12\" },\r\n                            apprun_1.default.createElement(\"p\", null, \"_html:\" + marked(article.body, { sanitize: true })),\r\n                            apprun_1.default.createElement(\"div\", { class: \"tag-list\" },\r\n                                apprun_1.default.createElement(\"br\", null),\r\n                                article.tagList.map(function (tag) {\r\n                                    return apprun_1.default.createElement(\"li\", { className: \"tag-default tag-pill tag-outline\" },\r\n                                        apprun_1.default.createElement(\"a\", { href: \"#/tag/\" + tag },\r\n                                            tag,\r\n                                            \" \"));\r\n                                })))),\r\n                    apprun_1.default.createElement(\"hr\", null),\r\n                    apprun_1.default.createElement(comment_list_1.default, { comments: state.comments })));\r\n        };\r\n        _this.update = {\r\n            '#/article': function (state, slug) { return __awaiter(_this, void 0, void 0, function () {\r\n                var article, _comments, result, commentsResponse;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            article = state.article;\r\n                            _comments = state.comments;\r\n                            if (!(!article || article.slug !== slug)) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, api_1.articles.get(slug)];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            article = result.article;\r\n                            return [4 /*yield*/, api_1.comments.forArticle(article.slug)];\r\n                        case 2:\r\n                            commentsResponse = _a.sent();\r\n                            _comments = commentsResponse.comments;\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/, __assign({}, state, { article: article, comments: _comments })];\r\n                    }\r\n                });\r\n            }); },\r\n            '#new-comment': function (state, e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var comment, commentsResponse, _a, errors;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _b.trys.push([0, 3, , 4]);\r\n                            e.preventDefault();\r\n                            comment = e.target['comment'].value;\r\n                            return [4 /*yield*/, api_1.comments.create(state.article.slug, { body: comment })];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [4 /*yield*/, api_1.comments.forArticle(state.article.slug)];\r\n                        case 2:\r\n                            commentsResponse = _b.sent();\r\n                            return [2 /*return*/, __assign({}, state, { comments: commentsResponse.comments })];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            errors = _a.errors;\r\n                            return [2 /*return*/, __assign({}, state, { errors: errors })];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); },\r\n            '#update-article': function (state, article) {\r\n                return __assign({}, state, { article: article });\r\n            },\r\n            '#update-follow-on-article': function (state, author) {\r\n                return __assign({}, state, { article: __assign({}, state.article, { author: author }) });\r\n            },\r\n            '#delete-comment': function (state, comment) { return __awaiter(_this, void 0, void 0, function () {\r\n                var commentsResponse;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, api_1.comments.delete(this.state.article.slug, comment.id)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, api_1.comments.forArticle(state.article.slug)];\r\n                        case 2:\r\n                            commentsResponse = _a.sent();\r\n                            return [2 /*return*/, __assign({}, state, { comments: commentsResponse.comments })];\r\n                    }\r\n                });\r\n            }); }\r\n        };\r\n        return _this;\r\n    }\r\n    return ArticleComponent;\r\n}(apprun_1.Component));\r\napprun_1.default.on('#edit-article', function (article) {\r\n    document.location.hash = \"#/editor/\" + article.slug;\r\n});\r\napprun_1.default.on('#delete-article', function (article) {\r\n    api_1.articles.delete(article.slug);\r\n    document.location.hash = '#/';\r\n});\r\nexports.default = new ArticleComponent().mount('my-app');\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar apprun_1 = __webpack_require__(0);\r\nvar marked = __webpack_require__(5);\r\nfunction Comment(_a) {\r\n    var comment = _a.comment;\r\n    return apprun_1.default.createElement(\"div\", { className: \"card\" },\r\n        apprun_1.default.createElement(\"div\", { className: \"card-block\" },\r\n            apprun_1.default.createElement(\"p\", { className: \"card-text\" },\r\n                apprun_1.default.createElement(\"p\", null, \"_html:\" + marked(comment.body, { sanitize: true })))),\r\n        apprun_1.default.createElement(\"div\", { className: \"card-footer\" },\r\n            apprun_1.default.createElement(\"a\", { className: \"comment-author\" },\r\n                apprun_1.default.createElement(\"img\", { src: comment.author.image, className: \"comment-author-img\" })),\r\n            \"\\u00A0\",\r\n            apprun_1.default.createElement(\"a\", { className: \"comment-author\", href: \"#/profile/\" + comment.author.username }, comment.author.username),\r\n            apprun_1.default.createElement(\"span\", { className: \"date-posted\" }, new Date(comment.createdAt).toLocaleString()),\r\n            apprun_1.default['user'] && apprun_1.default['user'].username === comment.author.username\r\n                ? apprun_1.default.createElement(\"span\", { className: \"mod-options\" },\r\n                    apprun_1.default.createElement(\"i\", { className: \"ion-trash-a\", onclick: function (e) { return apprun_1.default.run('#delete-comment', comment); } }))\r\n                : ''));\r\n}\r\nfunction default_1(_a) {\r\n    var comments = _a.comments;\r\n    var user = apprun_1.default['user'];\r\n    return apprun_1.default.createElement(\"div\", { className: \"row\" },\r\n        apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-8 offset-md-2\" },\r\n            !user\r\n                ? apprun_1.default.createElement(\"p\", null,\r\n                    apprun_1.default.createElement(\"a\", { href: \"#/login/\" + document.location.hash }, \"Sign in\"),\r\n                    \" or\\u00A0\",\r\n                    apprun_1.default.createElement(\"a\", { href: '#/register' }, \"sign up\"),\r\n                    \" to add comments on this article.\")\r\n                : apprun_1.default.createElement(\"form\", { className: \"card comment-form\", onsubmit: function (e) { return apprun_1.default.run('#new-comment', e); } },\r\n                    apprun_1.default.createElement(\"div\", { className: \"card-block\" },\r\n                        apprun_1.default.createElement(\"textarea\", { className: \"form-control\", placeholder: \"Write a comment...\", rows: \"3\", name: 'comment' })),\r\n                    apprun_1.default.createElement(\"div\", { className: \"card-footer\" },\r\n                        user.image\r\n                            ? apprun_1.default.createElement(\"img\", { src: user.image, className: \"comment-author-img\" })\r\n                            : apprun_1.default.createElement(\"span\", null,\r\n                                \"@\",\r\n                                user.username),\r\n                        apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-primary\", type: 'submit' }, \"Post Comment\"))),\r\n            comments.map(function (comment) { return apprun_1.default.createElement(Comment, { comment: comment }); })));\r\n}\r\nexports.default = default_1;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 62cf4bc82a9549d43f29","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),n.debug&&console.log(\"on: \"+t),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):(i.debug&&console.log(\"run: \"+t,n),o.apply(e,n)),!r.options.once}))},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),r.debug&&console.log(\"run-delay \"+r.delay+\":\"+t,n),e.apply(o,n)},r.delay)},t}();e.App=r,e.default=new r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=n(5);e.Component=o.Component;var i=n(6),s=n(7);r.default.createElement=s.createElement,r.default.render=s.render,r.default.start=function(t,e,n,r,i){var s=Object.assign(i||{},{render:!0,global_event:!0}),a=new o.Component(e,n,r);return a.mount(t,s),a},\"object\"==typeof window&&(window.app=r.default,document.addEventListener(\"DOMContentLoaded\",function(){return new i.default})),e.default=r.default},,function(t,e,n){\"use strict\";function r(t,e){h=0,e&&t&&(t.firstChild?o(t.firstChild,e):t.appendChild(a(e)))}function o(t,e){if(console.assert(!!t),!i(t,e))return void t.parentNode.replaceChild(a(e),t);for(var n=Math.min(t.childNodes.length,e.children.length),r=0;r<n;r++){var u=e.children[r];if(\"string\"==typeof u)t.childNodes[r].textContent!==u&&t.replaceChild(s(u),t.childNodes[r]);else{var c=u.props&&u.props.key,d=c&&p[c];d&&d!==t.childNodes[r]&&t.insertBefore(d,t.childNodes[r]),o(t.childNodes[r],u)}}for(var f=t.childNodes.length;f>n;)t.removeChild(t.lastChild),f--;if(e.children.length){for(var h=document.createDocumentFragment(),r=n;r<e.children.length;r++)h.appendChild(a(e.children[r]));t.appendChild(h)}l(t,e.props)}function i(t,e){if(!t||!e)return!1;var n=\"\"+t.nodeName,r=\"\"+(e.tag||\"\");return n.toLowerCase()===r.toLowerCase()}function s(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function a(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return s(t);if(!t.tag)return s(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return u(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(a(t))}),e}function u(t,e){if(console.assert(!!t),e){t[f]=e;for(var n in e){var r=e[n];if(\"style\"===n)for(var o in r)t.style[o]=r[o];else t[n]=r,\"key\"===n&&r&&(p[r]=t)}}}function c(t,e){var n=[];return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}function l(t,e){console.assert(!!t),e=c(t[f],e),t[f]=e;for(var n in e){var r=e[n];if(\"style\"===n){t.style.cssText&&(t.style.cssText=\"\");for(var o in r)t.style[o]!==r[o]&&(t.style[o]=r[o])}else t[n]!==r&&(t[n]=r),\"key\"===n&&r&&(p[r]=t)}}Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(8),f=\"_props\";e.createElement=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[],i=function(t){null!==t&&void 0!==t&&o.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};if(n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}),\"string\"==typeof t)return{tag:t,props:e,children:o};if(Object.getPrototypeOf(t).name){var s=e&&e.id||\"_\"+t.name+\"_\"+ ++h;return d.default(t,s,e)}return t(e,o)};var h=0,p={};e.updateElement=r,e.render=r,e.default={createElement:e.createElement,updateElement:e.updateElement}},,function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.state=e,i.view=n,i.update=r,i.options=o,i._history=[],i._history_idx=-1,i.start=function(t){return void 0===t&&(t=null),i.mount(t,{render:!0})},i.render=function(){return i.view(i.state)},i}return r(e,t),e.prototype.renderState=function(t){if(this.view){var e=this.view(t),n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&o.default.render&&o.default.render(n,e),n&&(n._component=this)}},e.prototype.setState=function(t,e){var n=this;t instanceof Promise?(!1!==e.render&&this.renderState(t),t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t})):(this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state),this.rendered&&this.rendered(this.state))},e.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){var r=function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0},o=function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1};this.on(e.history.prev||\"history-prev\",r),this.on(e.history.next||\"history-next\",o)}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},e.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},e.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(void 0,[r.state].concat(t));null==i||r.setState(i,n)},n)},e.prototype.add_actions=function(){var t=this,e=this.update||{},n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},e.prototype.run=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(e)?o.default.run.apply(o.default,[e].concat(n)):t.prototype.run.apply(this,[e].concat(n))},e.prototype.on=function(e,n,r){return this.global_event||this.is_global_event(e)?o.default.on(e,n,r):t.prototype.on.call(this,e,n,r)},e}(o.App);e.Component=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=function(){function t(){var t=this;r.default.on(\"route\",function(e){return t.route(e)}),window.onpopstate=function(e){return t.route(location.hash)},this.route(location.hash)}return t.prototype.route=function(t){if(t||(t=\"#\"),t.indexOf(\"/\")>0){var e=t.split(\"/\"),n=e[0],o=e.slice(1);r.default.run.apply(r.default,[n].concat(o)),r.default.run.apply(r.default,[\"//\",n].concat(o))}else r.default.run(t),r.default.run(\"//\",t)},t}();e.default=o},function(t,e,n){\"use strict\";function r(t,e){console.assert(!!t),o.updateElement(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(3);e.createElement=o.createElement,e.render=r},function(t,e,n){\"use strict\";function r(t,e,n){var r=i[e]?i[e]:i[e]=new t(n).mount(e);return o.default.createElement(\"div\",{id:e},r.render&&r.render())}Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i={};e.default=r}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/apprun/dist/apprun.js\n// module id = 0\n// module chunks = 0","// Conduit API\r\n\r\nwindow['defaultBasePath'] = 'https://conduit.productionready.io/api';\r\n\r\nimport { getToken, setToken, toQueryString, serializeObject, get, post, del, put } from './fetch';\r\nexport { getToken, setToken, toQueryString, serializeObject }\r\nimport { IArticle, IProfile, IComment } from './models';\r\n\r\nexport interface ISession {\r\n  user: IProfile\r\n}\r\n\r\nexport interface ITags {\r\n  tags: Array<string>;\r\n}\r\n\r\nexport interface IFeed {\r\n  articles: Array<IArticle>;\r\n  articlesCount: number;\r\n}\r\n\r\n\r\nexport interface IArticlesRequest {\r\n  tag?: string;\r\n  author?: string;\r\n  favorited?: string;\r\n  limit: number;\r\n  offset: number;\r\n}\r\n\r\nexport interface INewArticle {\r\n  title: string,\r\n  description: string,\r\n  body: string,\r\n  tagList: Array<string>;\r\n\r\n}\r\n\r\nexport interface IArticlesResponse {\r\n  article: IArticle\r\n}\r\n\r\nexport interface ICommentsResponse {\r\n  comments: Array<IComment>\r\n}\r\n\r\nexport interface IProfileResponse {\r\n  profile: IProfile\r\n}\r\n\r\nexport const tags = {\r\n  all: () => get<ITags>('/tags')\r\n}\r\n\r\nexport const auth = {\r\n  current: () => getToken()\r\n    ? get<ISession>('/user')\r\n    : null,\r\n  signIn: (user: { email: string, password: string }) =>\r\n    post<ISession>('/users/login', { user }),\r\n  register: (user: { username: string, email: string, password: string }) =>\r\n    post<ISession>('/users', { user }),\r\n  save: user =>\r\n    put('/user', { user })\r\n}\r\n\r\nexport const articles = {\r\n  search: (request: IArticlesRequest) =>\r\n    get<IFeed>(`/articles?${toQueryString(request)}`),\r\n  feed: (request: {limit: number, offset: number}) =>\r\n    get<IFeed>(`/articles/feed?${toQueryString(request)}`),\r\n  get: (slug: string) =>\r\n    get<IArticlesResponse>(`/articles/${slug}`),\r\n  delete: (slug: string) =>\r\n    del(`/articles/${slug}`),\r\n  favorite: (slug: string) =>\r\n    post(`/articles/${slug}/favorite`),\r\n  unfavorite: (slug: string) =>\r\n    del(`/articles/${slug}/favorite`),\r\n  update: (article: IArticle) =>\r\n    put(`/articles/${article.slug}`, { article }),\r\n  create: (article: INewArticle) =>\r\n    post<IArticlesResponse>('/articles', { article })\r\n}\r\n\r\nexport const comments = {\r\n  create: (slug: string, comment: { body: string }) =>\r\n    post(`/articles/${slug}/comments`, { comment }),\r\n  delete: (slug: string, commentId: string) =>\r\n    del(`/articles/${slug}/comments/${commentId}`),\r\n  forArticle: (slug: string) =>\r\n    get<ICommentsResponse>(`/articles/${slug}/comments`)\r\n};\r\n\r\nexport const profile = {\r\n  get: (username: string) =>\r\n    get<IProfileResponse>(`/profiles/${username}`),\r\n  follow: (username: string) =>\r\n    post<IProfileResponse>(`/profiles/${username}/follow`),\r\n  unfollow: (username: string) =>\r\n    del(`/profiles/${username}/follow`)\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.ts","import app from 'apprun'\r\n\r\nexport default function ({ errors }) {\r\n  return <ul className=\"error-messages\">\r\n    {Object.keys(errors).map(key => <li>{`${key} ${errors[key]}`}</li>)}\r\n  </ul>\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/error-list.tsx","import app from 'apprun';\r\nimport { IArticle } from '../models';\r\n\r\nfunction Article(props) {\r\n  const article = props.article as IArticle;\r\n  return <div className=\"article-preview\">\r\n    <div className=\"article-meta\">\r\n      <a href={article.author.image} ><img src={article.author.image} /></a>\r\n      <div className=\"info\">\r\n        <a href={`#/profile/${article.author.username}`} className=\"author\">\r\n          {article.author.username}\r\n        </a>\r\n        <span className=\"date\">{ new Date(article.updatedAt).toLocaleString() }</span>\r\n      </div>\r\n      <button className=\"btn btn-outline-primary btn-sm pull-xs-right\"\r\n        onclick={e => app.run('#toggle-fav-article', article, props.id)}>\r\n        <i className=\"ion-heart\"></i> {article.favoritesCount}\r\n      </button>\r\n    </div>\r\n    <a href={`#/article/${article.slug}`} className=\"preview-link\">\r\n      <h1>{article.title}</h1>\r\n      <p>{article.description}</p>\r\n      <span>Read more...</span>\r\n    </a>\r\n    <div class=\"tag-list\"><br/>\r\n      {article.tagList.map(tag =>\r\n        <li className=\"tag-default tag-pill tag-outline\">\r\n          <a href={`#/tag/${tag}`}>{tag} </a>\r\n        </li>\r\n      )}\r\n      </div>\r\n  </div>\r\n}\r\n\r\nexport default function ({ articles, id }: { articles: Array<IArticle>, id?: string }) {\r\n  return articles.length\r\n    ? articles.map(article => <Article article={article} id={id}></Article>)\r\n    : <div className=\"article-preview\">No articles are here... yet.</div>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/article-list.tsx","import app from 'apprun';\r\n\r\nexport default function ({ max, selected, onpage }) {\r\n  function select(e) {\r\n    e.preventDefault();\r\n    const page = parseInt(e.target.textContent);\r\n    onpage(page);\r\n  }\r\n  const pages = new Array(max).fill(0);\r\n  return <nav>\r\n    <ul className=\"pagination\" onclick={e => select(e)}>\r\n      {pages.map((page, idx) => <li className={`page-item ${(idx + 1) === selected ? 'active' : ''}`}>\r\n          <a href='#' className=\"page-link\">{idx + 1}</a>\r\n        </li>)}\r\n    </ul>\r\n  </nav>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/page-list.tsx","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')\n  ('def', '\\\\n+(?=' + block.def.source + ')')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  ('def', block.def)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return '';\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {\n      return '';\n    }\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n\t// explicitly match decimal, hex, and named HTML entities \n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/g, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occured:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer,\n  xhtml: false\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/marked/lib/marked.js\n// module id = 5\n// module chunks = 0","import app from 'apprun';\r\nimport { auth } from './api'\r\n\r\nimport './components/header';\r\nimport './components/home';\r\nimport './components/signin';\r\nimport './components/register';\r\nimport './components/profile';\r\nimport './components/settings';\r\nimport './components/editor';\r\nimport './components/article';\r\n\r\napp.on('//', _ => { })\r\n\r\napp.on('#', async (route, ...p) => {\r\n  let user = app['user'];\r\n  if (!user) {\r\n    try {\r\n      const current = await auth.current();\r\n      user = current.user;\r\n    } catch (ex) {\r\n    }\r\n    app.run('#user', user);\r\n  }\r\n  if (!route && !p.length) document.location.hash = '#/';\r\n  app.run(`#/${route || ''}`, ...p);\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","declare var defaultBasePath;\r\n\r\nlet access_token: string = window.localStorage.getItem('jwt');\r\nexport function getToken() {\r\n  return access_token;\r\n}\r\n\r\nexport function setToken(token: string) {\r\n  access_token = token;\r\n  if(token)\r\n    window.localStorage.setItem('jwt', token);\r\n  else\r\n    window.localStorage.removeItem('jwt');\r\n}\r\n\r\nexport async function fetchAsync(method: 'GET' | 'POST' | 'DELETE' | 'PUT', url: string, body?: any) {\r\n  const headers = access_token ? { 'Authorization': `Token ${access_token}` } : {}\r\n  headers['Content-Type'] = 'application/json; charset=utf-8';\r\n  const response = await window['fetch'](`${defaultBasePath}${url}`, {\r\n    method,\r\n    headers,\r\n    body: body && JSON.stringify(body)\r\n  });\r\n  // server might return string instead of json to cause error at this line\r\n  const result = await response.json();\r\n  if (!response.ok) throw result;\r\n  return result;\r\n}\r\n\r\nexport function get<T>(url: string): Promise<T> {\r\n  return fetchAsync('GET', url);\r\n}\r\n\r\nexport function post<T>(url: string, body?: any): Promise<T> {\r\n  return fetchAsync('POST', url, body);\r\n}\r\n\r\nexport function del(url: string) {\r\n  return fetchAsync('DELETE', url);\r\n}\r\n\r\nexport function put(url: string, body?: any) {\r\n  return fetchAsync('PUT', url, body);\r\n}\r\nexport function toQueryString(obj) {\r\n  const parts = [];\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      parts.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(obj[i]));\r\n    }\r\n  }\r\n  return parts.join(\"&\");\r\n}\r\n\r\nexport function serializeObject<T>(form) {\r\n  let obj = {};\r\n  if (typeof form == 'object' && form.nodeName == \"FORM\") {\r\n    for (let i = 0; i < form.elements.length; i++) {\r\n      const field = form.elements[i];\r\n      if (field.name\r\n        && field.type != 'file'\r\n        && field.type != 'reset'\r\n        && field.type != 'submit'\r\n        && field.type != 'button') {\r\n        if (field.type == 'select-multiple') {\r\n          obj[field.name] = '';\r\n          let tempvalue = '';\r\n          for (let j = 0; j < form.elements[i].options.length; j++) {\r\n            if (field.options[j].selected)\r\n              tempvalue += field.options[j].value + ';';\r\n          }\r\n          if (tempvalue.charAt(tempvalue.length - 1) === ';') obj[field.name] = tempvalue.substring(0, tempvalue.length - 1);\r\n\r\n        } else if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\r\n          obj[field.name] = field.value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return obj as T;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fetch.ts","import app, { Component } from 'apprun';\r\n\r\nclass HeaderComponent extends Component {\r\n  state = {}\r\n  view = state => {\r\n    const user = state.user\r\n    return <ul className=\"nav navbar-nav pull-xs-right\">\r\n      <li className=\"nav-item\">\r\n          <a className=\"nav-link active\" href=\"#/\">Home</a>\r\n      </li>\r\n      {user && <li className=\"nav-item\">\r\n        <a className=\"nav-link\" href=\"#/editor\">\r\n          <i className=\"ion-compose\"></i>&nbsp;New Post\r\n            </a>\r\n      </li>\r\n      }\r\n      {user && <li className=\"nav-item\">\r\n          <a className=\"nav-link\" href=\"#/settings\">\r\n            <i className=\"ion-gear-a\"></i>&nbsp;Settings\r\n            </a>\r\n        </li>\r\n      }\r\n      {user ? '': <li className=\"nav-item\">\r\n        <a className=\"nav-link\" href=\"#/login\">Sign In</a>\r\n      </li>\r\n      }\r\n      {user? '' : <li className=\"nav-item\">\r\n        <a className=\"nav-link\" href=\"#/register\">Sign up</a>\r\n      </li>\r\n      }\r\n      {user && <li className=\"nav-item\">\r\n        <a className=\"nav-link\" href={`#/profile/${user.username}`}>{user.username}</a>\r\n      </li>\r\n      }\r\n      {user && <li className=\"nav-item\">\r\n        <a className=\"nav-link\" href=\"#/logout\">Sign Out</a>\r\n      </li>\r\n      }\r\n    </ul>\r\n  }\r\n\r\n  update = {\r\n    '#user': (state, user) => ({ ...state, user })\r\n  }\r\n}\r\n\r\nexport default new HeaderComponent().mount('header')\n\n\n// WEBPACK FOOTER //\n// ./src/components/header.tsx","import app, { Component } from 'apprun';\r\nimport { tags, articles } from '../api';\r\nimport Articles from './article-list';\r\nimport Pages from './page-list';\r\n\r\nconst PAGE_SIZE = 10\r\nconst Tag = ({ tag }) => <a href=\"\" className=\"tag-pill tag-default\">{tag}</a>\r\n\r\nclass HomeComponent extends Component {\r\n  state = {\r\n    type: '',\r\n    articles: [],\r\n    tags: [],\r\n    max: 1,\r\n    page: 1\r\n  };\r\n\r\n  view = (state) => {\r\n    if (state instanceof Promise) return;\r\n    return <div className=\"home-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1 className=\"logo-font\">conduit</h1>\r\n          <p>A place to share your knowledge.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">\r\n            <div className=\"feed-toggle\">\r\n              <ul className=\"nav nav-pills outline-active\">\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link ${app['user'] ? '' : 'disabled'} ${state.type==='feed' ? 'active' : ''}`}\r\n                    href=\"#/feed\">Your Feed</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link ${state.type==='' ? 'active' : ''}`} href=\"#/\">Global Feed</a>\r\n                </li>\r\n                {state.tag ?\r\n                  <li className=\"nav-item\">\r\n                    <a className={`nav-link ${state.type === 'tag' ? 'active' : ''}`} href={`#/tag/${state.tag}`}>#{state.tag}</a>\r\n                  </li>\r\n                  : ''\r\n                }\r\n              </ul>\r\n            </div>\r\n            <Articles articles={state.articles} id='home-articles' />\r\n            <Pages max={Math.floor(state.max / PAGE_SIZE)} selected={state.page} onpage={page => this.run('set-page', page)}/>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <div className=\"sidebar\">\r\n              <p>Popular Tags</p>\r\n              <div className=\"tag-list\" onclick={e => this.run('set-tag', e) }>\r\n                {state.tags.map(tag => <Tag tag={tag} />)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  getArticles = async (state, type: '' | 'feed' | 'tag', page, tag?: string) => {\r\n    let tagList = state.tags.length\r\n      ? { tags: state.tags }\r\n      : await tags.all();\r\n\r\n    page = parseInt(page) || 1;\r\n    tag = tag || state.tag;\r\n    const limit = PAGE_SIZE;\r\n    const offset = (page - 1) * PAGE_SIZE;\r\n    let feed;\r\n    switch (type) {\r\n      case 'feed':\r\n        feed = await articles.feed({ limit, offset });\r\n        break;\r\n      case 'tag':\r\n        feed = await articles.search({tag, limit, offset });\r\n        break;\r\n      default:\r\n        feed = await articles.search({ limit, offset });\r\n        break;\r\n    }\r\n    return {\r\n      ...state,\r\n      tags: tagList.tags,\r\n      type, page, tag,\r\n      articles: feed.articles,\r\n      max: feed.articlesCount\r\n    }\r\n  }\r\n\r\n  update = {\r\n    '#/': async (state, page) => {\r\n      return await this.getArticles(state, '', page)\r\n    },\r\n    '#/feed': async (state, page) => {\r\n      return await this.getArticles(state, 'feed', page)\r\n    },\r\n    '#/tag': async (state, tag, page) => {\r\n      return await this.getArticles(state, 'tag', page, tag)\r\n    },\r\n    'set-page': async (state, page) => {\r\n      const t = state.type === 'tag' && state.tag ? `/${state.tag}` : '';\r\n      history.pushState(null, null, `#/${state.type}${t}/${page}`);\r\n      return await this.getArticles(state, state.type, page, state.tag);\r\n    },\r\n    'set-tag': async (state, e) => {\r\n      e.preventDefault();\r\n      const tag = e.target.textContent;\r\n      history.pushState(null, null, `#/tag/${tag}/1`);\r\n      return await this.getArticles(state, 'tag', 1, tag);\r\n    },\r\n    '#update-home-articles': (state, article) => {\r\n      // ?\r\n      const articles = state.articles.map(a => {\r\n        return a.slug === article.slug ? article : a;\r\n      })\r\n      return { ...state, articles };\r\n    }\r\n  }\r\n}\r\n\r\napp.on('#toggle-fav-article', async (article, id) => {\r\n  if (!app['user']) return app.run('#/login');\r\n  const result = article.favorited\r\n    ? await articles.unfavorite(article.slug)\r\n    : await articles.favorite(article.slug);\r\n  app.run(`#update-${id}`, result.article)\r\n})\r\n\r\nexport default new HomeComponent().mount('my-app')\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home.tsx","import app, { Component } from 'apprun';\r\nimport { auth, serializeObject, setToken } from '../api'\r\n\r\nimport Errors from './error-list';\r\n\r\nclass SigninComponent extends Component {\r\n  state = {}\r\n\r\n  view = (state) => {\r\n    if (!state || state instanceof Promise) return;\r\n\r\n    return <div className=\"auth-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            <h1 className=\"text-xs-center\">Sign In</h1>\r\n            <p className=\"text-xs-center\">\r\n              <a href=\"#/register\">Need an account?</a>\r\n            </p>\r\n\r\n            {state.errors && <Errors errors={state.errors} />}\r\n\r\n            <form onsubmit={e => this.run('sign-in', e)}>\r\n              <fieldset className=\"form-group\">\r\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\" name=\"email\"/>\r\n              </fieldset>\r\n              <fieldset className=\"form-group\">\r\n                <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\" name=\"password\" />\r\n              </fieldset>\r\n              <button className=\"btn btn-lg btn-primary pull-xs-right\">\r\n                Sign In\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#/login': state => ({ ...state, messages:[], returnTo: document.location.hash }),\r\n    '#/logout': state => {\r\n      app.run('#user', null);\r\n      document.location.hash = '#/';\r\n    },\r\n    'sign-in': async (state, e) => {\r\n      try {\r\n        e.preventDefault();\r\n        const session = await auth.signIn(serializeObject(e.target));\r\n        app.run('#user', session.user);\r\n        const returnTo: string = (state.returnTo || '').replace(/\\#\\/login\\/?/, '')\r\n        if (!returnTo)\r\n          document.location.hash = '#/feed';\r\n        else {\r\n          app.run('route', returnTo);\r\n          history.pushState(null, null, returnTo);\r\n        }\r\n      } catch ({ errors }) {\r\n        return { ...state, errors }\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\napp.on('#user', user => {\r\n  setToken(user ? user.token : null);\r\n  app['user'] = user;\r\n});\r\n\r\nexport default new SigninComponent().mount('my-app')\n\n\n// WEBPACK FOOTER //\n// ./src/components/signin.tsx","import app, {Component} from 'apprun';\r\nimport { auth, serializeObject } from '../api'\r\nimport Errors from './error-list';\r\n\r\nclass RegisterComponent extends Component {\r\n  state = {}\r\n\r\n  view = (state) => {\r\n    if (!state || state instanceof Promise) return;\r\n\r\n    return <div className=\"auth-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            <h1 className=\"text-xs-center\">Sign up</h1>\r\n            <p className=\"text-xs-center\">\r\n              <a href=\"#/login\">Have an account?</a>\r\n            </p>\r\n\r\n            {state.errors && <Errors errors={state.errors} />}\r\n\r\n            <form onsubmit={e => this.run('register', e)}>\r\n              <fieldset className=\"form-group\">\r\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\" name=\"username\"/>\r\n              </fieldset>\r\n              <fieldset className=\"form-group\">\r\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\" name=\"email\"/>\r\n              </fieldset>\r\n              <fieldset className=\"form-group\">\r\n                <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\" name=\"password\"/>\r\n              </fieldset>\r\n              <button className=\"btn btn-lg btn-primary pull-xs-right\">\r\n                Sign up\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#/register': (state, messages) => ({ ...state, messages }),\r\n    'register': async (state, e) => {\r\n      try {\r\n        e.preventDefault();\r\n        const session = await auth.register(serializeObject(e.target));\r\n        app.run('#user', session.user);\r\n        app.run('route', '#/');\r\n      } catch ({ errors }) {\r\n        return { ...state, errors }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new RegisterComponent().mount('my-app')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/register.tsx","import app, { Component } from 'apprun';\r\nimport { IProfile } from '../models';\r\nimport { articles, profile } from '../api';\r\nimport Articles from './article-list';\r\nimport Pages from './page-list';\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nclass ProfileComponent extends Component {\r\n  state = {\r\n    name: '',\r\n    type: 'articles',\r\n    page: 1\r\n  }\r\n\r\n  view = (state) => {\r\n    const profile = state.profile as IProfile;\r\n    if (!profile) return;\r\n    return <div className=\"profile-page\">\r\n      <div className=\"user-info\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n              <img src={profile.image} className=\"user-img\" />\r\n              <h4>{profile.username}</h4>\r\n              <p>\r\n                {profile.bio}\r\n              </p>\r\n              <button className=\"btn btn-sm btn-outline-secondary action-btn\"\r\n                onclick={e => app.run('#toggle-follow', profile, 'on-profile')}>\r\n                {profile.following\r\n                  ? <span><i className=\"ion-minus-round\"></i> Unfollow {profile.username}</span>\r\n                  : <span><i className=\"ion-plus-round\"></i> Follow {profile.username}</span>\r\n                }\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n            <div className=\"articles-toggle\">\r\n              <ul className=\"nav nav-pills outline-active\">\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link ${state.type === 'articles' ? 'active' : ''}`}\r\n                    href={`#/profile/${profile.username}/articles/1`}>My Articles</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link ${state.type === 'favorites' ? 'active' : ''}`}\r\n                    href={`#/profile/${profile.username}/favorites/1`}>Favorited Articles</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <Articles articles={state.articles} id='profile-articles'/>\r\n            <Pages max={Math.floor(state.max / PAGE_SIZE)} selected={state.page}\r\n              onpage={page => this.run('set-page', page)} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  getState = async (state, name, type, page) => {\r\n    name = name || state.name;\r\n    type = type || state.type;\r\n    page = parseInt(page) || state.page;\r\n    let newState = state;\r\n    if (name !== state.name) {\r\n      const profileResult = await profile.get(name);\r\n      newState = { ...newState, profile: profileResult.profile }\r\n    }\r\n    if (name !== state.name || type !== state.type || page !== state.page) {\r\n      const limit = PAGE_SIZE;\r\n      const offset = (page - 1) * limit;\r\n      const articleResult = type === \"favorites\"\r\n        ? await articles.search({ favorited: name, offset, limit })\r\n        : await articles.search({ author: name, offset, limit });\r\n      newState = {\r\n        ...newState, name, type, page,\r\n        articles: articleResult.articles,\r\n        max: articleResult.articlesCount,\r\n      }\r\n    }\r\n    return newState\r\n  }\r\n\r\n  update = {\r\n    '#/profile': (state, name, type, page) => {\r\n      return this.getState(state, name, type, page)\r\n    },\r\n    'set-page': (state, page) => {\r\n      const url = `#/profile/${state.profile.username}/${state.type}/${page}`\r\n      history.pushState(null, null, url);\r\n      return this.getState(state, null, null, page)\r\n    },\r\n    '#update-profile-articles': (state, article) => {\r\n      // ?\r\n      const articles = state.articles.map(a => {\r\n        return a.slug === article.slug ? article : a;\r\n      })\r\n      return { ...state, articles };\r\n    },\r\n    '#update-follow-on-profile': (state, profile) => {\r\n      return { ...state, profile };\r\n    }\r\n  }\r\n}\r\n\r\napp.on('#toggle-follow', async (author: IProfile, id?) => {\r\n  if (!app['user']) return app.run('#/login');\r\n  const result = author.following\r\n    ? await profile.unfollow(author.username)\r\n    : await profile.follow(author.username);\r\n  app.run(`#update-follow-${id}`, result.profile)\r\n})\r\n\r\nexport default new ProfileComponent().mount('my-app')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile.tsx","import app, { Component } from 'apprun';\r\nimport { serializeObject, auth } from '../api'\r\nimport Errors from './error-list';\r\nclass SettingsComponent extends Component {\r\n  state = {}\r\n\r\n  view = (state) => {\r\n    if (!app['user']) return;\r\n    const user = app['user'];\r\n    return <div className=\"settings-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            {state.errors && <Errors errors={state.errors} />}\r\n            <h1 className=\"text-xs-center\">Your Settings</h1>\r\n            <form onsubmit={e => this.run('submit-settings', e)}>\r\n              <fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"URL of profile picture\"\r\n                    name='image' value={user.image} />\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\"\r\n                    name='username' value={user.username}/>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <textarea className=\"form-control form-control-lg\" rows=\"8\" placeholder=\"Short bio about you\">\r\n                    {user.bio}\r\n                  </textarea>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\"\r\n                    name='email' value={user.email}/>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\"\r\n                    name='password' value={user.password}/>\r\n                </fieldset>\r\n                <button className=\"btn btn-lg btn-primary pull-xs-right\">\r\n                  Update Settings\r\n              </button>\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#/settings': state => {\r\n      if (!app['user']) app.run('#/login');\r\n      return {}\r\n    },\r\n    'submit-settings': async (state, e) => {\r\n      try {\r\n        e.preventDefault();\r\n        const user = serializeObject<any>(e.target);        \r\n        const result = await auth.save(user);\r\n        app.run('#user', result.user);\r\n        return {}\r\n      } catch ({ errors }) {\r\n        return { ...state, errors }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new SettingsComponent().mount('my-app')\n\n\n// WEBPACK FOOTER //\n// ./src/components/settings.tsx","import app, { Component } from 'apprun';\r\nimport { serializeObject, articles } from '../api'\r\nimport Errors from './error-list';\r\n\r\nclass EditorComponent extends Component {\r\n  state = {}\r\n\r\n  view = (state) => {\r\n    if (!app['user'] || !state.article) return;\r\n    const article = state.article;\r\n    return <div className=\"editor-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10 offset-md-1 col-xs-12\">\r\n            {state.errors && <Errors errors={state.errors} />}\r\n            <form onsubmit={e => this.run('submit-article', e)}>\r\n              <input type=\"hidden\" name=\"slug\" value={article.slug} />\r\n              <fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control form-control-lg\" placeholder=\"Article Title\"\r\n                    name=\"title\" value={article.title}/>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control\" placeholder=\"What's this article about?\"\r\n                    name=\"description\" value={article.description}/>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <textarea className=\"form-control\" rows=\"8\" placeholder=\"Write your article (in markdown)\" name=\"body\">\r\n                    {article.body}\r\n                  </textarea>\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Enter tags\" name=\"tags\"\r\n                    value={article.tagList.join(', ')}/>\r\n                  <div className=\"tag-list\"></div>\r\n                </fieldset>\r\n                <button className=\"btn btn-lg pull-xs-right btn-primary\" type=\"submit\">\r\n                  Publish Article\r\n                </button>\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#/editor': async (state, slug) => {\r\n      if (!app['user']) app.run('#/login');\r\n      let article;\r\n      if (slug) {\r\n        const result = await articles.get(slug);\r\n        article = result.article\r\n      }\r\n      article = article || { title: '', description: '', body: '', tagList: [] };\r\n      return { article };\r\n    },\r\n    'submit-article': async (state, e) => {\r\n      try {\r\n        e.preventDefault();\r\n        const article = serializeObject<any>(e.target);\r\n        article.tagList = article.tags.split(',');\r\n        const result = article.slug\r\n          ? await articles.create(article)\r\n          : await articles.update(article)\r\n        document.location.hash = `#/article/${result.article.slug}`;\r\n        return state;\r\n      } catch ({ errors }) {\r\n        return {...state, errors}\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new EditorComponent().mount('my-app')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/editor.tsx","import app, { Component } from 'apprun';\r\nimport { articles, comments } from '../api';\r\nimport { IArticle } from '../models';\r\nimport Comments from './comment-list';\r\nimport * as marked from 'marked';\r\n\r\nclass ArticleComponent extends Component {\r\n  state = {\r\n    article: null,\r\n    comments: []\r\n  }\r\n\r\n  view = (state) => {\r\n    const article = state.article as IArticle;\r\n    if (!article) return;\r\n    return <div className=\"article-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1>{article.title}</h1>\r\n          <div className=\"article-meta\">\r\n            <a href={article.author.image} ><img src={article.author.image} /></a>\r\n            <div className=\"info\">\r\n              <a href={`#/profile/${article.author.username}`} className=\"author\">\r\n                {article.author.username}\r\n              </a>\r\n              <span className=\"date\">{new Date(article.updatedAt).toLocaleString()}</span>\r\n            </div>\r\n\r\n            {app['user'] && app['user'].username === article.author.username\r\n              ?<span>\r\n                <button className=\"btn btn-sm btn-outline-secondary\"\r\n                  onclick={e => app.run('#edit-article', article)}>\r\n                  <i className=\"ion-edit\"></i>&nbsp; Edit Article\r\n              </button>&nbsp;&nbsp;\r\n              <button className=\"btn btn-sm btn-outline-danger\"\r\n                  onclick={e => app.run('#delete-article', article)}>\r\n                  <i className=\"ion-trash-o\"></i>&nbsp; Delete Article\r\n              </button>\r\n              </span>\r\n\r\n              : <span>\r\n                <button className=\"btn btn-sm btn-outline-secondary\"\r\n                  onclick={e => app.run('#toggle-follow', article.author, 'on-article')}>\r\n                  {article.author.following\r\n                    ? <span><i className=\"ion-minus-round\"></i> Unfollow {article.author.username}</span>\r\n                    : <span><i className=\"ion-plus-round\"></i> Follow {article.author.username}</span>\r\n                  }\r\n                </button> &nbsp;&nbsp;\r\n                <button className=\"btn btn-sm btn-outline-primary\"\r\n                  onclick={e => app.run('#toggle-fav-article', article, 'article')}>\r\n                  <i className=\"ion-heart\"></i>\r\n                  &nbsp; Favorite Post <span className=\"counter\">({article.favoritesCount})</span>\r\n                </button>\r\n              </span>\r\n            }\r\n                  \r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container page\">\r\n        <div className=\"row article-content\">\r\n          <div className=\"col-md-12\">\r\n            <p>{`_html:${marked(article.body, { sanitize: true })}`}</p>\r\n            <div class=\"tag-list\"><br />\r\n              {article.tagList.map(tag =>\r\n                <li className=\"tag-default tag-pill tag-outline\">\r\n                  <a href={`#/tag/${tag}`}>{tag} </a>\r\n                </li>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        <Comments comments={state.comments}/>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n  update = {\r\n    '#/article': async (state, slug) => {\r\n      let article = state.article as IArticle;\r\n      let _comments = state.comments;\r\n      if (!article || article.slug !== slug) {\r\n        const result = await articles.get(slug);\r\n        article = result.article;\r\n        const commentsResponse = await comments.forArticle(article.slug);\r\n        _comments = commentsResponse.comments;\r\n      }\r\n      return { ...state, article, comments: _comments }\r\n    },\r\n    '#new-comment': async (state, e) => {\r\n      try {\r\n        e.preventDefault();\r\n        const comment = e.target['comment'].value;\r\n        await comments.create(state.article.slug, { body: comment });\r\n        const commentsResponse = await comments.forArticle(state.article.slug);\r\n        return { ...state, comments: commentsResponse.comments }\r\n      } catch ({ errors }) {\r\n        return { ...state, errors }\r\n      }\r\n    },\r\n    '#update-article': (state, article) => {\r\n      return { ...state, article };\r\n    },\r\n    '#update-follow-on-article': (state, author) => {\r\n      return { ...state, article: { ...state.article, author } };\r\n    },\r\n    '#delete-comment': async (state, comment) => {\r\n      await comments.delete(this.state.article.slug, comment.id);\r\n      const commentsResponse = await comments.forArticle(state.article.slug);      \r\n      return { ...state, comments: commentsResponse.comments }      \r\n    }\r\n  }\r\n}\r\n\r\napp.on('#edit-article', article => {\r\n  document.location.hash = `#/editor/${article.slug}`;\r\n})\r\n\r\napp.on('#delete-article', article => {\r\n  articles.delete(article.slug);\r\n  document.location.hash = '#/';\r\n})\r\n\r\nexport default new ArticleComponent().mount('my-app')\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/article.tsx","import app from 'apprun';\r\nimport { IComment, IProfile } from '../models';\r\nimport * as marked from 'marked';\r\n\r\nfunction Comment({ comment }: { comment: IComment }) {\r\n  return <div className=\"card\">\r\n    <div className=\"card-block\">\r\n      <p className=\"card-text\">\r\n        <p>{`_html:${marked(comment.body, { sanitize: true })}`}</p>\r\n      </p>\r\n    </div>\r\n    <div className=\"card-footer\">\r\n      <a className=\"comment-author\">\r\n        <img src={comment.author.image} className=\"comment-author-img\" />\r\n    </a>\r\n    &nbsp;\r\n    <a className=\"comment-author\" href={`#/profile/${comment.author.username}`}>\r\n      { comment.author.username }\r\n    </a>\r\n    <span className=\"date-posted\">\r\n      { new Date(comment.createdAt).toLocaleString() }\r\n    </span>\r\n    { app['user'] && app['user'].username === comment.author.username \r\n      ? <span className=\"mod-options\">\r\n          <i className=\"ion-trash-a\" onclick={e=>app.run('#delete-comment', comment)} ></i>\r\n        </span>\r\n      : ''}    \r\n  </div>\r\n</div>\r\n}\r\n\r\nexport default function ({ comments }: { comments: Array<IComment> }) {\r\n  const user = app['user'] as IProfile;\r\n  return <div className=\"row\">\r\n    <div className=\"col-xs-12 col-md-8 offset-md-2\">\r\n      {!user\r\n        ? <p><a href={`#/login/${document.location.hash}`}>Sign in</a> or&nbsp;\r\n          <a href='#/register'>sign up</a> to add comments on this article.</p>\r\n        : <form className=\"card comment-form\" onsubmit={e=>app.run('#new-comment', e)}>\r\n          <div className=\"card-block\">\r\n            <textarea className=\"form-control\" placeholder=\"Write a comment...\" rows=\"3\" name='comment'></textarea>\r\n          </div>\r\n          <div className=\"card-footer\">\r\n            {user.image\r\n              ? <img src={user.image} className=\"comment-author-img\" />\r\n              : <span>@{user.username}</span>\r\n            }\r\n            <button className=\"btn btn-sm btn-primary\" type='submit'>\r\n              Post Comment\r\n            </button>\r\n          </div>\r\n        </form>\r\n      }\r\n      {comments.map(comment => <Comment comment={comment} />)}\r\n    </div>\r\n  </div>\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/comment-list.tsx","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}