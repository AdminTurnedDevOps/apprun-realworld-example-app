{"version":3,"sources":["webpack:///app.js","webpack:///webpack/bootstrap 1c398c2fff3422e66197","webpack:///webpack://apprun/webpack/universalModuleDefinition","webpack:///webpack://apprun/webpack/bootstrap","webpack:///webpack://apprun/src/app.ts","webpack:///webpack://apprun/src/apprun.ts","webpack:///webpack://apprun/src/decorator.ts","webpack:///webpack://apprun/src/vdom-my.ts","webpack:///webpack://apprun/src/router.ts","webpack:///webpack://apprun/src/component.ts","webpack:///webpack://apprun/src/createComponent.tsx","webpack:///webpack://apprun/src/vdom.ts","webpack:///webpack://apprun/(webpack)/buildin/global.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/api.ts","webpack:///./src/components/error-list.tsx","webpack:///./src/components/article-list.tsx","webpack:///./src/components/page-list.tsx","webpack:///./src/components/modal.tsx","webpack:///./node_modules/marked/lib/marked.js","webpack:///./src/main.ts","webpack:///./src/fetch.ts","webpack:///./src/components/header.tsx","webpack:///./src/components/home.tsx","webpack:///./src/components/signin.tsx","webpack:///./src/components/register.tsx","webpack:///./src/components/profile.tsx","webpack:///./src/components/settings.tsx","webpack:///./src/components/editor.tsx","webpack:///./src/components/article.tsx","webpack:///./src/components/comment-list.tsx","webpack:///(webpack)/buildin/global.js","webpack:///./src/components/article-meta.tsx"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","root","factory","this","t","r","value","default","e","app","App","_events","on","fn","options","push","run","_this","args","_i","arguments","length","subscribers","console","assert","filter","sub","delay","apply","once","_t","clearTimeout","setTimeout","global","window","start","app_1","vdom_1","component_1","Component","decorator_1","update","event","router_1","createElement","render","Fragment","element","model","view","opts","assign","global_event","component","rendered","mount","route","_","url","document","addEventListener","onpopstate","location","hash","Reflect","meta","WeakMap","defineMetadata","metadataKey","metadataValue","target","has","set","getMetadataKeys","getPrototypeOf","keys","getMetadata","key","descriptor","collect","children","ch","forEach","Array","isArray","nodes","updateChildren","node","firstChild","appendChild","create","el","nodeName","tag","toUpperCase","updateProps","props","parentNode","replaceChild","len","Math","min","childNodes","child","textContent","nodeType","createText","old","keyCache","removeChild","lastChild","createDocumentFragment","indexOf","div","insertAdjacentHTML","substring","createTextNode","JSON","stringify","createElementNS","cached","ATTR_PROPS","name_1","a","b","style","cssText","startsWith","dname","dataset","getAttribute","setAttribute","createComponent_1","__isAppRunComponent","__assign","updateElement","ROUTER_EVENT","_a","split","rest","slice","concat","_b","name_2","state","_app","_history","_history_idx","renderState","html","vdom","getElementById","_component","setState","history","Promise","then","catch","err","error","enable_history","callback","prev","next","add_actions","is_global_event","add_action","action","newState","actions","bind","all","trim","cache","components","componentClass","id","performance","now","mounted","vdom_my_1","g","Function","eval","__webpack_exports__","__extends","__","constructor","extendStatics","__rest","getOwnPropertySymbols","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","__param","paramIndex","decorator","__metadata","metadata","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","result","done","__generator","body","verb","v","op","f","TypeError","y","label","ops","pop","trys","sent","throw","return","Symbol","iterator","__exportStar","__values","__read","ar","__spread","__await","__asyncGenerator","q","resume","settle","fulfill","shift","asyncIterator","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","k","__importDefault","setPrototypeOf","__proto__","fetch_1","getToken","setToken","toQueryString","serializeObject","tags","auth","current","signIn","user","post","register","save","put","articles","search","request","feed","slug","delete","del","favorite","unfavorite","article","comments","comment","commentId","forArticle","profile","username","follow","unfollow","default_1","errors","apprun_1","className","map","Article","favClass","favorited","href","author","image","src","Date","updatedAt","toLocaleString","onclick","favoritesCount","title","description","tagList","select","preventDefault","page","parseInt","onpage","max","selected","pages","fill","idx","ok","cancel","onOK","onCancel","role","type","data-dismiss","aria-label","aria-hidden","Lexer","tokens","links","marked","defaults","rules","block","normal","gfm","tables","InlineLexer","inline","renderer","Renderer","Error","breaks","pedantic","TextRenderer","Parser","token","escape","encode","replace","unescape","toLowerCase","charAt","String","fromCharCode","edit","regex","opt","source","val","getRegex","RegExp","resolveUrl","base","baseUrls","test","noop","merge","obj","toString","pending","highlight","lex","out","parse","text","lang","code","escaped","message","silent","newline","fences","hr","heading","nptable","blockquote","list","def","table","lheading","paragraph","_label","_title","bullet","item","_tag","top","loose","cap","bull","space","isordered","exec","depth","header","align","cells","ordered","match","smartLists","join","sanitize","pre","sanitizer","charCodeAt","autolink","link","reflink","nolink","strong","em","br","_scheme","_email","_inside","_href","_backpedal","output","mangle","inLink","outputLink","codespan","smartypants","random","langPrefix","quote","level","headerPrefix","xhtml","listitem","tablerow","content","tablecell","flags","prot","decodeURIComponent","baseUrl","originIndependentUrl","inlineText","reverse","tok","peek","parseText","row","cell","j","setOptions","parser","lexer","inlineLexer","tslib_1","api_1","ex_1","access_token","localStorage","setItem","removeItem","fetchAsync","method","headers","response","Authorization","defaultBasePath","json","parts","encodeURIComponent","form","elements","field","tempvalue","checked","getItem","HeaderComponent","_super","setUser","article_list_1","page_list_1","PAGE_SIZE","Tag","HomeComponent","floor","updateState","limit","offset","_c","articlesCount","setPage","pushState","setTag","updateArticle","error_list_1","SigninComponent","onsubmit","placeholder","login","messages","returnTo","logout","session","RegisterComponent","submitRegistration","ProfileComponent","bio","following","profileResult","articleResult","updateFollow","toggleFollow","modal_1","SettingsComponent","showModal","rows","email","password","settings","submitSettings","showModel","EditorComponent","submitArticle","comment_list_1","article_meta_1","ArticleComponent","deleting","_comments","commentsResponse","newComment","deleteComment","toggleFavArticle","editArticle","deleteArticle","okDelete","cancelDelete","Comment","createdAt","ArticleMeta","followClass"],"mappings":"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","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.apprun=e():t.apprun=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var n,r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){void 0===n&&(n={}),this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})},t.prototype.run=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t];console.assert(!!o,\"No subscriber for event: \"+t),o&&(this._events[t]=o.filter(function(r){var o=r.fn,i=r.options;return i.delay?e.delay(t,o,n,i):o.apply(e,n),!r.options.once}))},t.prototype.once=function(t,e){this.on(t,e)},t.prototype.delay=function(t,e,n,r){var o=this;r._t&&clearTimeout(r._t),r._t=setTimeout(function(){clearTimeout(r._t),e.apply(o,n)},r.delay)},t}();e.App=r;var o=t||window;o.app&&o.app.start?n=o.app:(n=new r,o.app=n),e.default=n}).call(this,n(8))},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=n(7),i=n(5);e.Component=i.Component;var a=n(2);e.on=a.on,e.update=a.update,e.event=a.update;var s=n(4);r.default.createElement=o.createElement,r.default.render=o.render,r.default.Fragment=o.Fragment,r.default.start=function(t,e,n,r,o){var a=Object.assign(o||{},{render:!0,global_event:!0}),s=new i.Component(e,n,r);return o&&o.rendered&&(s.rendered=o.rendered),s.mount(t,a),s},r.default.route||(r.default.route=s.default,r.default.on(\"//\",function(t){}),r.default.on(\"#\",function(t){}),r.default.on(\"route\",function(t){return s.default(t)}),\"object\"==typeof document&&document.addEventListener(\"DOMContentLoaded\",function(){window.onpopstate=function(){return s.default(location.hash)},s.default(location.hash)})),e.default=r.default,r.default.on(\"debug\",function(t){return 0})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Reflect={meta:new WeakMap,defineMetadata:function(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys:function(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata:function(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}},e.update=function(t,n){return void 0===n&&(n={}),function(r,o,i){return t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:o,options:n},r),i}},e.on=function(t,n){return void 0===n&&(n={}),function(r,o){t=o+(t?\",\"+t:\"\"),e.Reflect.defineMetadata(\"apprun-update:\"+t,{name:t,key:o,options:n},r)}}},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6),i=\"_props\";function a(t){var e=[],n=function(t){null!==t&&void 0!==t&&\"\"!==t&&e.push(\"function\"==typeof t||\"object\"==typeof t?t:\"\"+t)};return t&&t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){return n(t)}):n(t)}),e}e.createElement=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=a(n);return\"string\"==typeof t?{tag:t,props:e,children:s}:void 0===t&&n?s:Object.getPrototypeOf(t).__isAppRunComponent?o.default(t,r({},e,{children:n})):t(e,s)};var s={};function u(t,e){if(null!=e&&t)if(Array.isArray(e))d(t,e);else{var n=e;t.firstChild?c(t.firstChild,n):t.appendChild(f(n))}}function c(t,e){console.assert(!!t),function(t,e){return t.nodeName===(\"\"+(e.tag||\"\")).toUpperCase()}(t,e)?(d(t,e.children),p(t,e.props)):t.parentNode.replaceChild(f(e),t)}function d(t,e){for(var n=Math.min(t.childNodes.length,e.length),r=0;r<n;r++){var o=e[r],i=t.childNodes[r];if(\"string\"==typeof o)i.textContent!==o&&(3===i.nodeType?i.textContent=o:t.replaceChild(l(o),i));else{var a=o.props&&o.props.key;if(a)if(i.key===a)c(t.childNodes[r],o);else{var u=a&&s[a];u?(t.replaceChild(u,i),t.appendChild(i),c(t.childNodes[r],o)):(t.appendChild(f(o),i),c(t.childNodes[r],o))}else c(t.childNodes[r],o)}}for(var d=t.childNodes.length;d>n;)t.removeChild(t.lastChild),d--;if(e.length>n){var p=document.createDocumentFragment();for(r=n;r<e.length;r++)p.appendChild(f(e[r]));t.appendChild(p)}}function l(t){if(0===t.indexOf(\"_html:\")){var e=document.createElement(\"div\");return e.insertAdjacentHTML(\"afterbegin\",t.substring(6)),e}return document.createTextNode(t)}function f(t){if(console.assert(null!==t&&void 0!==t),\"string\"==typeof t)return l(t);if(!t.tag)return l(JSON.stringify(t));var e=\"svg\"===t.tag?document.createElementNS(\"http://www.w3.org/2000/svg\",t.tag):document.createElement(t.tag);return p(e,t.props),t.children&&t.children.forEach(function(t){return e.appendChild(f(t))}),e}function p(t,e){console.assert(!!t);var n=t[i]||{};for(var r in e=function(t,e){var n={};return t&&Object.keys(t).forEach(function(t){return n[t]=\"\"}),e&&Object.keys(e).forEach(function(t){return n[t]=e[t]}),n}(n,e),t[i]=e,e){var o=e[r];if(\"style\"===r)for(var a in t.style.cssText&&(t.style.cssText=\"\"),o)t.style[a]!==o[a]&&(t.style[a]=o[a]);else if(r.startsWith(\"data-\")){var u=r.substring(5);t.dataset[u]!==o&&(t.dataset[u]=o)}else r.startsWith(\"role\")||r.startsWith(\"aria-\")?t.getAttribute(r)!==o&&t.setAttribute(r,o):(t[r]!==o&&(t[r]=o),\"key\"===r&&o&&(s[o]=t))}}e.updateElement=u,e.render=u,e.Fragment=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o=\"//\";e.default=function(t){if(t||(t=\"#\"),t.startsWith(\"#\")){var e=t.split(\"/\"),n=e[0],i=e.slice(1);r.default.run.apply(r.default,[n].concat(i)),r.default.run.apply(r.default,[o,n].concat(i))}else if(t.startsWith(\"/\")){var a=t.split(\"/\"),s=(a[0],a[1]);i=a.slice(2),r.default.run.apply(r.default,[\"/\"+s].concat(i)),r.default.run.apply(r.default,[o,\"/\"+s].concat(i))}else r.default.run(t),r.default.run(o,t)}},function(t,e,n){\"use strict\";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),i=n(2),a=function(){function t(t,e,n,i){var a=this;this.state=t,this.view=e,this.update=n,this.options=i,this._app=new o.App,this._history=[],this._history_idx=-1,this.start=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={render:!0}),a.mount(t,r({},e,{render:!0}))}}return t.prototype.renderState=function(t){if(this.view){var e=this.view(t);o.default.run(\"debug\",{component:this,state:t,vdom:e||\"[vdom is null - no render]\"});var n=\"string\"==typeof this.element?document.getElementById(this.element):this.element;n&&(n._component=this),n&&o.default.render&&(o.default.render(n,e),this.rendered&&this.rendered(this.state))}},t.prototype.setState=function(t,e){var n=this;if(void 0===e&&(e={render:!0,history:!1}),t instanceof Promise)t.then(function(t){n.setState(t,e)}).catch(function(t){throw console.error(t),t});else{if(null==t)return;this.state=t,!1!==e.render&&this.renderState(t),!1!==e.history&&this.enable_history&&(this._history=this._history.concat([t]),this._history_idx=this._history.length-1),\"function\"==typeof e.callback&&e.callback(this.state)}},t.prototype.mount=function(t,e){var n=this;if(void 0===t&&(t=null),console.assert(!this.element,\"Component already mounted.\"),this.options=e=Object.assign(this.options||{},e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history){this.on(e.history.prev||\"history-prev\",function(){n._history_idx--,n._history_idx>=0?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=0}),this.on(e.history.next||\"history-next\",function(){n._history_idx++,n._history_idx<n._history.length?n.setState(n._history[n._history_idx],{render:!0,history:!1}):n._history_idx=n._history.length-1})}return this.add_actions(),void 0===this.state&&(this.state=this.model||{}),e.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),this},t.prototype.is_global_event=function(t){return t&&(t.startsWith(\"#\")||t.startsWith(\"/\"))},t.prototype.add_action=function(t,e,n){var r=this;void 0===n&&(n={}),e&&\"function\"==typeof e&&this.on(t,function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=e.apply(void 0,[r.state].concat(i));o.default.run(\"debug\",{component:r,event:t,e:i,state:r.state,newState:s,options:n}),r.setState(s,n)},n)},t.prototype.add_actions=function(){var t=this,e=this.update||{};i.Reflect.getMetadataKeys(this).forEach(function(n){if(n.startsWith(\"apprun-update:\")){var r=i.Reflect.getMetadata(n,t);e[r.name]=[t[r.key].bind(t),r.options]}});var n={};Object.keys(e).forEach(function(t){var r=e[t];(\"function\"==typeof r||Array.isArray(r))&&t.split(\",\").forEach(function(t){return n[t.trim()]=r})}),Object.keys(n).forEach(function(e){var r=n[e];\"function\"==typeof r?t.add_action(e,r):Array.isArray(r)&&t.add_action(e,r[0],r[1])})},t.prototype.run=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.global_event||this.is_global_event(t)?o.default.run.apply(o.default,[t].concat(n)):(e=this._app).run.apply(e,[t].concat(n))},t.prototype.on=function(t,e,n){return this.global_event||this.is_global_event(t)?o.default.on(t,e,n):this._app.on(t,e,n)},t.__isAppRunComponent=!0,t}();e.Component=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),o={};r.default.on(\"get-components\",function(t){return t.components=o}),e.default=function(t,e){var n=e&&e.id;n||(n=\"_\"+t.name+\"_\"+performance.now());var i=n&&o[n]?o[n]:o[n]=new t(e).mount(n);return i.mounted&&setTimeout(function(){return i.mounted(e)},0),i.rendered&&setTimeout(function(){return i.rendered(i.state)},0),r.default.createElement(\"div\",{id:n},i.view&&i.view(i.state))}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(3);e.createElement=r.createElement,e.Fragment=r.Fragment,e.render=function(t,e){console.assert(!!t),r.updateElement(t,e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n}])});\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"__extends\"] = __extends;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (immutable) */ __webpack_exports__[\"__rest\"] = __rest;\n/* harmony export (immutable) */ __webpack_exports__[\"__decorate\"] = __decorate;\n/* harmony export (immutable) */ __webpack_exports__[\"__param\"] = __param;\n/* harmony export (immutable) */ __webpack_exports__[\"__metadata\"] = __metadata;\n/* harmony export (immutable) */ __webpack_exports__[\"__awaiter\"] = __awaiter;\n/* harmony export (immutable) */ __webpack_exports__[\"__generator\"] = __generator;\n/* harmony export (immutable) */ __webpack_exports__[\"__exportStar\"] = __exportStar;\n/* harmony export (immutable) */ __webpack_exports__[\"__values\"] = __values;\n/* harmony export (immutable) */ __webpack_exports__[\"__read\"] = __read;\n/* harmony export (immutable) */ __webpack_exports__[\"__spread\"] = __spread;\n/* harmony export (immutable) */ __webpack_exports__[\"__await\"] = __await;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncGenerator\"] = __asyncGenerator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncDelegator\"] = __asyncDelegator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncValues\"] = __asyncValues;\n/* harmony export (immutable) */ __webpack_exports__[\"__makeTemplateObject\"] = __makeTemplateObject;\n/* harmony export (immutable) */ __webpack_exports__[\"__importStar\"] = __importStar;\n/* harmony export (immutable) */ __webpack_exports__[\"__importDefault\"] = __importDefault;\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Conduit API\nObject.defineProperty(exports, \"__esModule\", { value: true });\nwindow['defaultBasePath'] = 'https://conduit.productionready.io/api';\nvar fetch_1 = __webpack_require__(9);\nexports.getToken = fetch_1.getToken;\nexports.setToken = fetch_1.setToken;\nexports.toQueryString = fetch_1.toQueryString;\nexports.serializeObject = fetch_1.serializeObject;\nexports.tags = {\n    all: function () { return fetch_1.get('/tags'); }\n};\nexports.auth = {\n    current: function () { return fetch_1.getToken()\n        ? fetch_1.get('/user')\n        : null; },\n    signIn: function (user) {\n        return fetch_1.post('/users/login', { user: user });\n    },\n    register: function (user) {\n        return fetch_1.post('/users', { user: user });\n    },\n    save: function (user) {\n        return fetch_1.put('/user', { user: user });\n    }\n};\nexports.articles = {\n    search: function (request) {\n        return fetch_1.get(\"/articles?\" + fetch_1.toQueryString(request));\n    },\n    feed: function (request) {\n        return fetch_1.get(\"/articles/feed?\" + fetch_1.toQueryString(request));\n    },\n    get: function (slug) {\n        return fetch_1.get(\"/articles/\" + slug);\n    },\n    delete: function (slug) {\n        return fetch_1.del(\"/articles/\" + slug);\n    },\n    favorite: function (slug) {\n        return fetch_1.post(\"/articles/\" + slug + \"/favorite\");\n    },\n    unfavorite: function (slug) {\n        return fetch_1.del(\"/articles/\" + slug + \"/favorite\");\n    },\n    update: function (article) {\n        return fetch_1.put(\"/articles/\" + article.slug, { article: article });\n    },\n    create: function (article) {\n        return fetch_1.post('/articles', { article: article });\n    }\n};\nexports.comments = {\n    create: function (slug, comment) {\n        return fetch_1.post(\"/articles/\" + slug + \"/comments\", { comment: comment });\n    },\n    delete: function (slug, commentId) {\n        return fetch_1.del(\"/articles/\" + slug + \"/comments/\" + commentId);\n    },\n    forArticle: function (slug) {\n        return fetch_1.get(\"/articles/\" + slug + \"/comments\");\n    }\n};\nexports.profile = {\n    get: function (username) {\n        return fetch_1.get(\"/profiles/\" + username);\n    },\n    follow: function (username) {\n        return fetch_1.post(\"/profiles/\" + username + \"/follow\");\n    },\n    unfollow: function (username) {\n        return fetch_1.del(\"/profiles/\" + username + \"/follow\");\n    }\n};\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nfunction default_1(_a) {\n    var errors = _a.errors;\n    return apprun_1.default.createElement(\"ul\", { className: \"error-messages\" }, Object.keys(errors).map(function (key) { return apprun_1.default.createElement(\"li\", null, key + \" \" + errors[key]); }));\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nfunction Article(props) {\n    var article = props.article;\n    var favClass = article.favorited ? \"btn-primary\" : \"btn-outline-primary\";\n    return apprun_1.default.createElement(\"div\", { className: \"article-preview\" },\n        apprun_1.default.createElement(\"div\", { className: \"article-meta\" },\n            apprun_1.default.createElement(\"a\", { href: article.author.image },\n                apprun_1.default.createElement(\"img\", { src: article.author.image })),\n            apprun_1.default.createElement(\"div\", { className: \"info\" },\n                apprun_1.default.createElement(\"a\", { href: \"#/profile/\" + article.author.username, className: \"author\" }, article.author.username),\n                apprun_1.default.createElement(\"span\", { className: \"date\" }, new Date(article.updatedAt).toLocaleString())),\n            apprun_1.default.createElement(\"button\", { className: \"btn btn-sm pull-xs-right \" + favClass, onclick: function (e) { return apprun_1.default.run('#toggle-fav-article', article, props.id); } },\n                apprun_1.default.createElement(\"i\", { className: \"ion-heart\" }),\n                \" \",\n                article.favoritesCount)),\n        apprun_1.default.createElement(\"a\", { href: \"#/article/\" + article.slug, className: \"preview-link\" },\n            apprun_1.default.createElement(\"h1\", null, article.title),\n            apprun_1.default.createElement(\"p\", null, article.description),\n            apprun_1.default.createElement(\"span\", null, \"Read more...\"),\n            apprun_1.default.createElement(\"ul\", { className: \"tag-list\" }, article.tagList.map(function (tag) {\n                return apprun_1.default.createElement(\"li\", { className: \"tag-default tag-pill tag-outline\" },\n                    apprun_1.default.createElement(\"a\", { href: \"#/tag/\" + tag },\n                        tag,\n                        \" \"));\n            }))));\n}\nfunction default_1(_a) {\n    var articles = _a.articles, id = _a.id;\n    return articles.length\n        ? articles.map(function (article) { return apprun_1.default.createElement(Article, { article: article, id: id }); })\n        : apprun_1.default.createElement(\"div\", { className: \"article-preview\" }, \"No articles are here... yet.\");\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nfunction default_1(_a) {\n    var max = _a.max, selected = _a.selected, onpage = _a.onpage;\n    function select(e) {\n        e.preventDefault();\n        var page = parseInt(e.target.textContent);\n        onpage(page);\n    }\n    var pages = new Array(max).fill(0);\n    return apprun_1.default.createElement(\"nav\", null,\n        apprun_1.default.createElement(\"ul\", { className: \"pagination\", onclick: function (e) { return select(e); } }, pages.map(function (page, idx) { return apprun_1.default.createElement(\"li\", { className: \"page-item \" + ((idx + 1) === selected ? 'active' : '') },\n            apprun_1.default.createElement(\"a\", { href: '#', className: \"page-link\" }, idx + 1)); })));\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nfunction default_1(_a) {\n    var title = _a.title, body = _a.body, ok = _a.ok, cancel = _a.cancel, onOK = _a.onOK, onCancel = _a.onCancel;\n    return apprun_1.default.createElement(\"div\", { className: \"modal-open\" },\n        apprun_1.default.createElement(\"div\", { className: \"modal-dialog\", role: \"document\" },\n            apprun_1.default.createElement(\"div\", { className: \"modal-content\" },\n                apprun_1.default.createElement(\"div\", { className: \"modal-header\" },\n                    apprun_1.default.createElement(\"h5\", { className: \"modal-title\" },\n                        title,\n                        apprun_1.default.createElement(\"button\", { type: \"button\", className: \"close\", \"data-dismiss\": \"modal\", \"aria-label\": \"Close\", onclick: function (e) { return onCancel(e); } },\n                            apprun_1.default.createElement(\"span\", { \"aria-hidden\": \"true\" }, \"\\u00D7\")))),\n                apprun_1.default.createElement(\"div\", { className: \"modal-body\" },\n                    apprun_1.default.createElement(\"p\", null, body)),\n                apprun_1.default.createElement(\"div\", { className: \"modal-footer\" },\n                    cancel && apprun_1.default.createElement(\"button\", { type: \"button\", className: \"btn btn-secondary\", \"data-dismiss\": \"modal\", onclick: function (e) { return onCancel(e); } }, cancel),\n                    \"\\u00A0\\u00A0\",\n                    apprun_1.default.createElement(\"button\", { type: \"button\", className: \"btn btn-primary\", onclick: function (e) { return onOK(e); } }, ok)))),\n        apprun_1.default.createElement(\"div\", { className: \"modal-backdrop show\", onclick: function (e) { return onCancel(e); } }));\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n?(?!hr|heading|lheading| {0,3}>|tag)[^\\n]+)+)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"|[^\"]|\"[^\"\\n]*\")*\"|'\\n?(?:[^'\\n]+\\n?)*'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = edit(block.html)\n  .replace('comment', /<!--[\\s\\S]*?-->/)\n  .replace('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  .replace('closing', /<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"\\/>\\s]*)*?\\/?>/)\n  .replace(/tag/g, block._tag)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', '<' + block._tag)\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      space,\n      i,\n      tag,\n      l,\n      isordered;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : ''\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase();\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?[a-zA-Z0-9\\-]+(?:\"[^\"]*\"|'[^']*'|\\s[^<'\">\\/\\s]*)*?\\/?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^_([^\\s_](?:[^_]|__)+?[^\\s_])_\\b|^\\*((?:\\*\\*|[^*])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex()\n\ninline._inside = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = edit(inline.link)\n  .replace('inside', inline._inside)\n  .replace('href', inline._href)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('inside', inline._inside)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href),\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n}\n\nTextRenderer.prototype.br = function() {\n  return '';\n}\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = base.replace(/[^/]*$/, '');\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer(),\n  xhtml: false,\n  baseUrl: null\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (true) {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(19)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\n__webpack_require__(10);\n__webpack_require__(11);\n__webpack_require__(12);\n__webpack_require__(13);\n__webpack_require__(14);\n__webpack_require__(15);\n__webpack_require__(16);\n__webpack_require__(17);\napprun_1.default.on('#', function (route) {\n    var p = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        p[_i - 1] = arguments[_i];\n    }\n    return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var user, current, ex_1;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    user = apprun_1.default['user'];\n                    if (!!user) return [3 /*break*/, 5];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, api_1.auth.current()];\n                case 2:\n                    current = _a.sent();\n                    user = current.user;\n                    return [3 /*break*/, 4];\n                case 3:\n                    ex_1 = _a.sent();\n                    return [3 /*break*/, 4];\n                case 4:\n                    apprun_1.default.run('#user', user);\n                    _a.label = 5;\n                case 5:\n                    apprun_1.default.run.apply(apprun_1.default, [\"#/\" + (route || '')].concat(p));\n                    return [2 /*return*/];\n            }\n        });\n    });\n});\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar access_token = window && window.localStorage && window.localStorage.getItem('jwt') || '';\nfunction getToken() {\n    return access_token;\n}\nexports.getToken = getToken;\nfunction setToken(token) {\n    access_token = token;\n    if (!window.localStorage)\n        return;\n    if (token)\n        window.localStorage.setItem('jwt', token);\n    else\n        window.localStorage.removeItem('jwt');\n}\nexports.setToken = setToken;\nfunction fetchAsync(method, url, body) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var headers, response, result;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    headers = access_token ? { 'Authorization': \"Token \" + access_token } : {};\n                    headers['Content-Type'] = 'application/json; charset=utf-8';\n                    return [4 /*yield*/, window['fetch'](\"\" + defaultBasePath + url, {\n                            method: method,\n                            headers: headers,\n                            body: body && JSON.stringify(body)\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (!response.ok)\n                        throw result;\n                    return [2 /*return*/, result];\n            }\n        });\n    });\n}\nexports.fetchAsync = fetchAsync;\nfunction get(url) {\n    return fetchAsync('GET', url);\n}\nexports.get = get;\nfunction post(url, body) {\n    return fetchAsync('POST', url, body);\n}\nexports.post = post;\nfunction del(url) {\n    return fetchAsync('DELETE', url);\n}\nexports.del = del;\nfunction put(url, body) {\n    return fetchAsync('PUT', url, body);\n}\nexports.put = put;\nfunction toQueryString(obj) {\n    var parts = [];\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            parts.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(obj[i]));\n        }\n    }\n    return parts.join(\"&\");\n}\nexports.toQueryString = toQueryString;\nfunction serializeObject(form) {\n    var obj = {};\n    if (typeof form == 'object' && form.nodeName == \"FORM\") {\n        for (var i = 0; i < form.elements.length; i++) {\n            var field = form.elements[i];\n            if (field.name\n                && field.type != 'file'\n                && field.type != 'reset'\n                && field.type != 'submit'\n                && field.type != 'button') {\n                if (field.type == 'select-multiple') {\n                    obj[field.name] = '';\n                    var tempvalue = '';\n                    for (var j = 0; j < form.elements[i].options.length; j++) {\n                        if (field.options[j].selected)\n                            tempvalue += field.options[j].value + ';';\n                    }\n                    if (tempvalue.charAt(tempvalue.length - 1) === ';')\n                        obj[field.name] = tempvalue.substring(0, tempvalue.length - 1);\n                }\n                else if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\n                    obj[field.name] = field.value;\n                }\n            }\n        }\n    }\n    return obj;\n}\nexports.serializeObject = serializeObject;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar HeaderComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(HeaderComponent, _super);\n    function HeaderComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.view = function (state) {\n            var user = state.user;\n            return apprun_1.default.createElement(\"ul\", { className: \"nav navbar-nav pull-xs-right\" },\n                apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link active\", href: \"#/\" }, \"Home\")),\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/editor\" },\n                        apprun_1.default.createElement(\"i\", { className: \"ion-compose\" }),\n                        \"\\u00A0New Post\")),\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/settings\" },\n                        apprun_1.default.createElement(\"i\", { className: \"ion-gear-a\" }),\n                        \"\\u00A0Settings\")),\n                user ? '' : apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/login\" }, \"Sign In\")),\n                user ? '' : apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/register\" }, \"Sign up\")),\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/profile/\" + user.username }, user.username)),\n                user && apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                    apprun_1.default.createElement(\"a\", { className: \"nav-link\", href: \"#/logout\" }, \"Sign Out\")));\n        };\n        _this.setUser = function (state, user) { return (tslib_1.__assign({}, state, { user: user })); };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#user')\n    ], HeaderComponent.prototype, \"setUser\", void 0);\n    return HeaderComponent;\n}(apprun_1.Component));\nexports.default = new HeaderComponent().mount('header');\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar article_list_1 = __webpack_require__(4);\nvar page_list_1 = __webpack_require__(5);\nvar PAGE_SIZE = 10;\nvar Tag = function (_a) {\n    var tag = _a.tag;\n    return apprun_1.default.createElement(\"a\", { href: \"\", className: \"tag-pill tag-default\" }, tag);\n};\nvar HomeComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(HomeComponent, _super);\n    function HomeComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            type: '',\n            articles: [],\n            tags: [],\n            max: 1,\n            page: 1\n        };\n        _this.view = function (state) {\n            if (state instanceof Promise)\n                return;\n            return apprun_1.default.createElement(\"div\", { className: \"home-page\" },\n                apprun_1.default.createElement(\"div\", { className: \"banner\" },\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\n                        apprun_1.default.createElement(\"h1\", { className: \"logo-font\" }, \"conduit\"),\n                        apprun_1.default.createElement(\"p\", null, \"A place to share your knowledge.\"))),\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-9\" },\n                            apprun_1.default.createElement(\"div\", { className: \"feed-toggle\" },\n                                apprun_1.default.createElement(\"ul\", { className: \"nav nav-pills outline-active\" },\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (apprun_1.default['user'] ? '' : 'disabled') + \" \" + (state.type === 'feed' ? 'active' : ''), href: \"#/feed\" }, \"Your Feed\")),\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === '' ? 'active' : ''), href: \"#/\" }, \"Global Feed\")),\n                                    state.tag ?\n                                        apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                                            apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'tag' ? 'active' : ''), href: \"#/tag/\" + state.tag },\n                                                \"#\",\n                                                state.tag))\n                                        : '')),\n                            apprun_1.default.createElement(article_list_1.default, { articles: state.articles, id: 'home' }),\n                            apprun_1.default.createElement(page_list_1.default, { max: Math.floor(state.max / PAGE_SIZE), selected: state.page, onpage: function (page) { return _this.run('set-page', page); } })),\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-3\" },\n                            apprun_1.default.createElement(\"div\", { className: \"sidebar\" },\n                                apprun_1.default.createElement(\"p\", null, \"Popular Tags\"),\n                                apprun_1.default.createElement(\"div\", { className: \"tag-list\", onclick: function (e) { return _this.run('set-tag', e); } }, state.tags.map(function (tag) { return apprun_1.default.createElement(Tag, { tag: tag }); })))))));\n        };\n        _this.updateState = function (state, type, page, tag) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var tagList, _a, limit, offset, feed, _b;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!state.tags.length) return [3 /*break*/, 1];\n                        _a = { tags: state.tags };\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, api_1.tags.all()];\n                    case 2:\n                        _a = _c.sent();\n                        _c.label = 3;\n                    case 3:\n                        tagList = _a;\n                        page = parseInt(page) || 1;\n                        tag = tag || state.tag;\n                        limit = PAGE_SIZE;\n                        offset = (page - 1) * PAGE_SIZE;\n                        _b = type;\n                        switch (_b) {\n                            case 'feed': return [3 /*break*/, 4];\n                            case 'tag': return [3 /*break*/, 6];\n                        }\n                        return [3 /*break*/, 8];\n                    case 4: return [4 /*yield*/, api_1.articles.feed({ limit: limit, offset: offset })];\n                    case 5:\n                        feed = _c.sent();\n                        return [3 /*break*/, 10];\n                    case 6: return [4 /*yield*/, api_1.articles.search({ tag: tag, limit: limit, offset: offset })];\n                    case 7:\n                        feed = _c.sent();\n                        return [3 /*break*/, 10];\n                    case 8: return [4 /*yield*/, api_1.articles.search({ limit: limit, offset: offset })];\n                    case 9:\n                        feed = _c.sent();\n                        return [3 /*break*/, 10];\n                    case 10: return [2 /*return*/, tslib_1.__assign({}, state, { tags: tagList.tags, type: type, page: page, tag: tag, articles: feed.articles, max: feed.articlesCount })];\n                }\n            });\n        }); };\n        _this.root = function (state, page) { return tslib_1.__awaiter(_this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, this.updateState(state, '', page)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        }); }); };\n        _this.feed = function (state, page) { return tslib_1.__awaiter(_this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, this.updateState(state, 'feed', page)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        }); }); };\n        _this.tag = function (state, tag, page) { return tslib_1.__awaiter(_this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, this.updateState(state, 'tag', page, tag)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        }); }); };\n        _this.setPage = function (state, page) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var t;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        t = state.type === 'tag' && state.tag ? \"/\" + state.tag : '';\n                        history.pushState(null, null, \"#/\" + state.type + t + \"/\" + page);\n                        return [4 /*yield*/, this.updateState(state, state.type, page, state.tag)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); };\n        _this.setTag = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var tag;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        tag = e.target.textContent;\n                        history.pushState(null, null, \"#/tag/\" + tag + \"/1\");\n                        return [4 /*yield*/, this.updateState(state, 'tag', 1, tag)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); };\n        _this.updateArticle = function (state, article, id) {\n            state.articles = state.articles.map(function (a) {\n                return a.slug === article.slug ? article : a;\n            });\n            return id === 'home' ? state : null;\n        };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/')\n    ], HomeComponent.prototype, \"root\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#/feed')\n    ], HomeComponent.prototype, \"feed\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#/tag')\n    ], HomeComponent.prototype, \"tag\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('set-page')\n    ], HomeComponent.prototype, \"setPage\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('set-tag')\n    ], HomeComponent.prototype, \"setTag\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#update-article')\n    ], HomeComponent.prototype, \"updateArticle\", void 0);\n    return HomeComponent;\n}(apprun_1.Component));\nexports.default = new HomeComponent().mount('my-app');\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar error_list_1 = __webpack_require__(3);\nvar SigninComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(SigninComponent, _super);\n    function SigninComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.view = function (state) {\n            if (!state || state instanceof Promise)\n                return;\n            return apprun_1.default.createElement(\"div\", { className: \"auth-page\" },\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Sign In\"),\n                            apprun_1.default.createElement(\"p\", { className: \"text-xs-center\" },\n                                apprun_1.default.createElement(\"a\", { href: \"#/register\" }, \"Need an account?\")),\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('sign-in', e); } },\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: \"email\" })),\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: \"password\" })),\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Sign In\"))))));\n        };\n        _this.login = function (state) { return (tslib_1.__assign({}, state, { messages: [], returnTo: document.location.hash })); };\n        _this.logout = function (state) {\n            apprun_1.default.run('#user', null);\n            document.location.hash = '#/';\n        };\n        _this.signIn = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var session, returnTo, _a, errors;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        e.preventDefault();\n                        return [4 /*yield*/, api_1.auth.signIn(api_1.serializeObject(e.target))];\n                    case 1:\n                        session = _b.sent();\n                        apprun_1.default.run('#user', session.user);\n                        returnTo = (state.returnTo || '').replace(/\\#\\/login\\/?/, '');\n                        if (!returnTo)\n                            document.location.hash = '#/feed';\n                        else {\n                            apprun_1.default.run('route', returnTo);\n                            history.pushState(null, null, returnTo);\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = _b.sent();\n                        errors = _a.errors;\n                        return [2 /*return*/, tslib_1.__assign({}, state, { errors: errors })];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.setUser = function (state, user) {\n            api_1.setToken(user ? user.token : null);\n            apprun_1.default['user'] = user;\n        };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/login')\n    ], SigninComponent.prototype, \"login\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#/logout')\n    ], SigninComponent.prototype, \"logout\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('sign-in')\n    ], SigninComponent.prototype, \"signIn\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#user')\n    ], SigninComponent.prototype, \"setUser\", void 0);\n    return SigninComponent;\n}(apprun_1.Component));\nexports.default = new SigninComponent().mount('my-app');\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar error_list_1 = __webpack_require__(3);\nvar RegisterComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(RegisterComponent, _super);\n    function RegisterComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.view = function (state) {\n            if (!state || state instanceof Promise)\n                return;\n            return apprun_1.default.createElement(\"div\", { className: \"auth-page\" },\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Sign up\"),\n                            apprun_1.default.createElement(\"p\", { className: \"text-xs-center\" },\n                                apprun_1.default.createElement(\"a\", { href: \"#/login\" }, \"Have an account?\")),\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('register', e); } },\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Your Name\", name: \"username\" })),\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: \"email\" })),\n                                apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                    apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: \"password\" })),\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Sign up\"))))));\n        };\n        _this.register = function (state, messages) { return (tslib_1.__assign({}, state, { messages: messages })); };\n        _this.submitRegistration = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var session, _a, errors;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        e.preventDefault();\n                        return [4 /*yield*/, api_1.auth.register(api_1.serializeObject(e.target))];\n                    case 1:\n                        session = _b.sent();\n                        apprun_1.default.run('#user', session.user);\n                        apprun_1.default.run('route', '#/');\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = _b.sent();\n                        errors = _a.errors;\n                        return [2 /*return*/, tslib_1.__assign({}, state, { errors: errors })];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/register')\n    ], RegisterComponent.prototype, \"register\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('register')\n    ], RegisterComponent.prototype, \"submitRegistration\", void 0);\n    return RegisterComponent;\n}(apprun_1.Component));\nexports.default = new RegisterComponent().mount('my-app');\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar article_list_1 = __webpack_require__(4);\nvar page_list_1 = __webpack_require__(5);\nvar PAGE_SIZE = 10;\nvar ProfileComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(ProfileComponent, _super);\n    function ProfileComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            name: '',\n            type: 'articles',\n            articles: [],\n            page: 1\n        };\n        _this.view = function (state) {\n            var profile = state.profile;\n            if (!profile)\n                return;\n            return apprun_1.default.createElement(\"div\", { className: \"profile-page\" },\n                apprun_1.default.createElement(\"div\", { className: \"user-info\" },\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\n                        apprun_1.default.createElement(\"div\", { className: \"row\" },\n                            apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-10 offset-md-1\" },\n                                apprun_1.default.createElement(\"img\", { src: profile.image, className: \"user-img\" }),\n                                apprun_1.default.createElement(\"h4\", null, profile.username),\n                                apprun_1.default.createElement(\"p\", null, profile.bio),\n                                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-secondary action-btn\", onclick: function (e) { return apprun_1.default.run('#toggle-follow', profile, 'profile'); } }, profile.following\n                                    ? apprun_1.default.createElement(\"span\", null,\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-minus-round\" }),\n                                        \" Unfollow \",\n                                        profile.username)\n                                    : apprun_1.default.createElement(\"span\", null,\n                                        apprun_1.default.createElement(\"i\", { className: \"ion-plus-round\" }),\n                                        \" Follow \",\n                                        profile.username)))))),\n                apprun_1.default.createElement(\"div\", { className: \"container\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-10 offset-md-1\" },\n                            apprun_1.default.createElement(\"div\", { className: \"articles-toggle\" },\n                                apprun_1.default.createElement(\"ul\", { className: \"nav nav-pills outline-active\" },\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'articles' ? 'active' : ''), href: \"#/profile/\" + profile.username + \"/articles/1\" }, \"My Articles\")),\n                                    apprun_1.default.createElement(\"li\", { className: \"nav-item\" },\n                                        apprun_1.default.createElement(\"a\", { className: \"nav-link \" + (state.type === 'favorites' ? 'active' : ''), href: \"#/profile/\" + profile.username + \"/favorites/1\" }, \"Favorited Articles\")))),\n                            apprun_1.default.createElement(article_list_1.default, { articles: state.articles, id: 'profile' }),\n                            apprun_1.default.createElement(page_list_1.default, { max: Math.floor(state.max / PAGE_SIZE), selected: state.page, onpage: function (page) { return _this.run('set-page', page); } })))));\n        };\n        _this.updateState = function (state, name, type, page) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var newState, profileResult, limit, offset, articleResult, _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        name = name || state.name;\n                        type = type || state.type;\n                        page = parseInt(page) || state.page;\n                        newState = state;\n                        if (!(name !== state.name)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, api_1.profile.get(name)];\n                    case 1:\n                        profileResult = _b.sent();\n                        newState = tslib_1.__assign({}, newState, { profile: profileResult.profile });\n                        _b.label = 2;\n                    case 2:\n                        if (!(name !== state.name || type !== state.type || page !== state.page)) return [3 /*break*/, 7];\n                        limit = PAGE_SIZE;\n                        offset = (page - 1) * limit;\n                        if (!(type === \"favorites\")) return [3 /*break*/, 4];\n                        return [4 /*yield*/, api_1.articles.search({ favorited: name, offset: offset, limit: limit })];\n                    case 3:\n                        _a = _b.sent();\n                        return [3 /*break*/, 6];\n                    case 4: return [4 /*yield*/, api_1.articles.search({ author: name, offset: offset, limit: limit })];\n                    case 5:\n                        _a = _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        articleResult = _a;\n                        newState = tslib_1.__assign({}, newState, { name: name, type: type, page: page, articles: articleResult.articles, max: articleResult.articlesCount });\n                        _b.label = 7;\n                    case 7: return [2 /*return*/, newState];\n                }\n            });\n        }); };\n        _this.root = function (state, name, type, page) { return _this.updateState(state, name, type, page); };\n        _this.setPage = function (state, page) {\n            var url = \"#/profile/\" + state.profile.username + \"/\" + state.type + \"/\" + page;\n            history.pushState(null, null, url);\n            return _this.updateState(state, null, null, page);\n        };\n        _this.updateArticle = function (state, article, id) {\n            state.articles = state.articles.map(function (a) {\n                return a.slug === article.slug ? article : a;\n            });\n            return id === 'profile' ? state : null;\n        };\n        _this.updateFollow = function (state, profile, id) {\n            state.profile = profile;\n            return id === 'profile' ? state : null;\n        };\n        _this.toggleFollow = function (state, author, id) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var result, _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!apprun_1.default['user'])\n                            return [2 /*return*/, apprun_1.default.run('#/login')];\n                        if (!author.following) return [3 /*break*/, 2];\n                        return [4 /*yield*/, api_1.profile.unfollow(author.username)];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, api_1.profile.follow(author.username)];\n                    case 3:\n                        _a = _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        result = _a;\n                        apprun_1.default.run(\"#update-follow\", result.profile, id);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/profile')\n    ], ProfileComponent.prototype, \"root\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('set-page')\n    ], ProfileComponent.prototype, \"setPage\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#update-article')\n    ], ProfileComponent.prototype, \"updateArticle\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#update-follow')\n    ], ProfileComponent.prototype, \"updateFollow\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#toggle-follow')\n    ], ProfileComponent.prototype, \"toggleFollow\", void 0);\n    return ProfileComponent;\n}(apprun_1.Component));\nexports.default = new ProfileComponent().mount('my-app');\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar error_list_1 = __webpack_require__(3);\nvar modal_1 = __webpack_require__(6);\nvar SettingsComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(SettingsComponent, _super);\n    function SettingsComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.view = function (state) {\n            if (!apprun_1.default['user'])\n                return;\n            var user = apprun_1.default['user'];\n            return apprun_1.default.createElement(\"div\", { className: \"settings-page\" },\n                state.showModal ? apprun_1.default.createElement(modal_1.default, { title: 'Confirmation', body: 'Your settings has been updated successfully.', ok: 'OK', cancel: 'Cancel', onOK: function (e) { return _this.run('ok', e); }, onCancel: function (e) { return _this.run('cancel', e); } }) : '',\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-6 offset-md-3 col-xs-12\" },\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\n                            apprun_1.default.createElement(\"h1\", { className: \"text-xs-center\" }, \"Your Settings\"),\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('submit-settings', e); } },\n                                apprun_1.default.createElement(\"fieldset\", null,\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control\", type: \"text\", placeholder: \"URL of profile picture\", name: 'image', value: user.image })),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Your Name\", name: 'username', value: user.username })),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"textarea\", { className: \"form-control form-control-lg\", rows: \"8\", placeholder: \"Short bio about you\", name: 'bio' }, user.bio)),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"text\", placeholder: \"Email\", name: 'email', value: user.email })),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { className: \"form-control form-control-lg\", type: \"password\", placeholder: \"Password\", name: 'password', value: user.password })),\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-lg btn-primary pull-xs-right\" }, \"Update Settings\")))))));\n        };\n        _this.settings = function (state) {\n            if (!apprun_1.default['user'])\n                apprun_1.default.run('#/login');\n            return {};\n        };\n        _this.submitSettings = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var user, result, _a, errors;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        e.preventDefault();\n                        user = api_1.serializeObject(e.target);\n                        return [4 /*yield*/, api_1.auth.save(user)];\n                    case 1:\n                        result = _b.sent();\n                        apprun_1.default.run('#user', result.user);\n                        return [2 /*return*/, { showModal: true }];\n                    case 2:\n                        _a = _b.sent();\n                        errors = _a.errors;\n                        return [2 /*return*/, tslib_1.__assign({}, state, { errors: errors })];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.ok = function (state) {\n            return { showModel: false };\n            //document.location.hash = `#/profile/${app['user'].username}`;\n        };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/settings')\n    ], SettingsComponent.prototype, \"settings\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('submit-settings')\n    ], SettingsComponent.prototype, \"submitSettings\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('ok, cancel')\n    ], SettingsComponent.prototype, \"ok\", void 0);\n    return SettingsComponent;\n}(apprun_1.Component));\nexports.default = new SettingsComponent().mount('my-app');\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar error_list_1 = __webpack_require__(3);\nvar EditorComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(EditorComponent, _super);\n    function EditorComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.view = function (state) {\n            if (!apprun_1.default['user'] || !state.article)\n                return;\n            var article = state.article;\n            return apprun_1.default.createElement(\"div\", { className: \"editor-page\" },\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-10 offset-md-1 col-xs-12\" },\n                            state.errors && apprun_1.default.createElement(error_list_1.default, { errors: state.errors }),\n                            apprun_1.default.createElement(\"form\", { onsubmit: function (e) { return _this.run('submit-article', e); } },\n                                article.slug && apprun_1.default.createElement(\"input\", { type: \"hidden\", name: \"slug\", value: article.slug }),\n                                apprun_1.default.createElement(\"fieldset\", null,\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control form-control-lg\", placeholder: \"Article Title\", name: \"title\", value: article.title })),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control\", placeholder: \"What's this article about?\", name: \"description\", value: article.description })),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"textarea\", { className: \"form-control\", rows: \"8\", placeholder: \"Write your article (in markdown)\", name: \"body\" }, article.body)),\n                                    apprun_1.default.createElement(\"fieldset\", { className: \"form-group\" },\n                                        apprun_1.default.createElement(\"input\", { type: \"text\", className: \"form-control\", placeholder: \"Enter tags\", name: \"tags\", value: article.tagList.join(', ') }),\n                                        apprun_1.default.createElement(\"div\", { className: \"tag-list\" })),\n                                    apprun_1.default.createElement(\"button\", { className: \"btn btn-lg pull-xs-right btn-primary\", type: \"submit\" }, \"Publish Article\")))))));\n        };\n        _this.root = function (state, slug) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var article, result;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!apprun_1.default['user'])\n                            apprun_1.default.run('#/login');\n                        if (!slug) return [3 /*break*/, 2];\n                        return [4 /*yield*/, api_1.articles.get(slug)];\n                    case 1:\n                        result = _a.sent();\n                        article = result.article;\n                        _a.label = 2;\n                    case 2:\n                        article = article || { title: '', description: '', body: '', tagList: [] };\n                        return [2 /*return*/, { article: article }];\n                }\n            });\n        }); };\n        _this.submitArticle = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var article, result, _a, _b, errors;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _c.trys.push([0, 5, , 6]);\n                        e.preventDefault();\n                        article = api_1.serializeObject(e.target);\n                        article.tagList = article.tags.split(',');\n                        if (!article.slug) return [3 /*break*/, 2];\n                        return [4 /*yield*/, api_1.articles.update(article)];\n                    case 1:\n                        _a = _c.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, api_1.articles.create(article)];\n                    case 3:\n                        _a = _c.sent();\n                        _c.label = 4;\n                    case 4:\n                        result = _a;\n                        apprun_1.default.run(\"#update-article\", result.article, 'editor');\n                        document.location.hash = \"#/article/\" + result.article.slug;\n                        return [3 /*break*/, 6];\n                    case 5:\n                        _b = _c.sent();\n                        errors = _b.errors;\n                        return [2 /*return*/, tslib_1.__assign({}, state, { errors: errors })];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        }); };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/editor')\n    ], EditorComponent.prototype, \"root\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('submit-article')\n    ], EditorComponent.prototype, \"submitArticle\", void 0);\n    return EditorComponent;\n}(apprun_1.Component));\nexports.default = new EditorComponent().mount('my-app');\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar apprun_1 = __webpack_require__(0);\nvar api_1 = __webpack_require__(2);\nvar comment_list_1 = __webpack_require__(18);\nvar article_meta_1 = __webpack_require__(20);\nvar modal_1 = __webpack_require__(6);\nvar marked = __webpack_require__(7);\nvar ArticleComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(ArticleComponent, _super);\n    function ArticleComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            article: null,\n            comments: []\n        };\n        _this.view = function (state) {\n            var article = state.article;\n            if (!article)\n                return;\n            return apprun_1.default.createElement(\"div\", { className: \"article-page\" },\n                state.deleting ? apprun_1.default.createElement(modal_1.default, { title: 'Delete Article', body: 'Are you sure you want to delete this article?', ok: 'Delete', cancel: 'No', onOK: function (e) { return _this.run('ok-delete-article', e); }, onCancel: function (e) { return _this.run('cancel-delete-article', e); } }) : '',\n                apprun_1.default.createElement(\"div\", { className: \"banner\" },\n                    apprun_1.default.createElement(\"div\", { className: \"container\" },\n                        apprun_1.default.createElement(\"h1\", null, article.title),\n                        apprun_1.default.createElement(article_meta_1.default, { article: article }))),\n                apprun_1.default.createElement(\"div\", { className: \"container page\" },\n                    apprun_1.default.createElement(\"div\", { className: \"row article-content\" },\n                        apprun_1.default.createElement(\"div\", { className: \"col-md-12\" },\n                            apprun_1.default.createElement(\"p\", null, \"_html:\" + marked(article.body, { sanitize: true })),\n                            apprun_1.default.createElement(\"div\", { className: \"tag-list\" },\n                                apprun_1.default.createElement(\"br\", null),\n                                article.tagList.map(function (tag) {\n                                    return apprun_1.default.createElement(\"li\", { className: \"tag-default tag-pill tag-outline\" },\n                                        apprun_1.default.createElement(\"a\", { href: \"#/tag/\" + tag },\n                                            tag,\n                                            \" \"));\n                                })))),\n                    apprun_1.default.createElement(\"hr\", null),\n                    apprun_1.default.createElement(\"div\", { className: \"article-actions\" },\n                        apprun_1.default.createElement(article_meta_1.default, { article: article })),\n                    apprun_1.default.createElement(comment_list_1.default, { comments: state.comments })));\n        };\n        _this.root = function (state, slug) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var article, _comments, result, commentsResponse;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        article = state.article;\n                        _comments = state.comments;\n                        if (!(!article || article.slug !== slug)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, api_1.articles.get(slug)];\n                    case 1:\n                        result = _a.sent();\n                        article = result.article;\n                        return [4 /*yield*/, api_1.comments.forArticle(article.slug)];\n                    case 2:\n                        commentsResponse = _a.sent();\n                        _comments = commentsResponse.comments;\n                        _a.label = 3;\n                    case 3: return [2 /*return*/, tslib_1.__assign({}, state, { article: article, comments: _comments })];\n                }\n            });\n        }); };\n        _this.newComment = function (state, e) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var comment, commentsResponse, _a, errors;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 3, , 4]);\n                        e.preventDefault();\n                        comment = e.target['comment'].value;\n                        return [4 /*yield*/, api_1.comments.create(state.article.slug, { body: comment })];\n                    case 1:\n                        _b.sent();\n                        return [4 /*yield*/, api_1.comments.forArticle(state.article.slug)];\n                    case 2:\n                        commentsResponse = _b.sent();\n                        return [2 /*return*/, tslib_1.__assign({}, state, { comments: commentsResponse.comments })];\n                    case 3:\n                        _a = _b.sent();\n                        errors = _a.errors;\n                        return [2 /*return*/, tslib_1.__assign({}, state, { errors: errors })];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.updateArticle = function (state, article, id) {\n            state.article = article;\n            return id === 'article' ? state : null;\n        };\n        _this.updateFollow = function (state, author, id) {\n            state.article.author = author;\n            return id === 'article' ? state : null;\n        };\n        _this.deleteComment = function (state, comment) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var commentsResponse;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, api_1.comments.delete(this.state.article.slug, comment.id)];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, api_1.comments.forArticle(state.article.slug)];\n                    case 2:\n                        commentsResponse = _a.sent();\n                        return [2 /*return*/, tslib_1.__assign({}, state, { comments: commentsResponse.comments })];\n                }\n            });\n        }); };\n        _this.toggleFavArticle = function (state, article, id) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var result, _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!apprun_1.default['user'])\n                            return [2 /*return*/, apprun_1.default.run('#/login')];\n                        if (!article.favorited) return [3 /*break*/, 2];\n                        return [4 /*yield*/, api_1.articles.unfavorite(article.slug)];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, api_1.articles.favorite(article.slug)];\n                    case 3:\n                        _a = _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        result = _a;\n                        apprun_1.default.run(\"#update-article\", result.article, id);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.editArticle = function (state, article) {\n            document.location.hash = \"#/editor/\" + article.slug;\n        };\n        _this.deleteArticle = function (state, article) { return (tslib_1.__assign({}, state, { deleting: true })); };\n        _this.okDelete = function (state, e) {\n            api_1.articles.delete(state.article.slug);\n            document.location.hash = '#/';\n            return (tslib_1.__assign({}, state, { deleting: false }));\n        };\n        _this.cancelDelete = function (state, article) { return (tslib_1.__assign({}, state, { deleting: false })); };\n        return _this;\n    }\n    tslib_1.__decorate([\n        apprun_1.on('#/article')\n    ], ArticleComponent.prototype, \"root\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#new-comment')\n    ], ArticleComponent.prototype, \"newComment\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#update-article')\n    ], ArticleComponent.prototype, \"updateArticle\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#update-follow')\n    ], ArticleComponent.prototype, \"updateFollow\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#delete-comment')\n    ], ArticleComponent.prototype, \"deleteComment\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#toggle-fav-article')\n    ], ArticleComponent.prototype, \"toggleFavArticle\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#edit-article')\n    ], ArticleComponent.prototype, \"editArticle\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('#delete-article')\n    ], ArticleComponent.prototype, \"deleteArticle\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('ok-delete-article')\n    ], ArticleComponent.prototype, \"okDelete\", void 0);\n    tslib_1.__decorate([\n        apprun_1.on('cancel-delete-article')\n    ], ArticleComponent.prototype, \"cancelDelete\", void 0);\n    return ArticleComponent;\n}(apprun_1.Component));\nexports.default = new ArticleComponent().mount('my-app');\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nvar marked = __webpack_require__(7);\nfunction Comment(_a) {\n    var comment = _a.comment;\n    return apprun_1.default.createElement(\"div\", { className: \"card\" },\n        apprun_1.default.createElement(\"div\", { className: \"card-block\" },\n            apprun_1.default.createElement(\"p\", { className: \"card-text\" },\n                apprun_1.default.createElement(\"p\", null, \"_html:\" + marked(comment.body, { sanitize: true })))),\n        apprun_1.default.createElement(\"div\", { className: \"card-footer\" },\n            apprun_1.default.createElement(\"a\", { className: \"comment-author\" },\n                apprun_1.default.createElement(\"img\", { src: comment.author.image, className: \"comment-author-img\" })),\n            \"\\u00A0\",\n            apprun_1.default.createElement(\"a\", { className: \"comment-author\", href: \"#/profile/\" + comment.author.username }, comment.author.username),\n            apprun_1.default.createElement(\"span\", { className: \"date-posted\" }, new Date(comment.createdAt).toLocaleString()),\n            apprun_1.default['user'] && apprun_1.default['user'].username === comment.author.username\n                ? apprun_1.default.createElement(\"span\", { className: \"mod-options\" },\n                    apprun_1.default.createElement(\"i\", { className: \"ion-trash-a\", onclick: function (e) { return apprun_1.default.run('#delete-comment', comment); } }))\n                : ''));\n}\nfunction default_1(_a) {\n    var comments = _a.comments;\n    var user = apprun_1.default['user'];\n    return apprun_1.default.createElement(\"div\", { className: \"row\" },\n        apprun_1.default.createElement(\"div\", { className: \"col-xs-12 col-md-8 offset-md-2\" },\n            !user\n                ? apprun_1.default.createElement(\"p\", null,\n                    apprun_1.default.createElement(\"a\", { href: \"#/login/\" + document.location.hash }, \"Sign in\"),\n                    \" or\\u00A0\",\n                    apprun_1.default.createElement(\"a\", { href: '#/register' }, \"sign up\"),\n                    \" to add comments on this article.\")\n                : apprun_1.default.createElement(\"form\", { className: \"card comment-form\", onsubmit: function (e) { return apprun_1.default.run('#new-comment', e); } },\n                    apprun_1.default.createElement(\"div\", { className: \"card-block\" },\n                        apprun_1.default.createElement(\"textarea\", { className: \"form-control\", placeholder: \"Write a comment...\", rows: \"3\", name: 'comment' })),\n                    apprun_1.default.createElement(\"div\", { className: \"card-footer\" },\n                        user.image\n                            ? apprun_1.default.createElement(\"img\", { src: user.image, className: \"comment-author-img\" })\n                            : apprun_1.default.createElement(\"span\", null,\n                                \"@\",\n                                user.username),\n                        apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-primary\", type: 'submit' }, \"Post Comment\"))),\n            comments.map(function (comment) { return apprun_1.default.createElement(Comment, { comment: comment }); })));\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar apprun_1 = __webpack_require__(0);\nfunction ArticleMeta(_a) {\n    var article = _a.article;\n    var favClass = article.favorited ? \"btn-primary\" : \"btn-outline-primary\";\n    var followClass = article.author.following ? \"btn-secondary\" : \"btn-outline-secondary\";\n    return apprun_1.default.createElement(\"div\", { className: \"article-meta\" },\n        apprun_1.default.createElement(\"a\", { href: article.author.image },\n            apprun_1.default.createElement(\"img\", { src: article.author.image })),\n        apprun_1.default.createElement(\"div\", { className: \"info\" },\n            apprun_1.default.createElement(\"a\", { href: \"#/profile/\" + article.author.username, className: \"author\" }, article.author.username),\n            apprun_1.default.createElement(\"span\", { className: \"date\" }, new Date(article.updatedAt).toLocaleString())),\n        apprun_1.default['user'] && apprun_1.default['user'].username === article.author.username\n            ? apprun_1.default.createElement(\"span\", null,\n                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-secondary\", onclick: function (e) { return apprun_1.default.run('#edit-article', article); } },\n                    apprun_1.default.createElement(\"i\", { className: \"ion-edit\" }),\n                    \"\\u00A0 Edit Article\"),\n                \"\\u00A0\\u00A0\",\n                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm btn-outline-danger\", onclick: function (e) { return apprun_1.default.run('#delete-article', article); } },\n                    apprun_1.default.createElement(\"i\", { className: \"ion-trash-o\" }),\n                    \"\\u00A0 Delete Article\"))\n            : apprun_1.default.createElement(\"span\", null,\n                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm \" + followClass, onclick: function (e) { return apprun_1.default.run('#toggle-follow', article.author, 'article'); } }, article.author.following\n                    ? apprun_1.default.createElement(\"span\", null,\n                        apprun_1.default.createElement(\"i\", { className: \"ion-minus-round\" }),\n                        \" Unfollow \",\n                        article.author.username)\n                    : apprun_1.default.createElement(\"span\", null,\n                        apprun_1.default.createElement(\"i\", { className: \"ion-plus-round\" }),\n                        \" Follow \",\n                        article.author.username)),\n                \" \\u00A0\\u00A0\",\n                apprun_1.default.createElement(\"button\", { className: \"btn btn-sm \" + favClass, onclick: function (e) { return apprun_1.default.run('#toggle-fav-article', article, 'article'); } },\n                    apprun_1.default.createElement(\"i\", { className: \"ion-heart\" }),\n                    \"\\u00A0 Favorite Post \",\n                    apprun_1.default.createElement(\"span\", { className: \"counter\" },\n                        \"(\",\n                        article.favoritesCount,\n                        \")\"))));\n}\nexports.default = ArticleMeta;\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c398c2fff3422e66197","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"apprun\"] = factory();\n\telse\n\t\troot[\"apprun\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack://apprun/webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/webpack/bootstrap","export class App {\n\n  private _events: Object;\n\n  public start;\n  public createElement;\n  public render;\n  public Fragment;\n\n  constructor() {\n    this._events = {};\n  }\n\n  on(name: string, fn: (...args) => void, options: any = {}) {\n    // if (options.debug) console.log('on: ' + name);\n    this._events[name] = this._events[name] || [];\n    this._events[name].push({ fn: fn, options: options });\n  }\n\n  run(name: string, ...args) {\n    const subscribers = this._events[name];\n    console.assert(!!subscribers, 'No subscriber for event: ' + name);\n    if (subscribers) this._events[name] = subscribers.filter((sub) => {\n      let { fn, options } = sub;\n      if (options.delay) {\n        this.delay(name, fn, args, options);\n      } else {\n        // if (options.debug) console.log('run: ' + name, args);\n        fn.apply(this, args);\n      }\n      return !sub.options.once;\n    });\n  }\n\n  once(name: string, fn) { this.on(name, fn); }\n\n  private delay(name, fn, args, options) {\n    if (options._t) clearTimeout(options._t);\n    options._t = setTimeout(() => {\n      clearTimeout(options._t);\n      // if (options.debug) console.log(`run-delay ${options.delay}:` + name, args);\n      fn.apply(this, args);\n    }, options.delay);\n  }\n}\n\nlet app: App;\ndeclare var global;\nconst root = global || window;\nif (root['app'] && root['app']['start']) {\n  app = root['app'];\n} else {\n  app = new App();\n  root['app'] = app;\n}\nexport default app;\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/app.ts","import app from './app';\nimport { createElement, render, Fragment } from './vdom';\nimport { Component } from './component';\nimport { VNode, View, Action, Update } from './types';\nimport { on, update } from './decorator';\nimport route from './router';\n\nexport interface IApp {\n  start<T>(element?: Element | string, model?: T, view?: View<T>, update?: Update<T>,\n    options?: { history?, rendered?: (state: T) => void}): Component<T>;\n  on(name: string, fn: (...args: any[]) => void, options?: any): void;\n  run(name: string, ...args: any[]): void;\n  createElement(tag: string | Function, props, ...children): VNode | VNode[];\n  render(element: HTMLElement, node: VNode): void;\n  Fragment(props, ...children): any[];\n}\n\napp.createElement = createElement;\napp.render = render;\napp.Fragment = Fragment;\n\napp.start = <T>(element?: HTMLElement | string, model?: T,  view?: View<T>, update?: Update<T>,\n  options?: { history?, rendered?: (state: T) => void }) : Component<T> => {\n    const opts = Object.assign(options || {}, { render: true, global_event: true });\n    const component = new Component<T>(model, view, update);\n    if (options && options.rendered) component.rendered = options.rendered;\n    component.mount(element, opts);\n    return component;\n};\n\nif (!app['route']) {\n  app['route'] = route;\n  app.on('//', _ => { });\n  app.on('#', _ => { });\n  app.on('route', url => route(url));\n  if (typeof document === 'object') {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      window.onpopstate = () => route(location.hash);\n      route(location.hash);\n    });\n  }\n}\n\nexport type StatelessComponent<T={}> = (args: T) => string | VNode | void;\nexport { Component, View, Action, Update, on, update };\nexport { update as event };\nexport default app as IApp;\n\napp.on('debug', _ => 0);\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/apprun.ts","export const Reflect = {\n\n  meta: new WeakMap(),\n\n  defineMetadata(metadataKey, metadataValue, target) {\n    if (!this.meta.has(target)) this.meta.set(target, {});\n    this.meta.get(target)[metadataKey] = metadataValue;\n  },\n\n  getMetadataKeys(target) {\n    target = Object.getPrototypeOf(target);\n    return this.meta.get(target) ? Object.keys(this.meta.get(target)) : [];\n  },\n\n  getMetadata(metadataKey, target) {\n    target = Object.getPrototypeOf(target);\n    return this.meta.get(target) ? this.meta.get(target)[metadataKey] : null;\n  }\n}\n\nexport function update(name?: string, options: any = {}) {\n  return (target: any, key: string, descriptor: any) => {\n    name = `${key}${name ? ',' + name : ''}`;\n    Reflect.defineMetadata(`apprun-update:${name}`,\n      { name, key, options }, target);\n    return descriptor;\n  }\n}\n\nexport function on(name?: string, options: any = {}) {\n  return function (target: any, key: string) {\n    name = `${key}${name ? ',' + name : ''}`;\n    Reflect.defineMetadata(`apprun-update:${name}`,\n        { name, key, options }, target)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/decorator.ts","import createComponent from './createComponent';\nimport { VNode } from './types';\nexport type Element = any; //HTMLElement | SVGSVGElement | SVGElement;\n\nconst ATTR_PROPS = '_props';\n\nfunction collect(children) {\n  const ch = [];\n  const push = (c) => {\n    if (c !== null && c !== undefined && c !== '') {\n      ch.push((typeof c === 'function' || typeof c === 'object') ? c : `${c}`);\n    }\n  }\n  children && children.forEach(c => {\n    if (Array.isArray(c)) {\n      c.forEach(i => push(i));\n    } else {\n      push(c);\n    }\n  });\n  return ch;\n}\n\nexport function createElement (tag: string | Function, props: {}, ...children) {\n  const ch = collect(children);\n  if (typeof tag === 'string') return { tag, props, children: ch };\n  else if (tag === undefined && children) return ch; // JSX fragments\n  else if (Object.getPrototypeOf(tag).__isAppRunComponent) {\n    return createComponent(tag, { ...props, children });\n  }\n  else\n    return tag(props, ch);\n};\n\nconst keyCache = {};\n\nexport const updateElement = render;\n\nexport function render(element: Element, nodes: VNode | VNode[]) {\n  // console.log('render', element, node);\n  if (nodes==null || !element) return;\n  if (Array.isArray(nodes)) {\n    updateChildren(element, nodes);\n  } else {\n    const node = nodes;\n    if (!element.firstChild) {\n      element.appendChild(create(node));\n    } else {\n      update(element.firstChild, node);\n    }\n  }\n}\n\nfunction same(el: Element, node: VNode) {\n  // if (!el || !node) return false;\n  const key1 = el.nodeName;\n  const key2 = `${node.tag || ''}`;\n  return key1 === key2.toUpperCase();\n}\n\nfunction update(element: Element, node: VNode) {\n  console.assert(!!element);\n  //console.log('update', element, node);\n  if (!same(element, node)) {\n    element.parentNode.replaceChild(create(node), element);\n    return;\n  }\n  updateChildren(element, node.children);\n  updateProps(element, node.props);\n}\n\nfunction updateChildren(element, children) {\n  const len = Math.min(element.childNodes.length, children.length);\n  for (let i = 0; i < len; i++) {\n    const child = children[i];\n    const el = element.childNodes[i];\n    if (typeof child === 'string') {\n      if (el.textContent !== child) {\n        if (el.nodeType === 3) {\n          el.textContent = child\n        } else {\n          element.replaceChild(createText(child), el);\n        }\n      }\n    } else {\n      const key = child.props && child.props['key'];\n      if (key) {\n        if (el.key === key) {\n          update(element.childNodes[i], child);\n        } else {\n          const old = key && keyCache[key];\n          if (old) {\n            element.replaceChild(old, el);\n            element.appendChild(el);\n            update(element.childNodes[i], child);\n          } else {\n            element.appendChild(create(child), el);\n            update(element.childNodes[i], child);\n          }\n        }\n      } else {\n        update(element.childNodes[i], child);\n      }\n    }\n  }\n\n  let n = element.childNodes.length;\n  while (n > len) {\n    element.removeChild(element.lastChild);\n    n--;\n  }\n\n  if (children.length > len) {\n    const d = document.createDocumentFragment();\n    for (let i = len; i < children.length; i++) {\n      d.appendChild(create(children[i]));\n    }\n    element.appendChild(d);\n  }\n}\n\nfunction createText(node) {\n  if (node.indexOf('_html:') === 0) { // ?\n    const div = document.createElement('div');\n    div.insertAdjacentHTML('afterbegin', node.substring(6))\n    return div;\n  } else {\n    return document.createTextNode(node);\n  }\n}\n\nfunction create(node: VNode | string): Element {\n  console.assert(node !== null && node !== undefined);\n  // console.log('create', node, typeof node);\n\n  if (typeof node === \"string\") return createText(node);\n  if (!node.tag) return createText(JSON.stringify(node));\n\n  const element = (node.tag === \"svg\")\n    ? document.createElementNS(\"http://www.w3.org/2000/svg\", node.tag)\n    : document.createElement(node.tag);\n\n  updateProps(element, node.props);\n\n  if (node.children) node.children.forEach(child => element.appendChild(create(child)));\n\n  return element\n}\n\nfunction mergeProps(a: {}, b: {}): {} {\n  const props = {};\n  if (a) Object.keys(a).forEach(p => props[p] = '');\n  if (b) Object.keys(b).forEach(p => props[p] = b[p]);\n  return props;\n}\n\nfunction updateProps(element: Element, props: {}) {\n  console.assert(!!element);\n  // console.log('updateProps', element, props);\n\n  const cached = element[ATTR_PROPS] || {};\n  props = mergeProps(cached, props);\n  element[ATTR_PROPS] = props;\n  for (let name in props) {\n    const value = props[name];\n    // if (cached[name] === value) continue;\n    // console.log('updateProps', name, value);\n    if (name === 'style') {\n      if (element.style.cssText) element.style.cssText = '';\n      for (let s in value) {\n        if (element.style[s] !== value[s]) element.style[s] = value[s];\n      }\n    } else if (name.startsWith('data-')) {\n      const dname = name.substring(5);\n        if (element.dataset[dname] !== value) element.dataset[dname] = value;\n    } else if (name.startsWith(\"role\") || name.startsWith(\"aria-\")) {\n      if (element.getAttribute(name) !== value) element.setAttribute(name, value)\n    } else {\n      if (element[name] !== value) element[name] = value;\n      if (name === 'key' && value) keyCache[value] = element;\n    }\n  }\n}\n\nexport function Fragment(props, ...children): any[] {\n  return collect(children);\n}\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/vdom-my.ts","import app from './app';\n\nconst ROUTER_EVENT = '//';\n\nexport default function route(url: string) {\n  if (!url) url = '#';\n  if (url.startsWith('#')) {\n    const [name, ...rest] = url.split('/');\n    app.run(name, ...rest);\n    app.run(ROUTER_EVENT, name, ...rest);\n  } else if (url.startsWith('/')) {\n    const [_, name, ...rest] = url.split('/');\n    app.run('/' + name, ...rest);\n    app.run(ROUTER_EVENT, '/' + name, ...rest);\n  } else {\n    app.run(url);\n    app.run(ROUTER_EVENT, url);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/router.ts","\r\nimport app, { App } from './app';\r\nimport { Reflect } from './decorator'\r\nimport { VNode, View, Update } from './types';\r\n\r\nexport class Component<T=any> {\r\n  static __isAppRunComponent = true;\r\n  private _app = new App();\r\n\r\n  element;\r\n  private _history = [];\r\n  private _history_idx = -1;\r\n  private enable_history;\r\n  private global_event;\r\n  public rendered;\r\n  public mounted;\r\n\r\n  private renderState(state: T) {\r\n    if (!this.view) return;\r\n    const html = this.view(state);\r\n\r\n    app.run('debug', {\r\n      component: this,\r\n      state,\r\n      vdom: html || '[vdom is null - no render]',\r\n    })\r\n\r\n    const el = (typeof this.element === 'string') ?\r\n      document.getElementById(this.element) : this.element;\r\n    if (el) el['_component'] = this;\r\n    if (el && app.render) {\r\n      app.render(el, html);\r\n      if (this.rendered) (this.rendered(this.state));\r\n    }\r\n  }\r\n\r\n  public setState(state: T, options: { render: boolean, history: boolean, callback?}\r\n    = { render: true, history: false}) {\r\n    if (state instanceof Promise) {\r\n      // Promise will not be saved or rendered\r\n      // state will be saved and rendered when promise is resolved\r\n      state.then(s => {\r\n        this.setState(s, options)\r\n      }).catch(err => {\r\n        console.error(err);\r\n        throw err;\r\n      })\r\n    } else {\r\n      if (state == null) return;\r\n      this.state = state;\r\n      if (options.render !== false) this.renderState(state);\r\n      if (options.history !== false && this.enable_history) {\r\n        this._history = [...this._history, state];\r\n        this._history_idx = this._history.length - 1;\r\n      }\r\n      if (typeof options.callback === 'function') options.callback(this.state);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    protected state?: T,\r\n    protected view?: View<T>,\r\n    protected update?: Update<T>,\r\n    protected options?) {\r\n  }\r\n\r\n  start = (element = null,\r\n    options: { render?: boolean, history?, global_event?: boolean } = { render: true }): Component<T> => {\r\n    return this.mount(element, { ...options, render: true });\r\n  }\r\n\r\n  public mount(element = null, options?: { render?: boolean, history?, global_event?: boolean}) {\r\n\r\n    console.assert(!this.element, 'Component already mounted.')\r\n    this.options = options = Object.assign(this.options || {}, options);\r\n    this.element = element;\r\n    this.global_event = options.global_event;\r\n    this.enable_history = !!options.history;\r\n\r\n    if (this.enable_history) {\r\n      const prev = () => {\r\n        this._history_idx --;\r\n        if (this._history_idx >=0) {\r\n          this.setState(this._history[this._history_idx], { render: true, history: false });\r\n        }\r\n        else {\r\n          this._history_idx = 0;\r\n        }\r\n      };\r\n\r\n      const next = () => {\r\n        this._history_idx ++;\r\n        if (this._history_idx < this._history.length) {\r\n          this.setState(this._history[this._history_idx], { render: true, history: false });\r\n        }\r\n        else {\r\n          this._history_idx = this._history.length - 1;\r\n        }\r\n      };\r\n      this.on(options.history.prev || 'history-prev', prev)\r\n      this.on(options.history.next || 'history-next', next)\r\n    }\r\n    this.add_actions();\r\n    if (this.state === undefined) this.state = this['model'] || {};\r\n    if (options.render) {\r\n      this.setState(this.state, { render: true, history: true });\r\n    } else {\r\n      this.setState(this.state, { render: false, history: true });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  is_global_event(name: string): boolean {\r\n    return name && (name.startsWith('#') || name.startsWith('/'));\r\n  }\r\n\r\n  add_action(name: string, action, options: any = {}) {\r\n    if (!action || typeof action !== 'function') return;\r\n    this.on(name, (...p) => {\r\n      const newState = action(this.state, ...p);\r\n\r\n      app.run('debug', {\r\n        component: this,\r\n        'event': name,\r\n        e: p,\r\n        state: this.state,\r\n        newState,\r\n        options\r\n      })\r\n\r\n      this.setState(newState, options)\r\n    }, options);\r\n  }\r\n\r\n  add_actions() {\r\n    const actions = this.update || {};\r\n    Reflect.getMetadataKeys(this).forEach(key => {\r\n      if (key.startsWith('apprun-update:')) {\r\n        const meta = Reflect.getMetadata(key, this)\r\n        actions[meta.name] = [this[meta.key].bind(this), meta.options];\r\n      }\r\n    })\r\n    const all = {};\r\n    Object.keys(actions).forEach(name => {\r\n      const action = actions[name];\r\n      if (typeof action === 'function' || Array.isArray(action)) {\r\n        name.split(',').forEach(n => all[n.trim()] = action)\r\n      }\r\n    })\r\n\r\n    Object.keys(all).forEach(name => {\r\n      const action = all[name];\r\n      if (typeof action === 'function') {\r\n        this.add_action(name, action);\r\n      } else if (Array.isArray(action)) {\r\n        this.add_action(name, action[0], action[1]);\r\n      }\r\n    });\r\n  }\r\n\r\n  public run(name: string, ...args) {\r\n    return this.global_event || this.is_global_event(name) ?\r\n      app.run(name, ...args) :\r\n      this._app.run(name, ...args);\r\n  }\r\n\r\n  public on(name: string, fn: (...args) => void, options?: any) {\r\n    return this.global_event || this.is_global_event(name) ?\r\n      app.on(name, fn, options) :\r\n      this._app.on(name, fn, options);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/component.ts","import app from './app';\n\nconst cache = {}\napp.on('get-components', o => o.components = cache);\nexport default function (componentClass, props) {\n  let id = props && props['id'];\n  if (!id) id = `_${componentClass.name}_${performance.now()}`;\n  const component = (id && cache[id]) ? cache[id] :\n  (cache[id] = new componentClass(props).mount(id));\n  if (component.mounted) setTimeout(() => component.mounted(props), 0);\n  if (component.rendered) setTimeout(() => component.rendered(component.state), 0);\n  return <div id={id}>\n    {component.view && component.view(component.state)}\n  </div>\n}\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/createComponent.tsx","import { createElement, updateElement, Fragment } from './vdom-my';\nexport function render(element, html) {\n  console.assert(!!element);\n  updateElement(element, html);\n}\nexport { createElement, Fragment };\n\n\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/src/vdom.ts","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// webpack://apprun/(webpack)/buildin/global.js","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = 1\n// module chunks = 0","// Conduit API\r\n\r\nwindow['defaultBasePath'] = 'https://conduit.productionready.io/api';\r\n\r\nimport { getToken, setToken, toQueryString, serializeObject, get, post, del, put } from './fetch';\r\nexport { getToken, setToken, toQueryString, serializeObject }\r\nimport { IArticle, IProfile, IComment } from './models';\r\n\r\nexport interface ISession {\r\n  user: IProfile\r\n}\r\n\r\nexport interface ITags {\r\n  tags: Array<string>;\r\n}\r\n\r\nexport interface IFeed {\r\n  articles: Array<IArticle>;\r\n  articlesCount: number;\r\n}\r\n\r\n\r\nexport interface IArticlesRequest {\r\n  tag?: string;\r\n  author?: string;\r\n  favorited?: string;\r\n  limit: number;\r\n  offset: number;\r\n}\r\n\r\nexport interface INewArticle {\r\n  title: string,\r\n  description: string,\r\n  body: string,\r\n  tagList: Array<string>;\r\n\r\n}\r\n\r\nexport interface IArticlesResponse {\r\n  article: IArticle\r\n}\r\n\r\nexport interface ICommentsResponse {\r\n  comments: Array<IComment>\r\n}\r\n\r\nexport interface IProfileResponse {\r\n  profile: IProfile\r\n}\r\n\r\nexport const tags = {\r\n  all: () => get<ITags>('/tags')\r\n}\r\n\r\nexport const auth = {\r\n  current: () => getToken()\r\n    ? get<ISession>('/user')\r\n    : null,\r\n  signIn: (user: { email: string, password: string }) =>\r\n    post<ISession>('/users/login', { user }),\r\n  register: (user: { username: string, email: string, password: string }) =>\r\n    post<ISession>('/users', { user }),\r\n  save: user =>\r\n    put('/user', { user })\r\n}\r\n\r\nexport const articles = {\r\n  search: (request: IArticlesRequest) =>\r\n    get<IFeed>(`/articles?${toQueryString(request)}`),\r\n  feed: (request: {limit: number, offset: number}) =>\r\n    get<IFeed>(`/articles/feed?${toQueryString(request)}`),\r\n  get: (slug: string) =>\r\n    get<IArticlesResponse>(`/articles/${slug}`),\r\n  delete: (slug: string) =>\r\n    del(`/articles/${slug}`),\r\n  favorite: (slug: string) =>\r\n    post(`/articles/${slug}/favorite`),\r\n  unfavorite: (slug: string) =>\r\n    del(`/articles/${slug}/favorite`),\r\n  update: (article: IArticle) =>\r\n    put(`/articles/${article.slug}`, { article }),\r\n  create: (article: INewArticle) =>\r\n    post<IArticlesResponse>('/articles', { article })\r\n}\r\n\r\nexport const comments = {\r\n  create: (slug: string, comment: { body: string }) =>\r\n    post(`/articles/${slug}/comments`, { comment }),\r\n  delete: (slug: string, commentId: string) =>\r\n    del(`/articles/${slug}/comments/${commentId}`),\r\n  forArticle: (slug: string) =>\r\n    get<ICommentsResponse>(`/articles/${slug}/comments`)\r\n};\r\n\r\nexport const profile = {\r\n  get: (username: string) =>\r\n    get<IProfileResponse>(`/profiles/${username}`),\r\n  follow: (username: string) =>\r\n    post<IProfileResponse>(`/profiles/${username}/follow`),\r\n  unfollow: (username: string) =>\r\n    del(`/profiles/${username}/follow`)\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.ts","import app from 'apprun'\n\nexport default function ({ errors }) {\n  return <ul className=\"error-messages\">\n    {Object.keys(errors).map(key => <li>{`${key} ${errors[key]}`}</li>)}\n  </ul>\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/error-list.tsx","import app from 'apprun';\nimport { IArticle } from '../models';\n\nfunction Article(props) {\n  const article = props.article as IArticle;\n  const favClass = article.favorited ? \"btn-primary\" : \"btn-outline-primary\";\n  return <div className=\"article-preview\">\n    <div className=\"article-meta\">\n      <a href={article.author.image} ><img src={article.author.image} /></a>\n      <div className=\"info\">\n        <a href={`#/profile/${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </a>\n        <span className=\"date\">{new Date(article.updatedAt).toLocaleString()}</span>\n      </div>\n      <button className={`btn btn-sm pull-xs-right ${favClass}`}\n        onclick={e => app.run('#toggle-fav-article', article, props.id)}>\n        <i className=\"ion-heart\"></i> {article.favoritesCount}\n      </button>\n    </div>\n    <a href={`#/article/${article.slug}`} className=\"preview-link\">\n      <h1>{article.title}</h1>\n      <p>{article.description}</p>\n      <span>Read more...</span>\n\n      <ul className=\"tag-list\">\n        {article.tagList.map(tag =>\n          <li className=\"tag-default tag-pill tag-outline\">\n            <a href={`#/tag/${tag}`}>{tag} </a>\n          </li>\n        )}\n      </ul>\n    </a>\n  </div>\n}\n\nexport default function ({ articles, id }: { articles: Array<IArticle>, id?: string }) {\n  return articles.length\n    ? articles.map(article => <Article article={article} id={id}></Article>)\n    : <div className=\"article-preview\">No articles are here... yet.</div>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/article-list.tsx","import app from 'apprun';\n\nexport default function ({ max, selected, onpage }) {\n  function select(e) {\n    e.preventDefault();\n    const page = parseInt(e.target.textContent);\n    onpage(page);\n  }\n  const pages = new Array(max).fill(0);\n  return <nav>\n    <ul className=\"pagination\" onclick={e => select(e)}>\n      {pages.map((page, idx) => <li className={`page-item ${(idx + 1) === selected ? 'active' : ''}`}>\n          <a href='#' className=\"page-link\">{idx + 1}</a>\n        </li>)}\n    </ul>\n  </nav>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/page-list.tsx","import app from 'apprun';\n\nexport default function ({ title, body, ok, cancel, onOK, onCancel }) {\n  return <div className=\"modal-open\">\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <h5 className=\"modal-title\">{title}\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onclick={e => onCancel(e)}>\n              <span aria-hidden=\"true\">×</span>\n            </button>\n          </h5>\n        </div>\n        <div className=\"modal-body\">\n          <p>{body}</p>\n        </div>\n        <div className=\"modal-footer\">\n          {cancel && <button type=\"button\" className=\"btn btn-secondary\"\n            data-dismiss=\"modal\" onclick={e => onCancel(e)}>{cancel}</button>}\n          &nbsp;&nbsp;\n          <button type=\"button\" className=\"btn btn-primary\" onclick={e => onOK(e)}>{ok}</button>\n        </div>\n      </div>\n    </div>\n    <div className=\"modal-backdrop show\" onclick={e => onCancel(e)}></div>\n  </div>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/modal.tsx","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n?(?!hr|heading|lheading| {0,3}>|tag)[^\\n]+)+)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"|[^\"]|\"[^\"\\n]*\")*\"|'\\n?(?:[^'\\n]+\\n?)*'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = edit(block.html)\n  .replace('comment', /<!--[\\s\\S]*?-->/)\n  .replace('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  .replace('closing', /<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"\\/>\\s]*)*?\\/?>/)\n  .replace(/tag/g, block._tag)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', '<' + block._tag)\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      space,\n      i,\n      tag,\n      l,\n      isordered;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : ''\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase();\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?[a-zA-Z0-9\\-]+(?:\"[^\"]*\"|'[^']*'|\\s[^<'\">\\/\\s]*)*?\\/?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^_([^\\s_](?:[^_]|__)+?[^\\s_])_\\b|^\\*((?:\\*\\*|[^*])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex()\n\ninline._inside = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = edit(inline.link)\n  .replace('inside', inline._inside)\n  .replace('href', inline._href)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('inside', inline._inside)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href),\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n}\n\nTextRenderer.prototype.br = function() {\n  return '';\n}\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = base.replace(/[^/]*$/, '');\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer(),\n  xhtml: false,\n  baseUrl: null\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/marked/lib/marked.js\n// module id = 7\n// module chunks = 0","import app from 'apprun';\nimport { auth } from './api'\n\nimport './components/header';\nimport './components/home';\nimport './components/signin';\nimport './components/register';\nimport './components/profile';\nimport './components/settings';\nimport './components/editor';\nimport './components/article';\n\napp.on('#', async (route, ...p) => {\n  let user = app['user'];\n  if (!user) {\n    try {\n      const current = await auth.current();\n      user = current.user;\n    } catch (ex) {\n    }\n    app.run('#user', user);\n  }\n\n  app.run(`#/${route || ''}`, ...p);\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","declare var defaultBasePath;\n\nlet access_token: string = window && window.localStorage && window.localStorage.getItem('jwt') || '';\nexport function getToken() {\n  return access_token;\n}\n\nexport function setToken(token: string) {\n  access_token = token;\n  if (!window.localStorage) return;  \n  if(token)\n    window.localStorage.setItem('jwt', token);\n  else\n    window.localStorage.removeItem('jwt');\n}\n\nexport async function fetchAsync(method: 'GET' | 'POST' | 'DELETE' | 'PUT', url: string, body?: any) {\n  const headers = access_token ? { 'Authorization': `Token ${access_token}` } : {}\n  headers['Content-Type'] = 'application/json; charset=utf-8';\n  const response = await window['fetch'](`${defaultBasePath}${url}`, {\n    method,\n    headers,\n    body: body && JSON.stringify(body)\n  });\n  // server might return string instead of json to cause error at this line\n  const result = await response.json();\n  if (!response.ok) throw result;\n  return result;\n}\n\nexport function get<T>(url: string): Promise<T> {\n  return fetchAsync('GET', url);\n}\n\nexport function post<T>(url: string, body?: any): Promise<T> {\n  return fetchAsync('POST', url, body);\n}\n\nexport function del(url: string) {\n  return fetchAsync('DELETE', url);\n}\n\nexport function put(url: string, body?: any) {\n  return fetchAsync('PUT', url, body);\n}\nexport function toQueryString(obj) {\n  const parts = [];\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      parts.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(obj[i]));\n    }\n  }\n  return parts.join(\"&\");\n}\n\nexport function serializeObject<T>(form) {\n  let obj = {};\n  if (typeof form == 'object' && form.nodeName == \"FORM\") {\n    for (let i = 0; i < form.elements.length; i++) {\n      const field = form.elements[i];\n      if (field.name\n        && field.type != 'file'\n        && field.type != 'reset'\n        && field.type != 'submit'\n        && field.type != 'button') {\n        if (field.type == 'select-multiple') {\n          obj[field.name] = '';\n          let tempvalue = '';\n          for (let j = 0; j < form.elements[i].options.length; j++) {\n            if (field.options[j].selected)\n              tempvalue += field.options[j].value + ';';\n          }\n          if (tempvalue.charAt(tempvalue.length - 1) === ';') obj[field.name] = tempvalue.substring(0, tempvalue.length - 1);\n\n        } else if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\n          obj[field.name] = field.value;\n        }\n      }\n    }\n  }\n  return obj as T;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fetch.ts","import app, { Component, on } from 'apprun';\n\nclass HeaderComponent extends Component {\n  state = {}\n  view = state => {\n    const user = state.user\n    return <ul className=\"nav navbar-nav pull-xs-right\">\n      <li className=\"nav-item\">\n        <a className=\"nav-link active\" href=\"#/\">Home</a>\n      </li>\n      {user && <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#/editor\">\n          <i className=\"ion-compose\"></i>&nbsp;New Post\n            </a>\n      </li>\n      }\n      {user && <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#/settings\">\n          <i className=\"ion-gear-a\"></i>&nbsp;Settings\n            </a>\n      </li>\n      }\n      {user ? '' : <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#/login\">Sign In</a>\n      </li>\n      }\n      {user ? '' : <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#/register\">Sign up</a>\n      </li>\n      }\n      {user && <li className=\"nav-item\">\n        <a className=\"nav-link\" href={`#/profile/${user.username}`}>{user.username}</a>\n      </li>\n      }\n      {user && <li className=\"nav-item\">\n        <a className=\"nav-link\" href=\"#/logout\">Sign Out</a>\n      </li>\n      }\n    </ul>\n  }\n\n  @on('#user') setUser = (state, user) => ({ ...state, user })\n  \n}\n\nexport default new HeaderComponent().mount('header')\n\n\n// WEBPACK FOOTER //\n// ./src/components/header.tsx","import app, { Component, on } from 'apprun';\nimport { tags, articles } from '../api';\nimport { IArticle } from '../models';\nimport Articles from './article-list';\nimport Pages from './page-list';\n\nconst PAGE_SIZE = 10\nconst Tag = ({ tag }) => <a href=\"\" className=\"tag-pill tag-default\">{tag}</a>\n\ndeclare interface IState {\n  type: '' | 'feed' | 'tag'\n  articles: Array<IArticle>\n  tags: Array<string>\n  max: number\n  page: number\n}\n\nclass HomeComponent extends Component {\n  state: IState = {\n    type: '',\n    articles: [],\n    tags: [],\n    max: 1,\n    page: 1\n  };\n\n  view = (state) => {\n    if (state instanceof Promise) return;\n    return <div className=\"home-page\">\n      <div className=\"banner\">\n        <div className=\"container\">\n          <h1 className=\"logo-font\">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <div className=\"feed-toggle\">\n              <ul className=\"nav nav-pills outline-active\">\n                <li className=\"nav-item\">\n                  <a className={`nav-link ${app['user'] ? '' : 'disabled'} ${state.type === 'feed' ? 'active' : ''}`}\n                    href=\"#/feed\">Your Feed</a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className={`nav-link ${state.type === '' ? 'active' : ''}`} href=\"#/\">Global Feed</a>\n                </li>\n                {state.tag ?\n                  <li className=\"nav-item\">\n                    <a className={`nav-link ${state.type === 'tag' ? 'active' : ''}`} href={`#/tag/${state.tag}`}>#{state.tag}</a>\n                  </li>\n                  : ''\n                }\n              </ul>\n            </div>\n            <Articles articles={state.articles} id='home' />\n            <Pages max={Math.floor(state.max / PAGE_SIZE)} selected={state.page} onpage={page => this.run('set-page', page)} />\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"sidebar\">\n              <p>Popular Tags</p>\n              <div className=\"tag-list\" onclick={e => this.run('set-tag', e)}>\n                {state.tags.map(tag => <Tag tag={tag} />)}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n\n  updateState = async (state, type: '' | 'feed' | 'tag', page, tag?: string) => {\n    let tagList = state.tags.length\n      ? { tags: state.tags }\n      : await tags.all();\n    \n    page = parseInt(page) || 1;\n    tag = tag || state.tag;\n    const limit = PAGE_SIZE;\n    const offset = (page - 1) * PAGE_SIZE;\n    let feed;\n    switch (type) {\n      case 'feed':\n        feed = await articles.feed({ limit, offset });\n        break;\n      case 'tag':\n        feed = await articles.search({ tag, limit, offset });\n        break;\n      default:\n        feed = await articles.search({ limit, offset });\n        break;\n    }\n    return {\n      ...state,\n      tags: tagList.tags,\n      type, page, tag,\n      articles: feed.articles,\n      max: feed.articlesCount\n    }\n  }\n\n  @on('#/')  root = async (state, page) => await this.updateState(state, '', page)\n\n  @on('#/feed') feed = async (state, page) => await this.updateState(state, 'feed', page)\n\n  @on('#/tag')  tag = async (state, tag, page) => await this.updateState(state, 'tag', page, tag)\n\n  @on('set-page') setPage = async (state, page) => {\n    const t = state.type === 'tag' && state.tag ? `/${state.tag}` : '';\n    history.pushState(null, null, `#/${state.type}${t}/${page}`);\n    return await this.updateState(state, state.type, page, state.tag);\n  }\n\n  @on('set-tag') setTag = async (state, e) => {\n    e.preventDefault();\n    const tag = e.target.textContent;\n    history.pushState(null, null, `#/tag/${tag}/1`);\n    return await this.updateState(state, 'tag', 1, tag);\n  }\n\n  @on('#update-article') updateArticle = (state, article, id) => {\n    state.articles = state.articles.map(a => {\n      return a.slug === article.slug ? article : a;\n    })\n    return id === 'home' ? state : null;\n  }\n}\n\nexport default new HomeComponent().mount('my-app')\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home.tsx","import app, { Component, on } from 'apprun';\nimport { auth, serializeObject, setToken } from '../api'\n\nimport Errors from './error-list';\n\nclass SigninComponent extends Component {\n  state = {}\n\n  view = (state) => {\n    if (!state || state instanceof Promise) return;\n\n    return <div className=\"auth-page\">\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\n            <h1 className=\"text-xs-center\">Sign In</h1>\n            <p className=\"text-xs-center\">\n              <a href=\"#/register\">Need an account?</a>\n            </p>\n\n            {state.errors && <Errors errors={state.errors} />}\n\n            <form onsubmit={e => this.run('sign-in', e)}>\n              <fieldset className=\"form-group\">\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\" name=\"email\" />\n              </fieldset>\n              <fieldset className=\"form-group\">\n                <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\" name=\"password\" />\n              </fieldset>\n              <button className=\"btn btn-lg btn-primary pull-xs-right\">\n                Sign In\n              </button>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  }\n\n  @on('#/login') login = state => ({ ...state, messages: [], returnTo: document.location.hash })\n  \n  @on('#/logout') logout = state => {\n    app.run('#user', null);\n    document.location.hash = '#/';\n  }\n  \n  @on('sign-in') signIn = async (state, e) => {\n    try {\n      e.preventDefault();\n      const session = await auth.signIn(serializeObject(e.target));\n      app.run('#user', session.user);\n      const returnTo: string = (state.returnTo || '').replace(/\\#\\/login\\/?/, '')\n      if (!returnTo)\n        document.location.hash = '#/feed';\n      else {\n        app.run('route', returnTo);\n        history.pushState(null, null, returnTo);\n      }\n    } catch ({ errors }) {\n      return { ...state, errors }\n    }\n  }\n \n  @on('#user') setUser = (state, user) => {\n    setToken(user ? user.token : null);\n    app['user'] = user;\n  }\n}  \n\nexport default new SigninComponent().mount('my-app')\n\n\n// WEBPACK FOOTER //\n// ./src/components/signin.tsx","import app, { Component, on } from 'apprun';\nimport { auth, serializeObject } from '../api'\nimport Errors from './error-list';\n\nclass RegisterComponent extends Component {\n  state = {}\n\n  view = (state) => {\n    if (!state || state instanceof Promise) return;\n\n    return <div className=\"auth-page\">\n      <div className=\"container page\">\n        <div className=\"row\">\n\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\n            <h1 className=\"text-xs-center\">Sign up</h1>\n            <p className=\"text-xs-center\">\n              <a href=\"#/login\">Have an account?</a>\n            </p>\n\n            {state.errors && <Errors errors={state.errors} />}\n\n            <form onsubmit={e => this.run('register', e)}>\n              <fieldset className=\"form-group\">\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\" name=\"username\" />\n              </fieldset>\n              <fieldset className=\"form-group\">\n                <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\" name=\"email\" />\n              </fieldset>\n              <fieldset className=\"form-group\">\n                <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\" name=\"password\" />\n              </fieldset>\n              <button className=\"btn btn-lg btn-primary pull-xs-right\">\n                Sign up\n              </button>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  }\n\n  @on('#/register') register = (state, messages) => ({ ...state, messages })\n  \n  @on('register') submitRegistration = async (state, e) => {\n    try {\n      e.preventDefault();\n      const session = await auth.register(serializeObject(e.target));\n      app.run('#user', session.user);\n      app.run('route', '#/');\n    } catch ({ errors }) {\n      return { ...state, errors }\n    }\n  }\n}\n\nexport default new RegisterComponent().mount('my-app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/register.tsx","import app, { Component, on } from 'apprun';\nimport { IProfile } from '../models';\nimport { articles, profile } from '../api';\nimport Articles from './article-list';\nimport Pages from './page-list';\n\nconst PAGE_SIZE = 10;\n\nclass ProfileComponent extends Component {\n  state = {\n    name: '',\n    type: 'articles',\n    articles: [],\n    page: 1\n  }\n\n  view = (state) => {\n    const profile = state.profile as IProfile;\n    if (!profile) return;\n    return <div className=\"profile-page\">\n      <div className=\"user-info\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n              <img src={profile.image} className=\"user-img\" />\n              <h4>{profile.username}</h4>\n              <p>\n                {profile.bio}\n              </p>\n              <button className=\"btn btn-sm btn-outline-secondary action-btn\"\n                onclick={e => app.run('#toggle-follow', profile, 'profile')}>\n                {profile.following\n                  ? <span><i className=\"ion-minus-round\"></i> Unfollow {profile.username}</span>\n                  : <span><i className=\"ion-plus-round\"></i> Follow {profile.username}</span>\n                }\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-md-10 offset-md-1\">\n            <div className=\"articles-toggle\">\n              <ul className=\"nav nav-pills outline-active\">\n                <li className=\"nav-item\">\n                  <a className={`nav-link ${state.type === 'articles' ? 'active' : ''}`}\n                    href={`#/profile/${profile.username}/articles/1`}>My Articles</a>\n                </li>\n                <li className=\"nav-item\">\n                  <a className={`nav-link ${state.type === 'favorites' ? 'active' : ''}`}\n                    href={`#/profile/${profile.username}/favorites/1`}>Favorited Articles</a>\n                </li>\n              </ul>\n            </div>\n            <Articles articles={state.articles} id='profile' />\n            <Pages max={Math.floor(state.max / PAGE_SIZE)} selected={state.page}\n              onpage={page => this.run('set-page', page)} />\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n\n  updateState = async (state, name, type, page) => {\n    name = name || state.name;\n    type = type || state.type;\n    page = parseInt(page) || state.page;\n    let newState = state;\n    if (name !== state.name) {\n      const profileResult = await profile.get(name);\n      newState = { ...newState, profile: profileResult.profile }\n    }\n    if (name !== state.name || type !== state.type || page !== state.page) {\n      const limit = PAGE_SIZE;\n      const offset = (page - 1) * limit;\n      const articleResult = type === \"favorites\"\n        ? await articles.search({ favorited: name, offset, limit })\n        : await articles.search({ author: name, offset, limit });\n      newState = {\n        ...newState, name, type, page,\n        articles: articleResult.articles,\n        max: articleResult.articlesCount,\n      }\n    }\n    return newState\n  }\n\n  @on('#/profile') root = (state, name, type, page) => this.updateState(state, name, type, page)\n\n  @on('set-page') setPage = (state, page) => {\n    const url = `#/profile/${state.profile.username}/${state.type}/${page}`\n    history.pushState(null, null, url);\n    return this.updateState(state, null, null, page)\n  }\n \n  @on('#update-article') updateArticle = (state, article, id) => {\n    state.articles = state.articles.map(a => {\n      return a.slug === article.slug ? article : a;\n    })\n    return id === 'profile' ? state : null;\n  }\n \n  @on('#update-follow') updateFollow = (state, profile, id) => {\n    state.profile = profile;\n    return id === 'profile' ? state : null;\n  }\n\n  @on('#toggle-follow') toggleFollow = async (state, author: IProfile, id: string) => {\n    if (!app['user']) return app.run('#/login');\n    const result = author.following\n      ? await profile.unfollow(author.username)\n      : await profile.follow(author.username);\n    app.run(`#update-follow`, result.profile, id)\n  }\n}  \n\nexport default new ProfileComponent().mount('my-app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile.tsx","import app, { Component, on } from 'apprun';\nimport { serializeObject, auth } from '../api'\nimport Errors from './error-list';\nimport Modal from './modal';\n\nclass SettingsComponent extends Component {\n  state = {}\n\n  view = (state) => {\n    if (!app['user']) return;\n    const user = app['user'];\n\n    return <div className=\"settings-page\">\n      {\n        state.showModal ? <Modal title='Confirmation'\n          body='Your settings has been updated successfully.'\n          ok='OK' cancel='Cancel'\n          onOK={e => this.run('ok', e)}\n          onCancel={e => this.run('cancel', e)} /> : ''\n      }\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\n            {state.errors && <Errors errors={state.errors} />}\n            <h1 className=\"text-xs-center\">Your Settings</h1>\n            <form onsubmit={e => this.run('submit-settings', e)}>\n              <fieldset>\n                <fieldset className=\"form-group\">\n                  <input className=\"form-control\" type=\"text\" placeholder=\"URL of profile picture\"\n                    name='image' value={user.image} />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\"\n                    name='username' value={user.username} />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <textarea className=\"form-control form-control-lg\" rows=\"8\" placeholder=\"Short bio about you\"\n                    name='bio'>{user.bio}\n                  </textarea>\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\"\n                    name='email' value={user.email} />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input className=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\"\n                    name='password' value={user.password} />\n                </fieldset>\n                <button className=\"btn btn-lg btn-primary pull-xs-right\">\n                  Update Settings\n              </button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n\n\n  @on('#/settings') settings = state => {\n    if (!app['user']) app.run('#/login');\n    return {}\n  }\n\n  @on('submit-settings') submitSettings = async (state, e) => {\n    try {\n      e.preventDefault();\n      const user = serializeObject<any>(e.target);\n      const result = await auth.save(user);\n      app.run('#user', result.user);\n      return { showModal: true }\n    } catch ({ errors }) {\n      return { ...state, errors }\n    }\n  }\n\n  @on('ok, cancel') ok = state => {\n    return { showModel: false }\n    //document.location.hash = `#/profile/${app['user'].username}`;\n  }\n\n}\n\nexport default new SettingsComponent().mount('my-app')\n\n\n// WEBPACK FOOTER //\n// ./src/components/settings.tsx","import app, { Component, on } from 'apprun';\nimport { serializeObject, articles } from '../api'\nimport Errors from './error-list';\n\nclass EditorComponent extends Component {\n  state = {}\n\n  view = (state) => {\n    if (!app['user'] || !state.article) return;\n    const article = state.article;\n    return <div className=\"editor-page\">\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1 col-xs-12\">\n            {state.errors && <Errors errors={state.errors} />}\n            <form onsubmit={e => this.run('submit-article', e)}>\n              {article.slug && <input type=\"hidden\" name=\"slug\" value={article.slug} />}\n              <fieldset>\n                <fieldset className=\"form-group\">\n                  <input type=\"text\" className=\"form-control form-control-lg\" placeholder=\"Article Title\"\n                    name=\"title\" value={article.title} />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input type=\"text\" className=\"form-control\" placeholder=\"What's this article about?\"\n                    name=\"description\" value={article.description} />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <textarea className=\"form-control\" rows=\"8\" placeholder=\"Write your article (in markdown)\" name=\"body\">\n                    {article.body}\n                  </textarea>\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Enter tags\" name=\"tags\"\n                    value={article.tagList.join(', ')} />\n                  <div className=\"tag-list\"></div>\n                </fieldset>\n                <button className=\"btn btn-lg pull-xs-right btn-primary\" type=\"submit\">\n                  Publish Article\n                </button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n\n\n  @on('#/editor') root = async (state, slug) => {\n    if (!app['user']) app.run('#/login');\n    let article;\n    if (slug) {\n      const result = await articles.get(slug);\n      article = result.article\n    }\n    article = article || { title: '', description: '', body: '', tagList: [] };\n    return { article };\n  }\n\n  @on('submit-article') submitArticle = async (state, e) => {\n    try {\n      e.preventDefault();\n      const article = serializeObject<any>(e.target);\n      article.tagList = article.tags.split(',');\n      const result = article.slug\n        ? await articles.update(article)\n        : await articles.create(article)\n      app.run(`#update-article`, result.article, 'editor')\n      document.location.hash = `#/article/${result.article.slug}`;\n    } catch ({ errors }) {\n      return { ...state, errors }\n    }\n  }\n}\n\nexport default new EditorComponent().mount('my-app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/editor.tsx","import app, { Component, on } from 'apprun';\nimport { articles, comments } from '../api';\nimport { IArticle } from '../models';\nimport Comments from './comment-list';\nimport ArticleMeta from './article-meta';\nimport Modal from './modal';\nimport * as marked from 'marked';\n\nclass ArticleComponent extends Component {\n  state = {\n    article: null,\n    comments: []\n  }\n\n  view = (state) => {\n    const article = state.article as IArticle;\n    if (!article) return;\n\n    return <div className=\"article-page\">\n\n      {\n        state.deleting ? <Modal title='Delete Article'\n        body='Are you sure you want to delete this article?'\n        ok='Delete' cancel='No'\n        onOK={e => this.run('ok-delete-article', e)}\n        onCancel={e => this.run('cancel-delete-article', e)} /> : ''\n      }\n\n      <div className=\"banner\">\n        <div className=\"container\">\n          <h1>{article.title}</h1>\n          <ArticleMeta article={article} />\n        </div>\n      </div>\n\n      <div className=\"container page\">\n        <div className=\"row article-content\">\n          <div className=\"col-md-12\">\n            <p>{`_html:${marked(article.body, { sanitize: true })}`}</p>\n            <div className=\"tag-list\"><br />\n              {article.tagList.map(tag =>\n                <li className=\"tag-default tag-pill tag-outline\">\n                  <a href={`#/tag/${tag}`}>{tag} </a>\n                </li>\n              )}\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div className=\"article-actions\">\n          <ArticleMeta article={article} />\n        </div>\n        <Comments comments={state.comments} />\n      </div>\n    </div>\n  }\n\n  @on('#/article') root = async (state, slug) => {\n    let article = state.article as IArticle;\n    let _comments = state.comments;\n    if (!article || article.slug !== slug) {\n      const result = await articles.get(slug);\n      article = result.article;\n      const commentsResponse = await comments.forArticle(article.slug);\n      _comments = commentsResponse.comments;\n    }\n    return { ...state, article, comments: _comments }\n  }\n\n  @on('#new-comment') newComment = async (state, e) => {\n    try {\n      e.preventDefault();\n      const comment = e.target['comment'].value;\n      await comments.create(state.article.slug, { body: comment });\n      const commentsResponse = await comments.forArticle(state.article.slug);\n      return { ...state, comments: commentsResponse.comments }\n    } catch ({ errors }) {\n      return { ...state, errors }\n    }\n  }\n\n  @on('#update-article') updateArticle = (state, article, id) => {\n    state.article = article;\n    return id === 'article' ? state : null;\n  }\n\n  @on('#update-follow') updateFollow = (state, author, id) => {\n    state.article.author = author;\n    return id === 'article' ? state : null;\n  }\n\n  @on('#delete-comment') deleteComment = async (state, comment) => {\n    await comments.delete(this.state.article.slug, comment.id);\n    const commentsResponse = await comments.forArticle(state.article.slug);\n    return { ...state, comments: commentsResponse.comments }\n  }\n\n  @on('#toggle-fav-article') toggleFavArticle = async (state, article: IArticle, id: string) => {\n    if (!app['user']) return app.run('#/login');\n    const result = article.favorited\n      ? await articles.unfavorite(article.slug)\n      : await articles.favorite(article.slug);\n    app.run(`#update-article`, result.article, id)\n  }\n\n  @on('#edit-article') editArticle = (state, article) => {\n    document.location.hash = `#/editor/${article.slug}`;\n  }\n\n  @on('#delete-article') deleteArticle = (state, article) => ({ ...state, deleting: true })\n\n  @on('ok-delete-article') okDelete = (state, e) => {\n    articles.delete(state.article.slug);\n    document.location.hash = '#/';\n    return ({ ...state, deleting: false })\n  }\n\n  @on('cancel-delete-article') cancelDelete = (state, article) => ({ ...state, deleting: false })\n\n}\n\nexport default new ArticleComponent().mount('my-app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/article.tsx","import app from 'apprun';\nimport { IComment, IProfile } from '../models';\nimport * as marked from 'marked';\n\nfunction Comment({ comment }: { comment: IComment }) {\n  return <div className=\"card\">\n    <div className=\"card-block\">\n      <p className=\"card-text\">\n        <p>{`_html:${marked(comment.body, { sanitize: true })}`}</p>\n      </p>\n    </div>\n    <div className=\"card-footer\">\n      <a className=\"comment-author\">\n        <img src={comment.author.image} className=\"comment-author-img\" />\n    </a>\n    &nbsp;\n    <a className=\"comment-author\" href={`#/profile/${comment.author.username}`}>\n      { comment.author.username }\n    </a>\n    <span className=\"date-posted\">\n      { new Date(comment.createdAt).toLocaleString() }\n    </span>\n    { app['user'] && app['user'].username === comment.author.username \n      ? <span className=\"mod-options\">\n          <i className=\"ion-trash-a\" onclick={e=>app.run('#delete-comment', comment)} ></i>\n        </span>\n      : ''}    \n  </div>\n</div>\n}\n\nexport default function ({ comments }: { comments: Array<IComment> }) {\n  const user = app['user'] as IProfile;\n  return <div className=\"row\">\n    <div className=\"col-xs-12 col-md-8 offset-md-2\">\n      {!user\n        ? <p><a href={`#/login/${document.location.hash}`}>Sign in</a> or&nbsp;\n          <a href='#/register'>sign up</a> to add comments on this article.</p>\n        : <form className=\"card comment-form\" onsubmit={e=>app.run('#new-comment', e)}>\n          <div className=\"card-block\">\n            <textarea className=\"form-control\" placeholder=\"Write a comment...\" rows=\"3\" name='comment'></textarea>\n          </div>\n          <div className=\"card-footer\">\n            {user.image\n              ? <img src={user.image} className=\"comment-author-img\" />\n              : <span>@{user.username}</span>\n            }\n            <button className=\"btn btn-sm btn-primary\" type='submit'>\n              Post Comment\n            </button>\n          </div>\n        </form>\n      }\n      {comments.map(comment => <Comment comment={comment} />)}\n    </div>\n  </div>\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/comment-list.tsx","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 19\n// module chunks = 0","import app from 'apprun';\nimport { IArticle } from '../models';\n\nexport default\n  function ArticleMeta({ article }: { article: IArticle }) {\n  const favClass = article.favorited ? \"btn-primary\" : \"btn-outline-primary\";\n  const followClass = article.author.following ? \"btn-secondary\" : \"btn-outline-secondary\";\n  return <div className=\"article-meta\">\n    <a href={article.author.image} ><img src={article.author.image} /></a>\n    <div className=\"info\">\n      <a href={`#/profile/${article.author.username}`} className=\"author\">\n        {article.author.username}\n      </a>\n      <span className=\"date\">{new Date(article.updatedAt).toLocaleString()}</span>\n    </div>\n\n    {app['user'] && app['user'].username === article.author.username\n      ? <span>\n        <button className=\"btn btn-sm btn-outline-secondary\"\n          onclick={e => app.run('#edit-article', article)}>\n          <i className=\"ion-edit\"></i>&nbsp; Edit Article\n          </button>&nbsp;&nbsp;\n          <button className=\"btn btn-sm btn-outline-danger\"\n          onclick={e => app.run('#delete-article', article)}>\n          <i className=\"ion-trash-o\"></i>&nbsp; Delete Article\n              </button>\n      </span>\n      : <span>\n        <button className={`btn btn-sm ${followClass}`}\n          onclick={e => app.run('#toggle-follow', article.author, 'article')}>\n          {article.author.following\n            ? <span><i className=\"ion-minus-round\"></i> Unfollow {article.author.username}</span>\n            : <span><i className=\"ion-plus-round\"></i> Follow {article.author.username}</span>\n          }\n        </button> &nbsp;&nbsp;\n        <button className={`btn btn-sm ${favClass}`}\n          onclick={e => app.run('#toggle-fav-article', article, 'article')}>\n          <i className=\"ion-heart\"></i>\n          &nbsp; Favorite Post <span className=\"counter\">({article.favoritesCount})</span>\n        </button>\n      </span>\n    }\n  </div>\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/article-meta.tsx"],"sourceRoot":""}